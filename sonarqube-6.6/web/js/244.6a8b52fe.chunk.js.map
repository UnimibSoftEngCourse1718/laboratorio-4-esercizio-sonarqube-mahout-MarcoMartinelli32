{"version":3,"sources":["webpack:///js/244.6a8b52fe.chunk.js","webpack:///./src/main/js/apps/portfolio/components/App.tsx","webpack:///./src/main/js/apps/projectActivity/utils.js?1792*","webpack:///./src/main/js/api/time-machine.ts?a111*","webpack:///./src/main/js/components/charts/Histogram.tsx?d8fb*","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx?f388*","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx?8a86*","webpack:///./src/main/js/components/charts/AdvancedTimeline.js?f469*","webpack:///./src/main/js/apps/portfolio/components/RatingFreshness.tsx","webpack:///./src/main/js/apps/portfolio/components/Effort.tsx","webpack:///./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/MainRating.tsx","webpack:///./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","webpack:///./src/main/js/components/preview-graph/PreviewGraph.js?dad5","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltips.js?3573","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.js?4ac8","webpack:///./src/main/js/api/report.ts","webpack:///./src/main/js/apps/portfolio/components/Activity.tsx","webpack:///./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Report.tsx","webpack:///./src/main/js/apps/portfolio/components/SecurityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Subscription.tsx","webpack:///./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","webpack:///./src/main/js/apps/portfolio/components/Summary.tsx","webpack:///./src/main/js/apps/portfolio/components/WorstProjects.tsx","webpack:///./src/main/js/apps/portfolio/utils.ts","webpack:///./src/main/js/apps/portfolio/styles.css","webpack:///./src/main/js/apps/portfolio/styles.css?6b45"],"names":["webpackJsonp","2106","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1__Summary__","n","__WEBPACK_IMPORTED_MODULE_2__Report__","__WEBPACK_IMPORTED_MODULE_3__WorstProjects__","__WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__","__WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__","__WEBPACK_IMPORTED_MODULE_6__SecurityBox__","__WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__","__WEBPACK_IMPORTED_MODULE_8__Activity__","__WEBPACK_IMPORTED_MODULE_9__api_measures__","__WEBPACK_IMPORTED_MODULE_10__api_components__","__WEBPACK_IMPORTED_MODULE_11__utils__","__WEBPACK_IMPORTED_MODULE_12__styles_css__","__WEBPACK_IMPORTED_MODULE_13__helpers_l10n__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","arguments","length","call","App","_super","_this","apply","state","loading","isEmpty","undefined","measures","isNotComputed","componentDidMount","mounted","html","document","querySelector","classList","add","fetchData","componentDidUpdate","prevProps","component","props","componentWillUnmount","remove","setState","Promise","all","key","ps","then","_a","subComponents","components","map","totalSubComponents","paging","total","renderSpinner","className","renderEmpty","renderWhenNotComputed","renderMain","render","2152","historyQueryChanged","prevQuery","nextQuery","graph","generateSeries","measuresHistory","metrics","displayedMetrics","__WEBPACK_IMPORTED_MODULE_0_lodash__","filter","measure","indexOf","metric","isCustomGraph","generateCoveredLinesMetric","find","data","history","analysis","x","date","y","type","Number","name","translatedName","__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__","serie","getAnalysesByVersionByDay","analyses","query","reduce","acc","currentVersion","versionEvent","events","event","category","newVersion","version","byDay","keys","push","day","__WEBPACK_IMPORTED_MODULE_2__helpers_dates__","getTime","toString","matchFilters","from","to","isAfterFrom","isBeforeTo","hasSelectedCategoryEvents","parseQuery","urlQuery","__WEBPACK_IMPORTED_MODULE_1__helpers_query__","customMetrics","parseGraph","project","selectedDate","serializeQuery","serializeUrlQuery","custom_metrics","serializeGraph","id","selected_date","EVENT_TYPES","APPLICATION_EVENT_TYPES","DEFAULT_GRAPH","GRAPH_TYPES","datesQueryChanged","activityQueryChanged","customMetricsChanged","hasDataValues","hasHistoryData","hasHistoryDataValue","selectedDateQueryChanged","splitSeriesInGraphs","getSeriesMetricType","getDisplayedHistoryMetrics","getHistoryMetrics","GRAPHS_METRICS_DISPLAYED","issues","coverage","duplications","GRAPHS_METRICS","concat","some","point","series","uncoveredLines","linesToCover","idx","maxGraph","maxSeries","slice","includes","2163","getTimeMachineData","other","__WEBPACK_IMPORTED_MODULE_0__helpers_request__","join","getAllTimeMachineData","prev","r","result","pageIndex","pageSize","2166","__WEBPACK_IMPORTED_MODULE_1_d3_array__","__WEBPACK_IMPORTED_MODULE_2_d3_scale__","__WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__","DEFAULT_PADDING","Histogram","wrapWithTooltip","element","index","tooltip","yTooltips","overlay","placement","renderBar","xScale","yScale","alignTicks","_b","padding","width","Math","round","range","bandwidth","height","renderValue","yValues","BAR_HEIGHT","dx","dy","renderTick","yTicks","tick","historyTickClass","renderBars","bars","availableWidth","domain","availableHeight","_","rangeRound","transform","2167","LanguageDistribution","getLanguageName","langKey","__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__","lang","__WEBPACK_IMPORTED_MODULE_1_lodash__","languages","distribution","split","tokens","language","lines","parseInt","cutLanguageName","__WEBPACK_IMPORTED_MODULE_3__helpers_measures__","__WEBPACK_IMPORTED_MODULE_2__Histogram__","substr","2168","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1__store_rootReducer__","__WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__","mapStateToProps","2172","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","__WEBPACK_IMPORTED_MODULE_0_react___default","__WEBPACK_IMPORTED_MODULE_1_classnames__","__WEBPACK_IMPORTED_MODULE_1_classnames___default","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_3_d3_array__","__WEBPACK_IMPORTED_MODULE_4_d3_scale__","__WEBPACK_IMPORTED_MODULE_5_d3_shape__","_extends","target","source","_createClass","defineProperties","descriptor","protoProps","staticProps","_ref","a","createElement","AdvancedTimeline","_React$PureComponent","getPrototypeOf","_initialiseProps","scales","getScales","selectedDatePos","getSelectedDatePos","updateTooltipPos","handleZoomUpdate","nextProps","metricType","startDate","endDate","updateTooltip","selectedDateXPos","selectedDateIdx","zoomEnabled","disableZoom","updateZoom","isZoomed","chart-zoomed","renderClipPath","leakPeriodDate","renderLeak","hideGrid","renderHorizontalGrid","hideXAxis","renderXAxisTicks","showAreas","renderAreas","renderLines","showEventMarkers","renderEvents","renderSelectedDate","renderMouseEventsOverlay","PureComponent","defaultProps","eventSize","zoomSpeed","_this2","getRatingScale","getLevelScale","getYScale","flatData","nice","getXScale","_ref2","dateRange","start","end","clamp","maxXRange","firstSerie","findIndex","valueOf","xRange","sort","xPos","getEventMarker","size","half","getMouseOverlayPos","mouseOverlayPos","pos","getBoundingClientRect","handleWheel","evt","preventDefault","_state","parentBbox","mouseXPos","pageX","left","speed","deltaMode","leftPos","deltaY","rightPos","invert","handleMouseMove","handleMouseEnter","mouseOver","handleMouseOut","targetClass","relatedTarget","handleClick","updateSelectedDate","bisectX","right","previousPoint","nextPoint","formatYTick","_state2","hasTicks","ticks","textAnchor","x1","x2","y1","y2","_state3","format","tickFormat","nextTick","yRange","leakWidth","fill","lineGenerator","defined","basisCurve","curve","areaGenerator","y0","_props","_state4","inRangeEvents","offset","_state5","cx","cy","mouseEvents","onWheel","onMouseEnter","onMouseMove","onMouseOut","onClick","2185","RatingFreshness","lastChange","JSON","parse","__WEBPACK_IMPORTED_MODULE_1_react_intl__","defaultMessage","values","rating","__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__","small","__WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__","2197","Effort","effort","metricKey","__WEBPACK_IMPORTED_MODULE_2_react_intl__","__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__","projects","__WEBPACK_IMPORTED_MODULE_1_react_router__","__WEBPACK_IMPORTED_MODULE_6__helpers_urls__","__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__","String","2198","HistoryButtonLink","__WEBPACK_IMPORTED_MODULE_3__helpers_urls__","__WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__","2199","MainRating","__WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__","2200","MeasuresButtonLink","__WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__","2213","__WEBPACK_IMPORTED_MODULE_2_prop_types__","__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__","__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default","__WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__","__WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__","__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__","__WEBPACK_IMPORTED_MODULE_7__helpers_storage__","__WEBPACK_IMPORTED_MODULE_8__helpers_measures__","GRAPH_PADDING","MAX_GRAPH_NB","MAX_SERIES_PER_GRAPH","PreviewGraph","getSeries","tooltipIdx","tooltipXPos","disableHeight","interpolate","formatValue","graphWidth","tooltipPos","tabIndex","role","renderTimeline","renderWhenEmpty","contextTypes","router","_this3","getDisplayedMetrics","myHistory","firstValid","measureHistory","context","pathname","branch","2214","__WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__","__WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__","__WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__","PreviewGraphTooltips","customClass","position","top","long","style","2215","PreviewGraphTooltipsContent","__WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__","2218","getReportStatus","componentKey","catch","__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__","getReportUrl","window","baseUrl","encodeURIComponent","subscribe","unsubscribe","2283","__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__","__WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__","__WEBPACK_IMPORTED_MODULE_3__api_metrics__","__WEBPACK_IMPORTED_MODULE_4__api_time_machine__","__WEBPACK_IMPORTED_MODULE_5__helpers_dates__","__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__","AnyPreviewGraph","Activity","fetchHistory","graphMetrics","timeMachine","history_1","forEach","2284","MaintainabilityBox","lastMaintainabilityChange","rawEffort","__WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__","__WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__","__WEBPACK_IMPORTED_MODULE_2__MainRating__","__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__","__WEBPACK_IMPORTED_MODULE_1__Effort__","2285","ReleasabilityBox","lastReleasabilityChange","__WEBPACK_IMPORTED_MODULE_2__RatingFreshness__","2286","ReliabilityBox","lastReliabilityChange","__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__","__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__","__WEBPACK_IMPORTED_MODULE_4__MainRating__","2287","__WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__","__WEBPACK_IMPORTED_MODULE_2__api_report__","Report","renderHeader","loadStatus","status","canDownload","href","download","canSubscribe","2288","SecurityBox","lastSecurityChange","__WEBPACK_IMPORTED_MODULE_5__MainRating__","__WEBPACK_IMPORTED_MODULE_4__RatingFreshness__","2289","__WEBPACK_IMPORTED_MODULE_1__api_report__","__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__","Subscription","stopLoading","handleSubscription","subscribed","handleSubscribe","e","currentTarget","blur","handleUnsubscribe","getEffectiveFrequencyText","effectiveFrequency","componentFrequency","globalFrequency","renderLoading","renderWhenSubscribed","renderWhenNotSubscribed","componentWillReceiveProps","inner","hasEmail","currentUser","email","2290","__WEBPACK_IMPORTED_MODULE_1__Subscription__","__WEBPACK_IMPORTED_MODULE_2__store_rootReducer__","2291","Summary","ncloc","nclocDistribution","description","__WEBPACK_IMPORTED_MODULE_5__helpers_urls__","__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__","__WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__","2292","WorstProjects","count","maxLoc","projectsPageUrl","__WEBPACK_IMPORTED_MODULE_7__helpers_urls__","refKey","__WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__","qualifier","renderCell","renderNcloc","__WEBPACK_IMPORTED_MODULE_6__helpers_measures__","barWidth","max","2293","convertMeasures","PORTFOLIO_METRICS","SUB_COMPONENTS_METRICS","2653","exports","2712","content","options","locals"],"mappings":"AAAAA,cAAc,MAERC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAAsCJ,EAAoB,GAE1DK,GAD8CL,EAAoBM,EAAEF,GAC3BJ,EAAoB,OAC7DO,EAAwCP,EAAoB,MAC5DQ,EAA+CR,EAAoB,MACnES,EAAkDT,EAAoB,MACtEU,EAAgDV,EAAoB,MACpEW,EAA6CX,EAAoB,MACjEY,EAAoDZ,EAAoB,MACxEa,EAA0Cb,EAAoB,MAC9Dc,EAA8Cd,EAAoB,KAClEe,EAAiDf,EAAoB,IACrEgB,EAAwChB,EAAoB,MAC5DiB,EAA6CjB,EAAoB,MAEjEkB,GADqDlB,EAAoBM,EAAEW,GAC5BjB,EAAoB,IAGxFmB,EAAYC,MAAQA,KAAKD,WAAa,WACtC,GAAIE,GAAgBpB,OAAOqB,iBAAoBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAC5FD,EAAEF,UAAYG,IACb,SAAUD,EAAGC,GACd,IAAK,GAAIC,KAAKD,GACNA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IAG1C,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KACLT,KAAKU,YAAcL,EAFvBJ,EAAcI,EAAGC,GAIjBD,EAAEM,UAAkB,OAANL,EAAazB,OAAO+B,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,QAGnFI,EAAWb,MAAQA,KAAKa,UAAYhC,OAAOiC,QAAU,SAAUC,GAC/D,IAAK,GAAIC,GAAGC,EAAI,EAAG/B,EAAIgC,UAAUC,OAAQF,EAAI/B,EAAG+B,IAAK,CACjDD,EAAIE,UAAUD,EACd,KAAK,GAAIV,KAAKS,GACNnC,OAAO8B,UAAUH,eAAeY,KAAKJ,EAAGT,KAAIQ,EAAER,GAAKS,EAAET,IAGjE,MAAOQ,ICFXM,EAAA,SAAAC,GAAA,QAAAD,KAAA,GAAAE,GAAA,OAAAD,KAAAE,MAAAxB,KAAAkB,YA8IClB,ID9FO,OC9CNuB,GAAKE,OAAmBC,SAAS,GAoDjCH,EAAOI,QAAG,WAAM,WAAgCC,IAA5BL,EAAME,MAASI,cAA0DD,IAArCL,EAAME,MAASI,SAAS,OAEhFN,EAAaO,cAAG,WACd,MAAIP,GAAME,MAASI,cAA0DD,IAAlDL,EAAME,MAASI,SAAsB,oBAqFpEN,EAAA,MA9IiCxB,GAAAsB,EAAiCC,GAIhED,EAAAV,UAAiBoB,kBAAjB,WACM/B,KAAQgC,SAAQ,CACpB,IAAUC,GAAWC,SAAcC,cAAS,OACnCF,IACHA,EAAUG,UAAIC,IACpB,kBACIrC,KACNsC,aAEAjB,EAAAV,UAAkB4B,mBAAlB,SAAmCC,GACpBA,EAAUC,YAASzC,KAAM0C,MAAWD,WAC3CzC,KACNsC,aAGFjB,EAAAV,UAAoBgC,qBAApB,WACM3C,KAAQgC,SAAS,CACrB,IAAUC,GAAWC,SAAcC,cAAS,OACnCF,IACHA,EAAUG,UAAOQ,OACvB,mBAGFvB,EAAAV,UAAS2B,UAAT,cAAAf,GAyBCvB,IAxBKA,MAAS6C,UAAUnB,SAAU,IAC1BoB,QAAIC,KACEnE,EAAAqC,EAAAvB,EAAA,GAAKM,KAAM0C,MAAUD,UAAIO,IAAoBpD,EAAA,GAC7ChB,EAAAqC,EAAAtB,EAAA,GAAKK,KAAM0C,MAAUD,UAAIO,IAAwBpD,EAAA,GAAMqD,GAClE,OAAKC,KACL,SAA0BC,GDyCpB,GCzCJtB,GAAAsB,EAAQ,GAAEC,EAAAD,EAAa,EACf5B,GAASS,SACXT,EAASsB,UACJnB,SAAO,EACNG,SAAiBjD,EAAAqC,EAAArB,EAAA,GAAUiC,GACtBuB,gBAA0BC,WAAIC,IAAC,SAAeb,GAAK,MAAA5B,MAClD4B,GACJZ,SAAiBjD,EAAAqC,EAAArB,EAAA,GAAU6C,EACnCZ,cACgB0B,mBAAeH,EAAOI,OAE5CC,SAEF,WACUlC,EAASS,SACXT,EAASsB,UAAUnB,SACzB,OAUNL,EAAAV,UAAa+C,cAAb,WACS,MACL1E,GAAA,qBAAc2E,UAAoB,qBAChC3E,EAAA,qBAAc2E,UAAc,eAC1B3E,EAAA,mBAAY2E,UAIpB,8BAEAtC,EAAAV,UAAWiD,YAAX,WACS,MACL5E,GAAA,qBAAc2E,UAAe,gBAC3B3E,EAAA,wBAAcJ,EAAAqC,EAAAnB,EAAA,WAAyB,oBACvCd,EAAA,uBAAaJ,EAAAqC,EAAAnB,EAAA,WAGnB,2BAEAuB,EAAAV,UAAqBkD,sBAArB,WACS,MACL7E,GAAA,qBAAc2E,UAAe,gBAC3B3E,EAAA,wBAAcJ,EAAAqC,EAAAnB,EAAA,WAGpB,6BAEAuB,EAAAV,UAAUmD,WAAV,WACU,GAAArB,GAAAzC,KAAA0C,MAAyBD,UAC3BU,EAAAnD,KAA4DyB,MAA1DI,EAAAsB,EAAQtB,SAAEuB,EAAAD,EAAaC,cAAEG,EAAAJ,EAAkCI,kBAEhE,OAAKvD,MAAW2B,UACN3B,KACb4D,cAEQ5D,KAAiB8B,gBACZ9B,KACb6D,wBAGE7E,EAAA,yBACEA,EAAA,qBAAc2E,UAAkB,mBAC9B3E,EAAA,cAAiBK,EAAA,GAAUoD,UAAWA,EAAIO,IAAUnB,SAAeA,IACnE7C,EAAA,cAAeM,EAAA,GAAUmD,UAAWA,EAAIO,IAAUnB,SAAeA,IACjE7C,EAAA,cAAYO,EAAA,GAAUkD,UAAWA,EAAIO,IAAUnB,SAAeA,IAC9D7C,EAAA,cAAmBQ,EAAA,GAAUiD,UAAWA,EAAIO,IAAUnB,SAClDA,SAEqBD,IAAbwB,OACqBxB,IAAjB2B,GAChBvE,EAAA,cAAcI,EAAA,GACHqD,UAAWA,EAAIO,IACXI,cAAeA,EACvBK,MAKfF,MAEAlC,EAAAV,UAAMoD,OAAN,WACU,GAAAtB,GAAAzC,KAAA0C,MAAyBD,UAC3BU,EAAAnD,KAAkCyB,MAAhCC,EAAAyB,EAAOzB,QAAEG,EAAAsB,EAAwBtB,QAEtC,OAASH,GACC1B,KACb0D,gBAGE1E,EAAA,qBAAc2E,UAAoB,qBAChC3E,EAAA,qBAAc2E,UAAoB,qBAChC3E,EAAA,qBAAc2E,UAAY,aAAM3D,KAAoB8D,cAEpD9E,EAAA,uBAAgB2E,UAAqB,uBAC7B3D,KAAU2B,YACX3B,KAAgB8B,iBAAI9C,EAAA,cAAQC,EAAA,GAAUwD,UAAWA,EAAUZ,SAAeA,IAC/E7C,EAAA,cAASS,EAAA,GAAUgD,UAAWA,EAAQO,MACtChE,EAAA,cAAOG,EAAA,GAAUsD,UAK3BA,QACDpB,GA9IqCrC,EAAA,cD+HTL,GAA6B,QAAI,GAIxDqF,KACA,SAAUtF,EAAQC,EAAqBC,GAE7C,YE3GO,SAASqF,GAAoBC,EAAwBC,GAC1D,MAAOD,GAAUE,QAAUD,EAAUC,MA0BhC,QAASC,GACdC,EACAF,EACAG,EACAC,GAEA,MAAIA,GAAiBrD,QAAU,KAGxBvC,EAAAqC,EAAAwD,EAAA,QACLH,EACGI,OAAO,SAAAC,GAAA,MAAWH,GAAiBI,QAAQD,EAAQE,SAAW,IAC9DvB,IAAI,SAAAqB,GACH,GAAuB,oBAAnBA,EAAQE,SAAiCC,EAAcV,GACzD,MAAOW,GAA2BJ,EAASL,EAE7C,IAAMO,GAASN,EAAQS,KAAK,SAAAH,GAAA,MAAUA,GAAO7B,MAAQ2B,EAAQE,QAC7D,QACEI,KAAMN,EAAQO,QAAQ5B,IAAI,SAAA6B,GAAA,OACxBC,EAAGD,EAASE,KACZC,EAAGT,GAA0B,UAAhBA,EAAOU,KAAmBJ,EAASpG,MAAQyG,OAAOL,EAASpG,UAE1E0G,KAAMd,EAAQE,OACda,eAAgBb,EAASjG,EAAAqC,EAAA0E,EAAA,wBAAuBd,GAAUF,EAAQE,OAClEU,KAAMV,EAASA,EAAOU,KAAO,SAGnC,SAAAK,GAAA,MAASpB,GAAiBI,QAAQgB,EAAMH,QAcrC,QAASI,GAA0BC,EAAiCC,GACzE,MAAOD,GAASE,OAAO,SAACC,EAAKd,GAC3B,GAAIe,GAAiBD,EAAIA,EAAI9E,OAAS,GAChCgF,EAAehB,EAASiB,OAAOpB,KAAK,SAAAqB,GAAA,MAA4B,YAAnBA,EAAMC,UACzD,IAAIH,EAAc,CAChB,GAAMI,IAAeC,QAASL,EAAaV,KAAMzC,IAAKmD,EAAanD,IAAKyD,WACnEP,GAAkBrH,OAAO6H,KAAKR,EAAeO,OAAOtF,OAAS,EAChE8E,EAAIU,KAAKJ,GAETN,EAAIA,EAAI9E,OAAS,GAAKoF,EAExBL,EAAiBK,MACPL,KAEVA,GAAmBM,QAAS,KAAMxD,IAAK,KAAMyD,UAC7CR,EAAIU,KAAKT,GAGX,IAAMU,GAAMhI,EAAAqC,EAAA4F,EAAA,YAAWjI,EAAAqC,EAAA4F,EAAA,WAAU1B,EAASE,OACvCyB,UACAC,WAECC,GAAe,CACnB,IAAIjB,EAAMO,UAAYP,EAAMkB,MAAQlB,EAAMmB,GAAI,CAC5C,GAAMC,IAAepB,EAAMkB,MAAQ9B,EAASE,MAAQU,EAAMkB,KACpDG,GAAcrB,EAAMmB,IAAM/B,EAASE,MAAQU,EAAMmB,GACjDG,GACHtB,EAAMO,UAAgF,MAApEnB,EAASiB,OAAOpB,KAAK,SAAAqB,GAAA,MAASA,GAAMC,WAAaP,EAAMO,UAC5EU,GAAeG,GAAeC,GAAcC,EAS9C,MANIL,KACGd,EAAeO,MAAMG,KACxBV,EAAeO,MAAMG,OAEvBV,EAAeO,MAAMG,GAAKD,KAAKxB,IAE1Bc,OAmBJ,QAASqB,GAAWC,GACzB,OACEjB,SAAU1H,EAAAqC,EAAAuG,EAAA,GAAcD,EAAA,UACxBE,cAAe7I,EAAAqC,EAAAuG,EAAA,GAAaD,EAAA,eAA4BC,EAAA,GACxDP,KAAMrI,EAAAqC,EAAAuG,EAAA,GAAYD,EAAA,MAClBnD,MAAOsD,EAAWH,EAAA,OAClBI,QAAS/I,EAAAqC,EAAAuG,EAAA,GAAcD,EAAA,IACvBL,GAAItI,EAAAqC,EAAAuG,EAAA,GAAYD,EAAA,IAChBK,aAAchJ,EAAAqC,EAAAuG,EAAA,GAAYD,EAAA,gBAIvB,QAASM,GAAe9B,GAC7B,MAAOnH,GAAAqC,EAAAuG,EAAA,IACLlB,SAAU1H,EAAAqC,EAAAuG,EAAA,GAAgBzB,EAAMO,UAChCW,KAAMrI,EAAAqC,EAAAuG,EAAA,GAAczB,EAAMkB,MAC1BU,QAAS/I,EAAAqC,EAAAuG,EAAA,GAAgBzB,EAAM4B,SAC/BT,GAAItI,EAAAqC,EAAAuG,EAAA,GAAczB,EAAMmB,MAIrB,QAASY,GAAkB/B,GAChC,MAAOnH,GAAAqC,EAAAuG,EAAA,IACLlB,SAAU1H,EAAAqC,EAAAuG,EAAA,GAAgBzB,EAAMO,UAChCyB,eAAgBnJ,EAAAqC,EAAAuG,EAAA,GAAqBzB,EAAM0B,eAC3CR,KAAMrI,EAAAqC,EAAAuG,EAAA,GAAczB,EAAMkB,MAC1B7C,MAAO4D,EAAejC,EAAM3B,OAC5B6D,GAAIrJ,EAAAqC,EAAAuG,EAAA,GAAgBzB,EAAM4B,SAC1BT,GAAItI,EAAAqC,EAAAuG,EAAA,GAAczB,EAAMmB,IACxBgB,cAAetJ,EAAAqC,EAAAuG,EAAA,GAAczB,EAAM6B,gBF7CRhJ,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOwJ,KACpEvJ,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOyJ,KACpExJ,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAO0J,KACpEzJ,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAO2J,KAGpE1J,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAO4J,KACpE3J,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAO6J,KACpE5J,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAO8J,KACpE7J,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAO+J,KACpE9J,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOgK,KACpE/J,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOiK,KAClEjK,EAAuB,EAAIsF,EAC7BrF,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOmG,KACpElG,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOkK,KAElElK,EAAuB,EAAI0F,EAC7BzF,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOmK,KACpElK,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOoK,KAClEpK,EAAuB,EAAIkH,EAC7BjH,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOqK,KACpEpK,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOsK,KAClEtK,EAAuB,EAAI2I,EAC3B3I,EAAuB,EAAIkJ,EAC3BlJ,EAAuB,EAAImJ,CACvC,IAAIrD,GAAuC7F,EAAoB,GAE3D4I,GAD+C5I,EAAoBM,EAAEuF,GACtB7F,EAAoB,MACnEiI,EAA+CjI,EAAoB,IEjN5F+G,EAAA/G,EAAA,GAoCauJ,GAAe,UAAW,eAAgB,kBAAmB,SAC7DC,GAA2B,eAAgB,SAC3CC,EAAgB,SAChBC,GAAe,SAAU,WAAY,eAAgB,UACrDY,GACXC,QAAS,OAAQ,cAAe,mBAChCC,UAAW,kBAAmB,kBAC9BC,cAAe,mBAAoB,UAExBC,GACXH,OAAQD,EAAA,OAAmCK,QACzC,qBACA,kBACA,iBAEFH,SAAUF,EAAA,SAAqCK,QAAQ,aACvDF,aAAcH,EAAA,aAAyCK,QAAQ,8BAGpDhB,EAAoB,SAACrE,EAAwBC,GAAzB,OAC9BvF,EAAAqC,EAAAwD,EAAA,SAAQP,EAAU+C,KAAM9C,EAAU8C,QAAUrI,EAAAqC,EAAAwD,EAAA,SAAQP,EAAUgD,GAAI/C,EAAU+C,KAElEsB,EAAuB,SAACtE,EAAwBC,GAAzB,MAClCD,GAAUoC,WAAanC,EAAUmC,UAAYiC,EAAkBrE,EAAWC,IAE/DsE,EAAuB,SAACvE,EAAwBC,GAAzB,OACjCvF,EAAAqC,EAAAwD,EAAA,SAAQP,EAAUuD,cAAetD,EAAUsD,gBAEjCiB,EAAgB,SAAC9C,GAAD,MAC3BA,GAAMX,KAAKuE,KAAK,SAAAC,GAAA,MAASA,GAAMnE,GAAiB,IAAZmE,EAAMnE,KAE/BqD,EAAiB,SAACe,GAAD,MAC5BA,GAAOF,KAAK,SAAA5D,GAAA,MAASA,GAAMX,MAAQW,EAAMX,KAAK9D,OAAS,KAE5CyH,EAAsB,SAACc,GAAD,MACjCA,GAAOF,KAAK,SAAA5D,GAAA,MAASA,GAAMX,MAAQW,EAAMX,KAAK9D,OAAS,GAAKuH,EAAc9C,MAM/Dd,EAAgB,SAACV,GAAD,MAAmC,WAAVA,GAEzCyE,EAA2B,SAAC3E,EAAwBC,GAAzB,OACrCvF,EAAAqC,EAAAwD,EAAA,SAAQP,EAAU0D,aAAczD,EAAUyD,eAEhC7C,EAA6B,SACxC4E,EACArF,GAEA,GAAMsF,GAAetF,EAAgBU,KAAK,SAAAL,GAAA,MAA8B,mBAAnBA,EAAQE,QAC7D,QACEI,KAAM2E,EACFD,EAAezE,QAAQ5B,IAAI,SAAC6B,EAAU0E,GAAX,OACzBzE,EAAGD,EAASE,KACZC,EAAGE,OAAOoE,EAAa1E,QAAQ2E,GAAK9K,OAASyG,OAAOL,EAASpG,aAGnE0G,KAAM,gBACNC,eAAgB9G,EAAAqC,EAAA0E,EAAA,WAAU,gDAC1BJ,KAAM,QAmCGuD,EAAsB,SACjCY,EACAI,EACAC,GAHiC,MAKjCnL,GAAAqC,EAAAwD,EAAA,SAAQ7F,EAAAqC,EAAAwD,EAAA,SAAQiF,EAAQ,SAAA9D,GAAA,MAASA,GAAML,OAAO,SAAAA,GAAA,MAAQ3G,GAAAqC,EAAAwD,EAAA,OAAMc,EAAMwE,KAAYC,MAAM,EAAGF,IAE5Ef,EAAsB,SAACW,GAAD,MACjCA,GAAOvI,OAAS,EAAIuI,EAAO,GAAGnE,KAAO,OA2C1ByD,EAA6B,SACxC5E,EACAqD,GAFwC,MAGpC3C,GAAcV,GAASqD,EAAgByB,EAAyB9E,IAEzD6E,EAAoB,SAAC7E,EAAqBqD,GAAtB,MAC/B3C,GAAcV,GAASqD,EAAgB6B,EAAelF,IAElDsD,EAAa,SAAC3I,GAClB,GAAMqF,GAAQxF,EAAAqC,EAAAuG,EAAA,GAAczI,EAC5B,OAAOuJ,GAAY2B,SAAS7F,GAASA,EAAQiE,GAGzCL,EAAiB,SAACjJ,GAAD,MAA0BA,KAAUsJ,MAAgBzG,GAAY7C,IFuQjFmL,KACA,SAAUxL,EAAQC,EAAqBC,GAE7C,YGhbM,SAAAuL,GACa1H,EACA8B,EAC8C6F,GAEzD,MAAQxL,GAAAqC,EAAAoJ,EAAA,SAA+B,+BAAAxJ,GAClC4B,YACF8B,QAASA,EAAO+F,OACrBrH,GAAM,KAGZmH,IAEM,QAAAG,GACa9H,EACK8B,EAC4B6F,EACxBI,GAEpB,MAAAL,GAA6B1H,EAAS8B,EAAA1D,KAAYuJ,GAAInH,GAAS,OAAKC,KAAC,SAACuH,GAC1E,GAAYC,GAAAF,GAEE3I,SAAA2I,EAAe3I,SAAIyB,IAAC,SAAQqB,EAAKkF,GAAK,MAAAhJ,MAClC8D,GACHO,QAASP,EAAQO,QAAOqE,OAAEkB,EAAS5I,SAAKgI,GAC/C3E,aACI1B,OAAGiH,EACVjH,QACCiH,CAEH,OAAOC,GAAOlH,OAAUmH,UAASD,EAAOlH,OAASoH,UAAUF,EAAOlH,OAAOC,MAE5EiH,EAC4BH,EACjB9H,EACF8B,EAAA1D,KACGuJ,GAAG7J,EAAQmK,EAAOlH,OAAUmH,UAAI,IAG9CD,KH2Y+B/L,EAAuB,EAAI4L,CACvC,IAAIF,GAAiDzL,EAAoB,IAG1FiC,EAAWb,MAAQA,KAAKa,UAAYhC,OAAOiC,QAAU,SAAUC,GAC/D,IAAK,GAAIC,GAAGC,EAAI,EAAG/B,EAAIgC,UAAUC,OAAQF,EAAI/B,EAAG+B,IAAK,CACjDD,EAAIE,UAAUD,EACd,KAAK,GAAIV,KAAKS,GACNnC,OAAO8B,UAAUH,eAAeY,KAAKJ,EAAGT,KAAIQ,EAAER,GAAKS,EAAET,IAGjE,MAAOQ,KA0CL8J,KACA,SAAUnM,EAAQC,EAAqBC,GAE7C,YACqB,IAAII,GAAsCJ,EAAoB,GAE1DkM,GAD8ClM,EAAoBM,EAAEF,GAC3BJ,EAAoB,MAC7DmM,EAAyCnM,EAAoB,KAC7DoM,EAAkDpM,EAAoB,IAG3FmB,EAAYC,MAAQA,KAAKD,WAAa,WACtC,GAAIE,GAAgBpB,OAAOqB,iBAAoBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAC5FD,EAAEF,UAAYG,IACb,SAAUD,EAAGC,GACd,IAAK,GAAIC,KAAKD,GACNA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IAG1C,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KACLT,KAAKU,YAAcL,EAFvBJ,EAAcI,EAAGC,GAIjBD,EAAEM,UAAkB,OAANL,EAAazB,OAAO+B,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,QIxflEwK,GAAM,GAAI,GAAI,GAAM,IAKzCC,EAAA,SAAA5J,GAAA,QAAA4J,KJkhBQ,MAAkB,QAAX5J,GAAmBA,EAAOE,MAAMxB,KAAMkB,YI1arDlB,KAAA,MAxGuCD,GAAAmL,EAA0B5J,GAC/D4J,EAAAvK,UAAewK,gBAAf,SAAwCC,EAAeC,GACrD,GAAaC,GAAOtL,KAAM0C,MAAU6I,WAAQvL,KAAM0C,MAAU6I,UAAQF,EAC9D,OAAWC,GACftM,EAAA,cAAQgM,EAAA,GAAIhI,IAAOqI,EAASG,QAASF,EAAWG,UAAM,OAGpDL,GAGNA,GAEAF,EAAAvK,UAAS+K,UAAT,SAAmBrL,EAAegL,EAAgBM,EAAgBC,GAC1D,GAAAzI,GAAAnD,KAAsD0C,MAApDmJ,EAAA1I,EAAU0I,WAAEC,EAAA3I,EAAyB4I,QAAzBA,MAAA,KAAAD,EAAAb,EAAyCa,EAElDE,EAAOC,KAAMC,MAAOP,EAAItL,IAA6B,EACzD+E,EAASuG,EAAQQ,QAAM,IAAWN,EAAUE,EAAG,GAAM,GACrDzG,EAAO2G,KAAMC,MAAON,EAAQP,GAASO,EAAYQ,YAAM,EAExD,OAACpN,GAAA,sBAAe2E,UAAgB,gBAAEyB,EAAGA,EAAGE,EAAGA,EAAO0G,MAAOA,EAAQK,OAzBrD,MA4BpBnB,EAAAvK,UAAW2L,YAAX,SAAqBjM,EAAegL,EAAgBM,EAAgBC,GAC5D,GAAAzI,GAAAnD,KAA+D0C,MAA7DmJ,EAAA1I,EAAU0I,WAAEC,EAAA3I,EAAyB4I,QAAzBA,MAAA,KAAAD,EAAAb,EAAyBa,EAAES,EAAApJ,EAAuBoJ,QAE3DxN,EAAUwN,GAAWA,EAAQlB,EAErC,KAAQtM,EACH,MACR,KAEA,IAAOqG,GAASuG,EAAMtL,IAAWwL,EAAUE,EAAG,GAAM,GAC7CzG,EAAO2G,KAAMC,MAAON,EAAQP,GAASO,EAAYQ,YAAI,EAAaI,EAEnE,OAAKxM,MAAgBmL,gBACzBnM,EAAA,sBAAe2E,UAAiC,iCAAEyB,EAAGA,EAAGE,EAAGA,EAAImH,GAAM,MAAGC,GAAQ,SAEzE3N,GAGXsM,IAEAH,EAAAvK,UAAUgM,WAAV,SAAwBtB,EAAgBM,EAAgBC,GAChD,GAAAzI,GAAAnD,KAAmC0C,MAAjCmJ,EAAA1I,EAAU0I,WAAEe,EAAAzJ,EAAsByJ,OAEhCC,EAASD,GAAUA,EAAQvB,EAElC,KAAOwB,EACF,MACR,KAEA,IAAOzH,GAASuG,EAAQQ,QAAI,GACrB7G,EAAO2G,KAAMC,MAAON,EAAQP,GAASO,EAAYQ,YAAI,EAAaI,GACnDM,EAAajB,EAAyB,uBAAoB,gBAEzE,OACL7M,GAAA,sBACW2E,UAAmB,kBAAmBmJ,EAC9C1H,EAAGA,EACHE,EAAGA,EACFmH,GAAYZ,EAAI,EAAS,OACzBa,GAAQ,SAIhBG,IAEA3B,EAAAvK,UAAUoM,WAAV,SAAyBpB,EAAgBC,GAAzC,GAAArK,GAcCvB,IAbQ,OAAAhB,GAAA,uBAAAgB,KAEQ0C,MAAKsK,KAAI1J,IAAC,SAAEjD,EAAOgL,GACrB,MACLrM,GAAA,mBAAMgE,IAAOqI,GACN9J,EAAUmK,UAAErL,EAAOgL,EAAQM,EAASC,GACpCrK,EAAY+K,YAAEjM,EAAOgL,EAAQM,EAASC,GACtCrK,EAAWoL,WAAMtB,EAAQM,EAGpCC,QAKNV,EAAAvK,UAAMoD,OAAN,WACQ,GAAAZ,GAAAnD,KAA+D0C,MAA7DsK,EAAA7J,EAAI6J,KAAEhB,EAAA7I,EAAK6I,MAAEK,EAAAlJ,EAAMkJ,OAAEP,EAAA3I,EAAyB4I,QAAzBA,MAAA,KAAAD,EAAAb,EAAyCa,EAElDmB,EAAQjB,EAAUD,EAAG,GAAUA,EAAI,GAC3CJ,EAAwB/M,EAAAqC,EAAA8J,EAAA,eAC3BmC,QAAG,EAAKtO,EAAAqC,EAAA6J,EAAA,KAASkC,KAClBb,OAAG,EAAmBc,IAETE,EAASd,EAAUN,EAAG,GAAUA,EAAI,GAC7CH,EAAAhN,EAAAqC,EAAA8J,EAAA,aACHmC,OAAAF,EAAS1J,IAAC,SAAE8J,EAAO/B,GAAK,MAAKA,MACzBgC,YAAG,EAAoBF,GAE7B,OACLnO,GAAA,qBAAc2E,UAAY,YAAMqI,MAAMhM,KAAM0C,MAAMsJ,MAAQK,OAAMrM,KAAM0C,MAAO2J,QAC3ErN,EAAA,mBAAYsO,UAAE,cAAiBtN,KAAM0C,MAAWmJ,WAAI,EAAUE,EAAG,SAAYA,EAAG,GAAG,KAC5E/L,KAAW+M,WAAOpB,EAI/BC,MACDV,GAxG2ClM,EAAA,cJolBfL,GAAuB,EAAI,GAIlD4O,KACA,SAAU7O,EAAQC,EAAqBC,GAE7C,YKnmBc,SAAA4O,GAA2C9K,GA0BvD,QAAA+K,GAAwCC,GACnC,GAAsB,WAAdA,EACH,MAAU9O,GAAAqC,EAAA0M,EAAA,WAClB,UACA,IAAUC,GAAOhP,EAAAqC,EAAA4M,EAAA,MAAMnL,EAAUoL,WAAO9K,IAAa0K,GAC/C,OAAKE,GAAOA,EAAKnI,KACzBiI,EA/BA,GAAgBK,GAAArL,EAAqBqL,aAAMC,MAAK,KAAI1K,IAAC,SAAKmG,GACxD,GAAYwE,GAAQxE,EAAMuE,MAAM,IAC1B,QAAWE,SAAQD,EAAG,GAAOE,MAAUC,SAAOH,EAAG,GACzD,MAEYF,GAAAnP,EAAAqC,EAAA4M,EAAA,QAAsBE,EAAE,SAAC1N,GAAI,OAAEA,EAAM8N,OAEjD,IAAUlJ,GAAA8I,EAAmBzK,IAAC,SAACjD,GAAI,MAACA,GAAM8N,QAC9BvB,EAAAmB,EAAmBzK,IAAC,SAACjD,GAAI,MAAeoN,GAAEpN,EAAU6N,YAAK5K,IAAkB+K,GACxE9C,EAAAwC,EAAmBzK,IAAC,SAACjD,GAAI,MAAEA,GAAM8N,MAAO,IAAgBvP,EAAAqC,EAAAqN,EAAA,eAAEjO,EAAM8N,MAAQ,OAAM,KAChF5B,EAAAwB,EAAmBzK,IAAC,SAACjD,GAAI,MAAazB,GAAAqC,EAAAqN,EAAA,eAAEjO,EAAM8N,MAAc,cAElE,OACLnP,GAAA,cAAUuP,EAAA,GACE1C,WAAOnJ,EAAWmJ,WACxBmB,KAAM/H,EACJoH,OAA0B,GAAZ0B,EAAO5M,OACpB4K,SAAI,EAAI,GAAG,EAAK,IACjBa,OAAQA,EACLrB,UAAWA,EACbgB,QAASA,EACXP,MAAOtJ,EAEdsJ,QAWJ,QAAAqC,GAAqC5I,GAC7B,MAAKA,GAAOtE,OAAK,GAAUsE,EAAO+I,OAAE,EAAI,GAAK,MACrD/I,EL+jBiC9G,EAAuB,EAAI6O,CACvC,IAAIxO,GAAsCJ,EAAoB,GAE1DiP,GAD8CjP,EAAoBM,EAAEF,GAC7BJ,EAAoB,IAE3D2P,GAD+C3P,EAAoBM,EAAE2O,GAC1BjP,EAAoB,OAC/D0P,EAAkD1P,EAAoB,IACtE+O,EAA8C/O,EAAoB,IA8DrF6P,KACA,SAAU/P,EAAQC,EAAqBC,GAE7C,YACqB,IAAI8P,GAA4C9P,EAAoB,IAChE+P,EAAmD/P,EAAoB,IACvEgQ,EAAsDhQ,EAAoB,MMzrB9EiQ,EAAG,SAAWpN,GAAK,OAC7BqM,UAAclP,EAAAqC,EAAA0N,EAAA,cACvBlN,IAEF9C,GAAA,EAAsBC,EAAAqC,EAAAyN,EAAA,SAAgCG,GAAuBD,EAAA,INutBvEE,KACA,SAAUpQ,EAAQC,EAAqBC,GAE7C,YAcA,SAASmQ,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMhO,GAAQ,IAAKgO,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOjO,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BgO,EAAPhO,EAElO,QAASkO,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5O,UAAY9B,OAAO+B,OAAO4O,GAAcA,EAAW7O,WAAaD,aAAe3B,MAAOwQ,EAAUE,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeH,IAAY3Q,OAAOqB,eAAiBrB,OAAOqB,eAAeqP,EAAUC,GAAcD,EAASpP,UAAYqP,GAjB5c,GAAIxQ,GAAsCJ,EAAoB,GAC1DgR,EAA8ChR,EAAoBM,EAAEF,GACpE6Q,EAA2CjR,EAAoB,GAC/DkR,EAAmDlR,EAAoBM,EAAE2Q,GACzEE,EAAuCnR,EAAoB,GAE3DoR,GAD+CpR,EAAoBM,EAAE6Q,GAC5BnR,EAAoB,MAC7DqR,EAAyCrR,EAAoB,KAC7DsR,EAAyCtR,EAAoB,KAClFuR,EAAWtR,OAAOiC,QAAU,SAAUsP,GAAU,IAAK,GAAInP,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIoP,GAASnP,UAAUD,EAAI,KAAK,GAAI+B,KAAOqN,GAAcxR,OAAO8B,UAAUH,eAAeY,KAAKiP,EAAQrN,KAAQoN,EAAOpN,GAAOqN,EAAOrN,IAAY,MAAOoN,IAEnPE,EAAe,WAAc,QAASC,GAAiBH,EAAQ1N,GAAS,IAAK,GAAIzB,GAAI,EAAGA,EAAIyB,EAAMvB,OAAQF,IAAK,CAAE,GAAIuP,GAAa9N,EAAMzB,EAAIuP,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAM7Q,OAAOC,eAAesR,EAAQI,EAAWxN,IAAKwN,IAAiB,MAAO,UAAUvB,EAAawB,EAAYC,GAAiJ,MAA9HD,IAAYF,EAAiBtB,EAAYtO,UAAW8P,GAAiBC,GAAaH,EAAiBtB,EAAayB,GAAqBzB,MAuF5hB0B,EOnVSf,EAAAgB,EAAAC,cAAA,YArbQC,EP0wBE,SAAUC,GOhwB/B,QAAAD,GAAYpO,GAAoBqM,EAAA/O,KAAA8Q,EAAA,IAAAvP,GAAA4N,EAAAnP,MAAA8Q,EAAA3Q,WAAAtB,OAAAmS,eAAAF,IAAA1P,KAAApB,KACxB0C,GADwBuO,GAAA7P,KAAAG,EAE9B,IAAM2P,GAAS3P,EAAK4P,UAAUzO,GACxB0O,EAAkB7P,EAAK8P,mBAAmBH,EAAOvF,OAAQjJ,EAAMkF,aAHvC,OAI9BrG,GAAKE,MAAL5C,OAAAiC,UAAkBoQ,EAAWE,GAC7B7P,EAAK+P,iBAAmB1S,EAAAqC,EAAA8O,EAAA,UAASxO,EAAK+P,iBAAkB,IACxD/P,EAAKgQ,iBAAmB3S,EAAAqC,EAAA8O,EAAA,UAASxO,EAAKgQ,iBAAkB,IAN1BhQ,EP40BhC,MA3EA+N,GAAUwB,EAAkBC,GAmB5BT,EAAaQ,IACX9N,IAAK,4BACLjE,MAAO,SO7wBiByS,GACxB,GAAIN,UACAE,QAgBJ,IAdEI,EAAUC,aAAezR,KAAK0C,MAAM+O,YACpCD,EAAUE,YAAc1R,KAAK0C,MAAMgP,WACnCF,EAAUG,UAAY3R,KAAK0C,MAAMiP,SACjCH,EAAUxF,QAAUhM,KAAK0C,MAAMsJ,OAC/BwF,EAAUzF,UAAY/L,KAAK0C,MAAMqJ,SACjCyF,EAAUnF,SAAWrM,KAAK0C,MAAM2J,QAChCmF,EAAU9H,SAAW1J,KAAK0C,MAAMgH,SAEhCwH,EAASlR,KAAKmR,UAAUK,GACO,MAA3BxR,KAAKyB,MAAMmG,eACbwJ,EAAkBpR,KAAKqR,mBAAmBH,EAAOvF,OAAQ3L,KAAKyB,MAAMmG,iBAInEhJ,EAAAqC,EAAA8O,EAAA,SAAQyB,EAAU5J,aAAc5H,KAAK0C,MAAMkF,cAAe,CAC7D,GAAM+D,GAASuF,EAASA,EAAOvF,OAAS3L,KAAKyB,MAAMkK,MACnDyF,GAAkBpR,KAAKqR,mBAAmB1F,EAAQ6F,EAAU5J,eAG1DsJ,GAAUE,KACZpR,KAAK6C,SAALhE,OAAAiC,UAAoBoQ,MAAmBE,QAEnCA,GAAmBI,EAAUI,eAC/BJ,EAAUI,cACRR,EAAgBxJ,aAChBwJ,EAAgBS,iBAChBT,EAAgBU,qBPuwBtB9O,IAAK,SACLjE,MAAO,WOrYP,IAAKiB,KAAK0C,MAAMsJ,QAAUhM,KAAK0C,MAAM2J,OACnC,MAAAsE,EAEF,IAAMoB,IAAe/R,KAAK0C,MAAMsP,aAAwC,MAAzBhS,KAAK0C,MAAMuP,WACpDC,EAAWlS,KAAK0C,MAAMgP,WAAa1R,KAAK0C,MAAMiP,OACpD,OACE/B,GAAAgB,EAAAC,cAAA,OACElN,UAAWmM,IAAW,cAAgBqC,eAAgBD,IACtDlG,MAAOhM,KAAK0C,MAAMsJ,MAClBK,OAAQrM,KAAK0C,MAAM2J,QAClB0F,GAAe/R,KAAKoS,iBACrBxC,EAAAgB,EAAAC,cAAA,KAAGvD,UAAA,aAAwBtN,KAAK0C,MAAMqJ,QAAQ,GAA3C,KAAkD/L,KAAK0C,MAAMqJ,QAAQ,GAArE,KAC6B,MAA7B/L,KAAK0C,MAAM2P,gBAA0BrS,KAAKsS,cACzCtS,KAAK0C,MAAM6P,UAAYvS,KAAKwS,wBAC5BxS,KAAK0C,MAAM+P,WAAazS,KAAK0S,mBAC9B1S,KAAK0C,MAAMiQ,WAAa3S,KAAK4S,cAC7B5S,KAAK6S,cACL7S,KAAK0C,MAAMoQ,kBAAoB9S,KAAK+S,eACpC/S,KAAKgT,qBACLhT,KAAKiT,yBAAyBlB,SP+YhCjB,GOt1BqClB,EAAAgB,EAAMsC,cAA/BpC,GAIZqC,cACLC,UAAW,EACXrH,SAAU,GAAI,GAAI,GAAI,IACtBsH,UAAW,EPw1Bf,IAAIpC,GAAmB,WACrB,GAAIqC,GAAStT,IAEbA,MO3yBAuT,eAAiB,SAACpG,GAAD,MACfvO,GAAAqC,EAAAgP,EAAA,cACG/C,QAAQ,EAAG,EAAG,EAAG,EAAG,IACpBf,OAAOgB,EAAiB,KP4yB7BnN,KO1yBAwT,cAAgB,SAACrG,GAAD,MACdvO,GAAAqC,EAAAgP,EAAA,cACG/C,QAAQ,QAAS,OAAQ,OACzBf,OAAOgB,EAAiB,KP2yB7BnN,KOzyBAyT,UAAY,SAAC/Q,EAAoByK,EAA+BuG,GAC9D,MAAyB,WAArBhR,EAAM+O,WACD6B,EAAKC,eAAepG,GACG,UAArBzK,EAAM+O,WACR6B,EAAKE,cAAcrG,GAEnBvO,EAAAqC,EAAAgP,EAAA,eACJ9D,OAAOgB,EAAiB,IACxBD,QAAQ,EAAGtO,EAAAqC,EAAA+O,EAAA,KAAI0D,EAAU,SAAArT,GAAA,MAAKA,GAAEiF,KAAM,IACtCqO,QP4yBP3T,KOxyBA4T,UAAY,SAAAC,EAEV5G,EACAyG,GACG,GAHDhC,GAGCmC,EAHDnC,UAAWC,EAGVkC,EAHUlC,QAIPmC,EAAYlV,EAAAqC,EAAA+O,EAAA,QAAO0D,EAAU,SAAArT,GAAA,MAAKA,GAAE+E,IACpC2O,EAAQrC,GAAaA,EAAYoC,EAAU,GAAKpC,EAAYoC,EAAU,GACtEE,EAAMrC,GAAWA,EAAUmC,EAAU,GAAKnC,EAAUmC,EAAU,GAC9DnI,EAAS/M,EAAAqC,EAAAgP,EAAA,aACZ/C,OAAOtO,EAAAqC,EAAA8O,EAAA,SAAQgE,EAAOC,KACtB7H,OAAO,EAAGc,IACVgH,OAAM,EACT,QACEtI,SACAuI,UAAWJ,EAAUxQ,IAAIqI,KP6yB7B3L,KOzyBAmR,UAAY,SAACzO,GACX,GAAMuK,GAAiBvK,EAAMsJ,MAAQtJ,EAAMqJ,QAAQ,GAAKrJ,EAAMqJ,QAAQ,GAChEoB,EAAkBzK,EAAM2J,OAAS3J,EAAMqJ,QAAQ,GAAKrJ,EAAMqJ,QAAQ,GAClE2H,EAAW9U,EAAAqC,EAAA8O,EAAA,SAAQrN,EAAMgH,OAAOpG,IAAI,SAACsC,GAAD,MAAwBA,GAAMX,OACxE,OAAApG,QAAAiC,UACKwS,EAAKM,UAAUlR,EAAOuK,EAAgByG,IACzC9H,OAAQ0H,EAAKG,UAAU/Q,EAAOyK,EAAiBuG,MP8yBnD1T,KO1yBAqR,mBAAqB,SAAC1F,EAAqB/D,GACzC,GAAMuM,GAAab,EAAK5Q,MAAMgH,OAAO,EACrC,IAAI9B,GAAgBuM,EAAY,CAC9B,GAAMtK,GAAMsK,EAAWlP,KAAKmP,UAE1B,SAAA7T,GAAA,MAAKA,GAAE6E,EAAEiP,YAAczM,EAAayM,YAEhCC,EAAS3I,EAAOQ,QAAQoI,OACxBC,EAAO7I,EAAO/D,EACpB,IAAIiC,GAAO,GAAK2K,GAAQF,EAAO,IAAME,GAAQF,EAAO,GAClD,OACE1M,eACAiK,iBAAkBlG,EAAO/D,GACzBkK,gBAAiBjI,GAIvB,OAASjC,aAAc,KAAMiK,iBAAkB,KAAMC,gBAAiB,OP8yBxE9R,KO3yBAyU,eAAiB,SAACC,GAChB,GAAMC,GAAOD,EAAO,CACpB,WAAWC,EAAX,OAAsBD,EAAtB,IAA8BC,EAA9B,MAAwCA,EAAxC,IAAgDD,EAAhD,OAA2DC,EAA3D,KAAoEA,EAApE,OAA+ED,EAA/E,IAAuFC,GP8yBzF3U,KO3yBA4U,mBAAqB,SAACxE,GACpB,GAAIkD,EAAK7R,MAAMoT,gBACb,MAAOvB,GAAK7R,MAAMoT,eAEpB,IAAMC,GAAM1E,EAAO2E,uBAEnB,OADAzB,GAAKzQ,UAAWgS,gBAAiBC,IAC1BA,GP8yBT9U,KO3yBAgV,YAAc,SAACC,GACbA,EAAIC,gBAD6D,IAAAC,GAEnC7B,EAAK7R,MAA3ByS,EAFyDiB,EAEzDjB,UAAWvI,EAF8CwJ,EAE9CxJ,OACbyJ,EAAa9B,EAAKsB,mBAAmBK,EAAI7E,QACzCiF,GAAaJ,EAAIK,MAAQF,EAAWG,MAAQH,EAAWpJ,MACvDsI,EAAS3I,EAAOQ,QAChBqJ,EAAQP,EAAIQ,UAAY,GAAKR,EAAIQ,UAAYnC,EAAK5Q,MAAM2Q,UAAYC,EAAK5Q,MAAM2Q,UAC/EqC,EAAUpB,EAAO,GAAKrI,KAAKC,MAAMsJ,EAAQP,EAAIU,OAASN,GACtDO,EAAWtB,EAAO,GAAKrI,KAAKC,MAAMsJ,EAAQP,EAAIU,QAAU,EAAIN,IAC5D3D,EAAYgE,EAAUxB,EAAU,GAAKvI,EAAOkK,OAAOH,GAAW,KAC9D/D,EAAUiE,EAAW1B,EAAU,GAAKvI,EAAOkK,OAAOD,GAAY,IACpEtC,GAAK/B,iBAAiBG,EAAWC,IPizBnC3R,KO9yBAuR,iBAAmB,SAACG,EAAwBC,GACtC2B,EAAK5Q,MAAMuP,YACbqB,EAAK5Q,MAAMuP,WAAWP,EAAWC,IPkzBrC3R,KO9yBA8V,gBAAkB,SAACb,GACjB,GAAMG,GAAa9B,EAAKsB,mBAAmBK,EAAI7E,OAC/CkD,GAAKhC,iBAAiB2D,EAAIK,MAAQF,EAAWG,OPizB/CvV,KO9yBA+V,iBAAmB,iBAAMzC,GAAKzQ,UAAWmT,WAAW,KPkzBpDhW,KOhzBAiW,eAAiB,SAAChB,GAAsD,GAC9DrD,GAAkB0B,EAAK5Q,MAAvBkP,cACFsE,EACJjB,EAAIkB,eAAwD,gBAAhClB,GAAIkB,cAAcxS,UAC1CsR,EAAIkB,cAAcxS,UAClB,IAEHiO,GACDsE,EAAYjM,SAAS,iBACrBiM,EAAYjM,SAAS,mBAIvBqJ,EAAKzQ,UACHmT,WAAW,EACXpO,aAAc,KACdiK,iBAAkB,KAClBC,gBAAiB,OAEnBF,EAAc,KAAM,KAAM,QP6yB5B5R,KO1yBAoW,YAAc,WAAM,GACVC,GAAuB/C,EAAK5Q,MAA5B2T,kBACJA,IACFA,EAAmB/C,EAAK7R,MAAMmG,eP+yBlC5H,KO3yBAsR,iBAAmB,SAACkD,GAClB,GAAML,GAAab,EAAK5Q,MAAMgH,OAAO,EACrC,IAAI4J,EAAK7R,MAAMuU,WAAa7B,EAAY,IAC9BvC,GAAkB0B,EAAK5Q,MAAvBkP,cACFvM,EAAOiO,EAAK7R,MAAMkK,OAAOkK,OAAOrB,GAChC8B,EAAU1X,EAAAqC,EAAA+O,EAAA,UAAS,SAAA3P,GAAA,MAAKA,GAAE+E,IAAGmR,MAC/B1M,EAAMyM,EAAQnC,EAAWlP,KAAMI,EACnC,IAAIwE,GAAO,EAAG,CACZ,GAAM2M,GAAgBrC,EAAWlP,KAAK4E,EAAM,GACtC4M,EAAYtC,EAAWlP,KAAK4E,KAC7B4M,GAAcD,GAAiBnR,EAAOmR,EAAcpR,GAAKqR,EAAUrR,EAAIC,IAC1EwE,GAEF,IAAMjC,GAAeuM,EAAWlP,KAAK4E,GAAKzE,EACpCoP,EAAOlB,EAAK7R,MAAMkK,OAAO/D,EAC/B0L,GAAKzQ,UAAW+E,eAAciK,iBAAkB2C,EAAM1C,gBAAiBjI,IACnE+H,GACFA,EAAchK,EAAc4M,EAAM3K,MPozB1C7J,KO9yBAwS,qBAAuB,WAAM,GACnBkE,GAAgBpD,EAAK5Q,MAArBgU,YADmBC,EAEArD,EAAK7R,MAAxBkK,EAFmBgL,EAEnBhL,OAAQC,EAFW+K,EAEX/K,OACVgL,EAAmC,kBAAjBhL,GAAOiL,MACzBA,EAAQD,EAAWhL,EAAOiL,MAAM,GAAKjL,EAAOsB,QAMlD,OAJK2J,GAAM1V,QACT0V,EAAMlQ,KAAKiF,EAAOsB,SAAS,IAI3B0C,EAAAgB,EAAAC,cAAA,SACGgG,EAAMvT,IAAI,SAAAuJ,GAAA,MACT+C,GAAAgB,EAAAC,cAAA,KAAG7N,IAAK6J,GACU,MAAf6J,GACC9G,EAAAgB,EAAAC,cAAA,QACElN,UAAU,oCACV8I,GAAG,OACHC,GAAG,QACHoK,WAAW,MACX1R,EAAGuG,EAAOQ,QAAQ,GAClB7G,EAAGsG,EAAOiB,IACT6J,EAAY7J,IAGjB+C,EAAAgB,EAAAC,cAAA,QACElN,UAAU,kBACVoT,GAAIpL,EAAOQ,QAAQ,GACnB6K,GAAIrL,EAAOQ,QAAQ,GACnB8K,GAAIrL,EAAOiB,GACXqK,GAAItL,EAAOiB,UP2zBvB7M,KOnzBA0S,iBAAmB,WAAM,GAAAyE,GACI7D,EAAK7R,MAAxBkK,EADewL,EACfxL,OAAQC,EADOuL,EACPvL,OACVwL,EAASzL,EAAO0L,WAAW,GAC3BR,EAAQlL,EAAOkL,MAAM,GACrBvR,EAAIsG,EAAOO,QAAQ,EACzB,OACEyD,GAAAgB,EAAAC,cAAA,SACGgG,EAAM7M,MAAM,GAAI,GAAG1G,IAAI,SAACuJ,EAAMxB,GAC7B,GAAMiM,GAAWjM,EAAQ,EAAIwL,EAAM1V,OAAS0V,EAAMxL,EAAQ,GAAKM,EAAOuB,SAAS,GACzE9H,GAAKuG,EAAOkB,GAAQlB,EAAO2L,IAAa,CAC9C,OACE1H,GAAAgB,EAAAC,cAAA,QAAM7N,IAAKqI,EAAO1H,UAAU,kBAAkByB,EAAGA,EAAGE,EAAGA,EAAGoH,GAAG,SAC1D0K,EAAOvK,QP8zBpB7M,KOtzBAsS,WAAa,WACX,GAAMiF,GAASjE,EAAK7R,MAAMmK,OAAOO,QAC3BmI,EAAShB,EAAK7R,MAAMkK,OAAOQ,QAC3BqL,EAAYlD,EAAOA,EAAOnT,OAAS,GAAKmS,EAAK7R,MAAMkK,OAAO2H,EAAK5Q,MAAM2P,eAC3E,OAAImF,GAAY,EACP,KAGP5H,EAAAgB,EAAAC,cAAA,QACElN,UAAU,kBACVyB,EAAGkO,EAAK7R,MAAMkK,OAAO2H,EAAK5Q,MAAM2P,gBAChC/M,EAAGiS,EAAOA,EAAOpW,OAAS,GAC1B6K,MAAOwL,EACPnL,OAAQkL,EAAO,GAAKA,EAAOA,EAAOpW,OAAS,GAC3CsW,KAAK,aPyzBXzX,KOpzBA6S,YAAc,WACZ,GAAM6E,GAAgB9Y,EAAAqC,EAAAiP,EAAA,QACnByH,QAAQ,SAAAtX,GAAA,MAAKA,GAAEiF,GAAa,IAARjF,EAAEiF,IACtBF,EAAE,SAAA/E,GAAA,MAAKiT,GAAK7R,MAAMkK,OAAOtL,EAAE+E,KAC3BE,EAAE,SAAAjF,GAAA,MAAKiT,GAAK7R,MAAMmK,OAAOvL,EAAEiF,IAI9B,OAHIgO,GAAK5Q,MAAMkV,YACbF,EAAcG,MAAM3H,EAAA,YAGpBN,EAAAgB,EAAAC,cAAA,SACGyC,EAAK5Q,MAAMgH,OAAOpG,IAAI,SAACsC,EAAOiE,GAAR,MACrB+F,GAAAgB,EAAAC,cAAA,QACE7N,IAAK4C,EAAMH,KACX9B,UAAWmM,IAAW,kBAAmB,mBAAqBjG,GAC9DxJ,EAAGqX,EAAc9R,EAAMX,YP8zBjCjF,KOvzBA4S,YAAc,WACZ,GAAMkF,GAAgBlZ,EAAAqC,EAAAiP,EAAA,QACnByH,QAAQ,SAAAtX,GAAA,MAAKA,GAAEiF,GAAa,IAARjF,EAAEiF,IACtBF,EAAE,SAAA/E,GAAA,MAAKiT,GAAK7R,MAAMkK,OAAOtL,EAAE+E,KAC3B6R,GAAG,SAAA5W,GAAA,MAAKiT,GAAK7R,MAAMmK,OAAOvL,EAAEiF,KAC5ByS,GAAGzE,EAAK7R,MAAMmK,OAAO,GAIxB,OAHI0H,GAAK5Q,MAAMkV,YACbE,EAAcD,MAAM3H,EAAA,YAGpBN,EAAAgB,EAAAC,cAAA,SACGyC,EAAK5Q,MAAMgH,OAAOpG,IAAI,SAACsC,EAAOiE,GAAR,MACrB+F,GAAAgB,EAAAC,cAAA,QACE7N,IAAK4C,EAAMH,KACX9B,UAAWmM,IAAW,kBAAmB,mBAAqBjG,GAC9DxJ,EAAGyX,EAAclS,EAAMX,YPg0BjCjF,KOzzBA+S,aAAe,WAAM,GAAAiF,GACW1E,EAAK5Q,MAA3B0D,EADW4R,EACX5R,OAAQgN,EADG4E,EACH5E,SAChB,KAAKhN,IAAWgN,EACd,MAAO,KAHU,IAAA6E,GAKQ3E,EAAK7R,MAAxBkK,EALWsM,EAKXtM,OAAQC,EALGqM,EAKHrM,OACVsM,EAAgB9R,EAAO1B,OAC3B,SAAA2B,GAAA,MAASA,GAAMhB,MAAQsG,EAAOuB,SAAS,IAAM7G,EAAMhB,MAAQsG,EAAOuB,SAAS,KAEvEiL,EAAS/E,EAAY,CAC3B,OACExD,GAAAgB,EAAAC,cAAA,SACGqH,EAAc5U,IAAI,SAAC+C,EAAOwD,GAAR,MACjB+F,GAAAgB,EAAAC,cAAA,QACExQ,EAAGiT,EAAKmB,eAAerB,GACvBzP,UAAWmM,IAAW,mBAAoBzJ,EAAM1C,WAChDX,IAAQ6G,EAAR,IAAexD,EAAMhB,KAAKyB,UAC1BwG,UAAA,cAAwB3B,EAAOtF,EAAMhB,MAAQ8S,GAA7C,MAAwDvM,EAAOO,QAAQ,GAAKgM,GAA5E,UPs0BVnY,KO/zBAgT,mBAAqB,WAAM,GAAAoF,GAC6B9E,EAAK7R,MAAnDqQ,EADiBsG,EACjBtG,gBAAiBD,EADAuG,EACAvG,iBAAkBjG,EADlBwM,EACkBxM,OACrCuI,EAAab,EAAK5Q,MAAMgH,OAAO,EACrC,OAAuB,OAAnBoI,GAA+C,MAApBD,GAA6BsC,EAK1DvE,EAAAgB,EAAAC,cAAA,SACEjB,EAAAgB,EAAAC,cAAA,QACElN,UAAU,eACVoT,GAAIlF,EACJmF,GAAInF,EACJoF,GAAIrL,EAAOO,QAAQ,GACnB+K,GAAItL,EAAOO,QAAQ,KAEpBmH,EAAK5Q,MAAMgH,OAAOpG,IAAI,SAACsC,EAAOiE,GAC7B,GAAMJ,GAAQ7D,EAAMX,KAAK6M,EACzB,QAAKrI,IAAWA,EAAMnE,GAAiB,IAAZmE,EAAMnE,EACxB,KAGPsK,EAAAgB,EAAAC,cAAA,UACE7N,IAAK4C,EAAMH,KACX4S,GAAIxG,EACJyG,GAAI1M,EAAOnC,EAAMnE,GACjBmF,EAAE,IACF9G,UAAWmM,IAAW,iBAAkB,kBAAoBjG,QAvB7D,MPg2BX7J,KOj0BAoS,eAAiB,WACf,MACExC,GAAAgB,EAAAC,cAAA,YACEjB,EAAAgB,EAAAC,cAAA,YAAU5I,GAAG,cACX2H,EAAAgB,EAAAC,cAAA,QACE7E,MAAOsH,EAAK7R,MAAMkK,OAAOQ,QAAQ,GACjCE,OAAQiH,EAAK7R,MAAMmK,OAAOO,QAAQ,GAAK,GACvCmB,UAAU,uBP00BpBtN,KOn0BAiT,yBAA2B,SAAClB,GAC1B,GAAMwG,KAYN,OAXIxG,KACFwG,EAAYC,QAAUlF,EAAK0B,aAEzB1B,EAAK5Q,MAAMkP,gBACb2G,EAAYE,aAAenF,EAAKyC,iBAChCwC,EAAYG,YAAcpF,EAAKwC,gBAC/ByC,EAAYI,WAAarF,EAAK2C,gBAE5B3C,EAAK5Q,MAAM2T,qBACbkC,EAAYK,QAAUtF,EAAK8C,aAG3BxG,EAAAgB,EAAAC,cAAA,OAAAV,GACExM,UAAU,6BACVqI,MAAOsH,EAAK7R,MAAMkK,OAAOQ,QAAQ,GACjCE,OAAQiH,EAAK7R,MAAMmK,OAAOO,QAAQ,IAC9BoM,KPs0BiB5Z,GAAuB,EAAI,GAIlDka,KACA,SAAUna,EAAQC,EAAqBC,GAE7C,YQ9yCc,SAAAka,GAA+C3V,GRi1CzD,GQj1CsC4V,GAAA5V,EAAU4V,UAC/C,KAAaA,EACR,MAAC/Z,GAAA,qBAAc2E,UAAsB,uBAC7C,IAEA,IAAUsB,GAAO+T,KAAMC,MAAaF,EAE7B,OACL/Z,GAAA,qBAAc2E,UAAsB,uBAAA3E,EAAA,cACjBka,EAAA,GACDC,eAAWva,EAAAqC,EAAA0M,EAAA,WAAqB,qBAC5C1F,GAAoB,oBAChBmR,QACEC,OAAEra,EAAA,cAAOsa,EAAA,GAAMva,MAAMkG,EAAMlG,MAAOwa,OAAU,IAC9ClU,KAAErG,EAAA,cAAYwa,EAAA,GAAKnU,KAAMJ,EAKvCI,WR4xCiC1G,EAAuB,EAAIma,CACvC,IAAI9Z,GAAsCJ,EAAoB,GAE1Dsa,GAD8Cta,EAAoBM,EAAEF,GACzBJ,EAAoB,MAC/D4a,EAA6D5a,EAAoB,KACjF0a,EAAsD1a,EAAoB,KAC1E+O,EAA8C/O,EAAoB,IAyCrF6a,KACA,SAAU/a,EAAQC,EAAqBC,GAE7C,YS71Cc,SAAA8a,GAAwDvW,GTo4ClE,GSp4C6BV,GAAAU,EAASV,UAAEkX,EAAAxW,EAAMwW,OAAEC,EAAAzW,EAASyW,SACpD,OACL5a,GAAA,qBAAc2E,UAAmB,oBAAA3E,EAAA,cACd6a,EAAA,GACDV,eAAWva,EAAAqC,EAAA6Y,EAAA,WAAoB,oBAC3C7R,GAAmB,mBACfmR,QACMW,SACR/a,EAAA,cAAKgb,EAAA,MAAG9S,GAA0BtI,EAAAqC,EAAAgZ,EAAA,GAAUxX,EAAYmX,IAAA5a,EAAA,0BAAAA,EAAA,cAE5Ckb,EAAA,GACCvV,SACCE,QAAO7B,IAAY,WAAMuC,KAAe,aACzCxG,MAAQob,OAAOR,EAEtBI,aAAI,IACInb,EAAAqC,EAAA6Y,EAAA,WAGf,eACKT,OAAEra,EAAA,cAAOsa,EAAA,GAAMC,OAAM,EAAOxa,MAAQ4a,EAKpDN,aTq0CiC1a,EAAuB,EAAI+a,CACvC,IAAI1a,GAAsCJ,EAAoB,GAE1Dob,GAD8Cpb,EAAoBM,EAAEF,GACvBJ,EAAoB,KACjEib,EAA2Cjb,EAAoB,KAC/D0a,EAAsD1a,EAAoB,KAC1Esb,EAA4Dtb,EAAoB,KAChFkb,EAA8Clb,EAAoB,GAClEqb,EAA8Crb,EAAoB,KA4CrFwb,KACA,SAAU1b,EAAQC,EAAqBC,GAE7C,YUz5Cc,SAAAyb,GAAwDlX,GV07CpE,GU17C0CV,GAAAU,EAASV,UAAEoC,EAAA1B,EAAM0B,MACpD,OACL7F,GAAA,cAAKgb,EAAA,MACMrW,UAAkE,kEACzEuD,GAAsBtI,EAAAqC,EAAAqZ,EAAA,GAAU7X,EAASoC,IAC3C7F,EAAA,cAAYub,EAAA,aAAK7F,KAGvB,MVk5CiC/V,EAAuB,EAAI0b,CACvC,IAAIrb,GAAsCJ,EAAoB,GAE1Dob,GAD8Cpb,EAAoBM,EAAEF,GACvBJ,EAAoB,KACjE2b,EAAmE3b,EAAoB,KACvF0b,EAA8C1b,EAAoB,KAkCrF4b,KACA,SAAU9b,EAAQC,EAAqBC,GAE7C,YWn8Cc,SAAA6b,GAAwDtX,GXo+CpE,GWp+CmCV,GAAAU,EAASV,UAAEoC,EAAA1B,EAAM0B,OAAE9F,EAAAoE,EAAKpE,KACpD,OACLC,GAAA,cAAKgb,EAAA,MAAG9S,GAAsBtI,EAAAqC,EAAAqZ,EAAA,GAAU7X,EAASoC,GAAWlB,UAAuB,wBACjF3E,EAAA,cAAO0b,EAAA,GAAM3b,MAGnBA,KX87CiCJ,EAAuB,EAAI8b,CACvC,IAAIzb,GAAsCJ,EAAoB,GAE1Dob,GAD8Cpb,EAAoBM,EAAEF,GACvBJ,EAAoB,KACjE8b,EAAsD9b,EAAoB,KAC1E0b,EAA8C1b,EAAoB,KAmCrF+b,KACA,SAAUjc,EAAQC,EAAqBC,GAE7C,YYh/Cc,SAAAgc,GAAyDzX,GZihDrE,GYjhD2CV,GAAAU,EAASV,UAAEoC,EAAA1B,EAAM0B,MACrD,OACL7F,GAAA,cAAKgb,EAAA,MACMrW,UAAkE,kEACzEuD,GAA0BtI,EAAAqC,EAAAqZ,EAAA,GAAU7X,EAASoC,IAC/C7F,EAAA,cAAY6b,EAAA,GAAKnG,KAGvB,MZy+CiC/V,EAAuB,EAAIic,CACvC,IAAI5b,GAAsCJ,EAAoB,GAE1Dob,GAD8Cpb,EAAoBM,EAAEF,GACvBJ,EAAoB,KACjEic,EAAyEjc,EAAoB,KAC7F0b,EAA8C1b,EAAoB,KAkCrFkc,KACA,SAAUpc,EAAQC,EAAqBC,GAE7C,YAgBA,SAASmQ,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMhO,GAAQ,IAAKgO,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOjO,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BgO,EAAPhO,EAElO,QAASkO,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5O,UAAY9B,OAAO+B,OAAO4O,GAAcA,EAAW7O,WAAaD,aAAe3B,MAAOwQ,EAAUE,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeH,IAAY3Q,OAAOqB,eAAiBrB,OAAOqB,eAAeqP,EAAUC,GAAcD,EAASpP,UAAYqP,GAnB5c,GAAIxQ,GAAsCJ,EAAoB,GAC1DgR,EAA8ChR,EAAoBM,EAAEF,GACpE6O,EAAuCjP,EAAoB,GAE3Dmc,GAD+Cnc,EAAoBM,EAAE2O,GAC1BjP,EAAoB,IAE/Doc,GADmDpc,EAAoBM,EAAE6b,GACCnc,EAAoB,MAC9Fqc,EAAkFrc,EAAoBM,EAAE8b,GACxGE,EAAyDtc,EAAoB,MAC7Euc,EAAsDvc,EAAoB,MAC1Ewc,EAA4Dxc,EAAoB,MAChFyc,EAAiDzc,EAAoB,KACrE0c,EAAkD1c,EAAoB,IAC3F0R,EAAe,WAAc,QAASC,GAAiBH,EAAQ1N,GAAS,IAAK,GAAIzB,GAAI,EAAGA,EAAIyB,EAAMvB,OAAQF,IAAK,CAAE,GAAIuP,GAAa9N,EAAMzB,EAAIuP,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAM7Q,OAAOC,eAAesR,EAAQI,EAAWxN,IAAKwN,IAAiB,MAAO,UAAUvB,EAAawB,EAAYC,GAAiJ,MAA9HD,IAAYF,EAAiBtB,EAAYtO,UAAW8P,GAAiBC,GAAaH,EAAiBtB,EAAayB,GAAqBzB,Ma1gD1hBsM,GAAiB,EAAG,EAAG,EAAG,GAC1BC,EAAe,EACfC,EAAuB,EAERC,EbskDF,SAAU3K,Ga9jD3B,QAAA2K,GAAYhZ,GAAoBqM,EAAA/O,KAAA0b,EAAA,IAAAna,GAAA4N,EAAAnP,MAAA0b,EAAAvb,WAAAtB,OAAAmS,eAAA0K,IAAAta,KAAApB,KACxB0C,GADwBuO,GAAA7P,KAAAG,EAE9B,IAAM6C,GAAQxF,EAAAqC,EAAAoa,EAAA,KACR5T,EAAgB7I,EAAAqC,EAAAoa,EAAA,KAChB3R,EAAS9K,EAAAqC,EAAAma,EAAA,GACb7Z,EAAKoa,UAAUjZ,EAAMwC,QAASd,EAAOqD,EAAe/E,EAAM6B,SAC1DiX,EACAC,EAP4B,OAS9Bla,GAAKE,OACHgG,gBACArD,QACAwD,aAAc,KACd8B,OAAQA,EAAOvI,OAAS,EAAIuI,EAAO,MACnCkS,WAAY,KACZC,YAAa,MAfeta,Eb2qDhC,MA5GA+N,GAAUoM,EAAc3K,GAyBxBT,EAAaoL,IACX1Y,IAAK,4BACLjE,MAAO,SavkDiByS,GACxB,GAAIA,EAAUtM,UAAYlF,KAAK0C,MAAMwC,SAAWsM,EAAUjN,UAAYvE,KAAK0C,MAAM6B,QAAS,CACxF,GAAMH,GAAQxF,EAAAqC,EAAAoa,EAAA,KACR5T,EAAgB7I,EAAAqC,EAAAoa,EAAA,KAChB3R,EAAS9K,EAAAqC,EAAAma,EAAA,GACbpb,KAAK2b,UAAUnK,EAAUtM,QAASd,EAAOqD,EAAe+J,EAAUjN,SAClEiX,EACAC,EAEFzb,MAAK6C,UACH4E,gBACArD,QACAsF,OAAQA,EAAOvI,OAAS,EAAIuI,EAAO,YbwkDvC1G,IAAK,iBACLjE,MAAO,WaphDQ,GAAAuU,GAAAtT,KAAAmV,EACkDnV,KAAKyB,MAA9D2C,EADO+Q,EACP/Q,MAAOwD,EADAuN,EACAvN,aAAc8B,EADdyL,EACczL,OAAQkS,EADtBzG,EACsByG,WAAYC,EADlC1G,EACkC0G,WACjD,OACEjM,GAAAgB,EAAAC,cAACoK,EAAArK,GAAUkL,eAAe,GACvB,SAAAnL,GAAA,GAAG3E,GAAH2E,EAAG3E,KAAH,OACC4D,GAAAgB,EAAAC,cAAA,WACEjB,EAAAgB,EAAAC,cAACqK,EAAA,GACCvJ,QAAS,KACTD,UAAW,KACXrF,OAAQ,GACRL,MAAOA,EACPuG,UAAU,EACVE,WAAW,EACXsJ,YAAY,SACZtK,WAAY7S,EAAAqC,EAAAma,EAAA,GAAoB1R,GAChCqC,QAASwP,EACT7R,OAAQA,EACRiJ,WAAY,WAAY,gBAAgB1I,SAAS7F,GACjDwN,cAAe0B,EAAK1B,gBAEL,MAAhBhK,GACc,MAAfiU,GACc,MAAdD,GACEhM,EAAAgB,EAAAC,cAACsK,EAAA,GACCa,YAAa1I,EAAK0I,YAClB5X,MAAOA,EACP6X,WAAYjQ,EACZzH,QAAS+O,EAAK5Q,MAAM6B,QACpBqD,aAAcA,EACd8B,OAAQA,EACRkS,WAAYA,EACZM,WAAYL,UboiDxB7Y,IAAK,SACLjE,MAAO,Wa5hDA,GACC2K,GAAW1J,KAAKyB,MAAhBiI,MACR,OAAK9K,GAAAqC,EAAAma,EAAA,GAAoB1R,GAKvBkG,EAAAgB,EAAAC,cAAA,OACElN,UAAU,uDACViV,QAAS5Y,KAAKoW,YACd+F,SAAU,EACVC,KAAK,QACJpc,KAAKqc,kBATDrc,KAAK0C,MAAM4Z,gBAAkBtc,KAAK0C,MAAM4Z,kBAAoB,Sb4iDhEZ,GanrDiC9L,EAAAgB,EAAMsC,cAA3BwI,GAIZa,cACLC,OAAQzB,EAAA,ObqrDZ,IAAI9J,GAAmB,WACrB,GAAIwL,GAASzc,IAEbA,MajpDAgc,YAAc,SAACnP,GAAD,MACZjO,GAAAqC,EAAAqa,EAAA,eAAczO,EAAMjO,EAAAqC,EAAAqa,EAAA,cAAa1c,EAAAqC,EAAAma,EAAA,GAAoBqB,EAAKhb,MAAMiI,WbopDlE1J,KalpDA0c,oBAAsB,SAACtY,EAAqBqD,GAC1C,GAAMlD,GAA+B3F,EAAAqC,EAAAma,EAAA,GAA2BhX,EAAOqD,EACvE,QAAKlD,GAAWA,EAAQpD,QAAU,EACzBvC,EAAAqC,EAAAma,EAAA,GAA2BA,EAAA,EAAe3T,GAE5ClD,GbqpDTvE,KalpDA2b,UAAY,SACVzW,EACAd,EACAqD,EACAlD,GAEA,GAAMoY,GAAYzX,CAClB,KAAKyX,EACH,QAEF,IAAMnY,GAAmBiY,EAAKC,oBAAoBtY,EAAOqD,GACnDmV,EAAahe,EAAAqC,EAAA4M,EAAA,OACjBrJ,EAAiBlB,IAAI,SAAAuB,GAAA,MAAU8X,GAAU9X,GAAQG,KAAK,SAAAzE,GAAA,MAAKA,GAAExB,OAAqB,IAAZwB,EAAExB,UACxE,QAEI8d,EAAiBrY,EAAiBlB,IAAI,SAAAuB,GAAA,OAC1CA,SACAK,QAAS0X,EACLD,EAAU9X,GAAQH,OAAO,SAAAnE,GAAA,MAAKA,GAAE8E,MAAQuX,EAAWvX,OACnDsX,EAAU9X,KAEhB,OAAOjG,GAAAqC,EAAAma,EAAA,GAAeyB,EAAgBzY,EAAOG,EAASC,IbupDxDxE,KappDAoW,YAAc,WACZqG,EAAKK,QAAQN,OAAO7V,MAClBoW,SAAU,oBACVhX,OAASkC,GAAIwU,EAAK/Z,MAAMiF,QAASqV,OAAQP,EAAK/Z,MAAMsa,WbwpDxDhd,KappDA4R,cAAgB,SACdhK,EACAiU,EACAD,GAHc,MAIXa,GAAK5Z,UAAW+E,eAAciU,cAAaD,gBbwpDrBjd,GAAuB,EAAI,GAIlDse,KACA,SAAUve,EAAQC,EAAqBC,GAE7C,YAQA,SAASmQ,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMhO,GAAQ,IAAKgO,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOjO,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BgO,EAAPhO,EAElO,QAASkO,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAAS5O,UAAY9B,OAAO+B,OAAO4O,GAAcA,EAAW7O,WAAaD,aAAe3B,MAAOwQ,EAAUE,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeH,IAAY3Q,OAAOqB,eAAiBrB,OAAOqB,eAAeqP,EAAUC,GAAcD,EAASpP,UAAYqP,GAX5c,GAAIxQ,GAAsCJ,EAAoB,GAC1DgR,EAA8ChR,EAAoBM,EAAEF,GACpEke,EAAoDte,EAAoB,IACxEue,EAAoDve,EAAoB,KACxEwe,EAA6Dxe,EAAoB,MACtG0R,EAAe,WAAc,QAASC,GAAiBH,EAAQ1N,GAAS,IAAK,GAAIzB,GAAI,EAAGA,EAAIyB,EAAMvB,OAAQF,IAAK,CAAE,GAAIuP,GAAa9N,EAAMzB,EAAIuP,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAM7Q,OAAOC,eAAesR,EAAQI,EAAWxN,IAAKwN,IAAiB,MAAO,UAAUvB,EAAawB,EAAYC,GAAiJ,MAA9HD,IAAYF,EAAiBtB,EAAYtO,UAAW8P,GAAiBC,GAAaH,EAAiBtB,EAAayB,GAAqBzB,MctxD3gBoO,Edu0DM,SAAUtM,GAGnC,QAASsM,KAGP,MAFAtO,GAAgB/O,KAAMqd,GAEflO,EAA2BnP,MAAOqd,EAAqBld,WAAatB,OAAOmS,eAAeqM,IAAuB7b,MAAMxB,KAAMkB,YAyDtI,MA9DAoO,GAAU+N,EAAsBtM,GAQhCT,EAAa+M,IACXra,IAAK,SAILjE,MAAO,Wcl1DA,GAAAuU,GAAAtT,KACC4b,EAAe5b,KAAK0C,MAApBkZ,WAEJrG,EAAOvV,KAAK0C,MAAMwZ,WAClBoB,QAMJ,OALI/H,GAAOvV,KAAK0C,MAAMuZ,WAVJ,MAWhB1G,GAXgB,IAYhB+H,EAAc,sBAId1N,EAAAgB,EAAAC,cAACqM,EAAA,GAAYI,YAAaA,EAAaC,UAAYC,IATzC,GAS8CjI,OAAMvJ,MAhB9C,MAiBd4D,EAAAgB,EAAAC,cAAA,OAAKlN,UAAU,mCACbiM,EAAAgB,EAAAC,cAAA,OAAKlN,UAAU,yCACbiM,EAAAgB,EAAAC,cAACsM,EAAA,GAAc9X,KAAMrF,KAAK0C,MAAMkF,aAAc6V,MAAM,KAEtD7N,EAAAgB,EAAAC,cAAA,SAAOlN,UAAU,aACfiM,EAAAgB,EAAAC,cAAA,aACG7Q,KAAK0C,MAAMgH,OAAOpG,IAAI,SAACsC,EAAOiE,GAC7B,GAAMJ,GAAQ7D,EAAMX,KAAK2W,EACzB,QAAKnS,IAAWA,EAAMnE,GAAiB,IAAZmE,EAAMnE,EACxB,KAGPsK,EAAAgB,EAAAC,cAACuM,EAAA,GACCpa,IAAK4C,EAAMH,KACXiY,MAAO7T,EAAI9C,WACXrB,eAAgBE,EAAMF,eACtB3G,MAAOuU,EAAK5Q,MAAMsZ,YAAYvS,EAAMnE,edu2D/C+X,Gct4DyCzN,EAAAgB,EAAMsC,cdy4D3BvU,GAAuB,EAAI,GAIlDgf,KACA,SAAUjf,EAAQC,EAAqBC,GAE7C,Ye15De,SAASgf,GAATjN,GAAoF,GAA7C+M,GAA6C/M,EAA7C+M,MAAOhY,EAAsCiL,EAAtCjL,eAAgB3G,EAAsB4R,EAAtB5R,KAC3E,OACE6Q,GAAAgB,EAAAC,cAAA,MAAIlN,UAAU,wCACZiM,EAAAgB,EAAAC,cAAA,MAAIlN,UAAU,QACZiM,EAAAgB,EAAAC,cAACgN,EAAA,GACCla,UAAW,2DAA6D+Z,KAG5E9N,EAAAgB,EAAAC,cAAA,MAAIlN,UAAU,6EACX5E,GAEH6Q,EAAAgB,EAAAC,cAAA,MAAIlN,UAAU,6DACX+B,If+4DwB/G,EAAuB,EAAIif,CACvC,IAAI5e,GAAsCJ,EAAoB,GAC1DgR,EAA8ChR,EAAoBM,EAAEF,Ge57D7F6e,EAAAjf,EAAA,Mf0/DMkf,KACA,SAAUpf,EAAQC,EAAqBC,GAE7C,YgB/9DM,SAAAmf,GAA2Ctb,GACzC,MAAQ7D,GAAAqC,EAAAoJ,EAAA,SAAiC,kCAAgB2T,aAAcvb,IAAMwb,MAGrFC,EAAA,GAEM,QAAAC,GAAwC1b,GACrC,MACU2b,QAAQC,QACyB,iDAC9BC,mBAEtB7b,GAEM,QAAA8b,GAAqC9b,GACnC,MAAK7D,GAAAqC,EAAAoJ,EAAA,MAAoC,qCAAgB2T,aAAcvb,IAAMwb,MAGrFC,EAAA,GAEM,QAAAM,GAAuC/b,GACrC,MAAK7D,GAAAqC,EAAAoJ,EAAA,MAAsC,uCAAgB2T,aAAcvb,IAAMwb,MAGvFC,EAAA,GhBw8DiCvf,EAAuB,EAAIof,EAC3Bpf,EAAuB,EAAIwf,EAC3Bxf,EAAuB,EAAI4f,EAC3B5f,EAAuB,EAAI6f,CACvC,IAAInU,GAAiDzL,EAAoB,IACrEsf,EAA4Dtf,EAAoB,KAuCnG6f,KACA,SAAU/f,EAAQC,EAAqBC,GAE7C,YACqB,IAAII,GAAsCJ,EAAoB,GAE1D8f,GAD8C9f,EAAoBM,EAAEF,GACbJ,EAAoB,OAC3E+f,EAAuE/f,EAAoB,MAC3FggB,EAA6ChgB,EAAoB,KACjEigB,EAAkDjgB,EAAoB,MACtEkgB,EAA+ClgB,EAAoB,IACnEmgB,EAA8CngB,EAAoB,GAClEyc,EAAiDzc,EAAoB,KAG1FmB,EAAYC,MAAQA,KAAKD,WAAa,WACtC,GAAIE,GAAgBpB,OAAOqB,iBAAoBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAC5FD,EAAEF,UAAYG,IACb,SAAUD,EAAGC,GACd,IAAK,GAAIC,KAAKD,GACNA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IAG1C,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KACLT,KAAKU,YAAcL,EAFvBJ,EAAcI,EAAGC,GAIjBD,EAAEM,UAAkB,OAANL,EAAazB,OAAO+B,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,QiBziElEue,EAAuBL,EAAA,EAgB5CM,EAAA,SAAA3d,GAAA,QAAA2d,KAAA,GAAA1d,GAAA,OAAAD,KAAAE,MAAAxB,KAAAkB,YAyEClB,IjBohEO,OiB3lENuB,GAAKE,OAAmBC,SAAS,GAiBjCH,EAAY2d,aAAG,WACL,GAAAzc,GAAAlB,EAAAmB,MAAyBD,UAEjB0c,EAA6BvgB,EAAAqC,EAAAyd,EAAA,GAAW9f,EAAAqC,EAAAoa,EAAA,KAAoBzc,EAAAqC,EAAAoa,EAAA,KAMtE,SALW8D,GAAgBA,EAAOhe,QAAM,KAChCge,EAA6BvgB,EAAAqC,EAAAyd,EAAA,GAAcA,EAAA,OAGrDnd,EAASsB,UAAUnB,SAAU,IAC3BoB,QAAYC,KAAuBnE,EAAAqC,EAAA4d,EAAA,GAAUpc,EAAe0c,GAAgBvgB,EAAAqC,EAAA2d,EAAA,OAAK1b,KACrF,SAAuBC,GjBwiEb,GiBxiERic,GAAAjc,EAAW,GAAEoB,EAAApB,EAAO,EACjB,IAAK5B,EAASS,QAAE,CACjB,GAAaqd,KACFD,GAASvd,SAAQyd,QAAC,SAAO3a,GAClC,GAAoBkY,GAAAlY,EAAkBO,QAAI5B,IAAC,SAAQ6B,GAAI,OACjDE,KAAWzG,EAAAqC,EAAA6d,EAAA,WAAS3Z,EAAME,MACzBtG,MAAUoG,EACfpG,QACKsgB,GAAQ1a,EAAQE,QACzBgY,IACItb,EAASsB,UAAUqC,QAAAma,EAAS3d,SAAO,EAAS6C,QAClDA,MAEF,WACUhD,EAASS,SACXT,EAASsB,UAAUnB,SACzB,OAKNH,EAAe+a,gBAAG,WAAM,MAAAtd,GAAA,qBAAc2E,UAAO,QAAW/E,EAAAqC,EAAA8d,EAAA,WAAwC,mCAuBlGxd,EAAA,MAzEsCxB,GAAAkf,EAA0B3d,GAI9D2d,EAAAte,UAAiBoB,kBAAjB,WACM/B,KAAQgC,SAAQ,EAChBhC,KACNkf,gBAEAD,EAAAte,UAAkB4B,mBAAlB,SAAmCC,GACpBA,EAAUC,YAASzC,KAAM0C,MAAWD,WAC3CzC,KACNkf,gBAGFD,EAAAte,UAAoBgC,qBAApB,WACM3C,KAAQgC,SACd,GAmCAid,EAAAte,UAAMoD,OAAN,WACS,MACL/E,GAAA,qBAAc2E,UAAoB,qBAChC3E,EAAA,wBAAcJ,EAAAqC,EAAA8d,EAAA,WAA+B,0BAExC/e,KAAMyB,MAAWC,QACpB1C,EAAA,mBAAY2E,UACV,gBAC6B/B,IAA3B5B,KAAMyB,MAAQ8C,aACiB3C,IAA/B5B,KAAMyB,MAAQyD,SAChBlG,EAAA,cAAgBggB,GACP9Z,QAAMlF,KAAMyB,MAAQyD,QACpBX,QAAMvE,KAAMyB,MAAQ8C,QACpBoD,QAAM3H,KAAM0C,MAAUD,UACd6Z,gBAAMtc,KAMjCsc,oBACD2C,GAzE0CjgB,EAAA,cjBgnEdL,GAAuB,EAAI,GAIlD4gB,KACA,SAAU7gB,EAAQC,EAAqBC,GAE7C,YkBpoEc,SAAA4gB,GAA2Drc,GlB2qErE,GkB3qEyCV,GAAAU,EAASV,UAAEZ,EAAAsB,EAAQtB,SAClDwX,EAAWxX,EAAiB,aACT4d,EAAW5d,EAA0C,sCACrE6d,EAAW7d,EAAkC,8BAChD8X,EAAY+F,EAAO1G,KAAMC,MAAWyG,OAAa9d,EAEtD,OACL5C,GAAA,qBAAc2E,UAA0C,2CACtD3E,EAAA,oBAAa2E,UAAsB,uBACvB/E,EAAAqC,EAAA8d,EAAA,WAAiC,iCAC3C/f,EAAA,cAAmB2gB,EAAA,GAAUld,UAAWA,EAAQoC,OAAqB,oBACrE7F,EAAA,cAAkB4gB,EAAA,GAAUnd,UAAWA,EAAQoC,OAC5C,kBAEEwU,GAAIra,EAAA,cAAW6gB,EAAA,GAAUpd,UAAWA,EAAQoC,OAAgB,eAAO9F,MAAYsa,IAEtFra,EAAA,cAAgB8gB,EAAA,GAAW/G,WAA+B0G,IAEnD9F,GAAI3a,EAAA,cAAO+gB,EAAA,GAAUtd,UAAWA,EAAQkX,OAAQA,EAAWC,UAGxE,kBlBgnEiCjb,EAAuB,EAAI6gB,CACvC,IAAIxgB,GAAsCJ,EAAoB,GAE1DmhB,GAD8CnhB,EAAoBM,EAAEF,GAC5BJ,EAAoB,OAC5DihB,EAA4CjhB,EAAoB,MAChE+gB,EAAoD/gB,EAAoB,MACxEghB,EAAmDhhB,EAAoB,MACvEkhB,EAAiDlhB,EAAoB,MACrEmgB,EAA8CngB,EAAoB,IAyCrFohB,KACA,SAAUthB,EAAQC,EAAqBC,GAE7C,YmBzrEc,SAAAqhB,GAAyD9c,GnBguEnE,GmBhuEuCV,GAAAU,EAASV,UAAEZ,EAAAsB,EAAQtB,SAChDwX,EAAWxX,EAAyB,qBACnBqe,EAAWre,EAAwC,oCACpE8X,EAAW9X,EAAyB,oBAEzC,OACL7C,GAAA,qBAAc2E,UAAwC,yCACpD3E,EAAA,oBAAa2E,UAAsB,uBAAW/E,EAAAqC,EAAA6Y,EAAA,WAAqC,gCAExET,GACTra,EAAA,cAAKgb,EAAA,MACD9S,GAA0BtI,EAAAqC,EAAAgZ,EAAA,GAAUxX,EAAiB,gBAC9CkB,UAAuB,wBAChC3E,EAAA,cAAOsa,EAAA,GAAMva,MAEhBsa,KAEDra,EAAA,cAAgBmhB,EAAA,GAAWpH,WAA6BmH,IAEjDvG,GACDnU,OAAQmU,GAAQ,GACpB3a,EAAA,qBAAc2E,UAAmB,oBAC/B3E,EAAA,cAAKgb,EAAA,MAAG9S,GAA0BtI,EAAAqC,EAAAgZ,EAAA,GAAUxX,EAAiB,iBAC3DzD,EAAA,0BACEA,EAAA,cAAQkb,EAAA,GACCvV,SAAUE,QAAO7B,IAAY,WAAMuC,KAAe,aAAOxG,MAChE4a,KAAI,IACe,IAAdnU,OAAQmU,GAAkB,UAE9B,aAAI,IACX3a,EAAA,sBAAe2E,UAAgC,iCAAW/E,EAAAqC,EAAA6Y,EAAA,WAKpE,yBnBupEiCnb,EAAuB,EAAIshB,CACvC,IAAIjhB,GAAsCJ,EAAoB,GAE1Dob,GAD8Cpb,EAAoBM,EAAEF,GACvBJ,EAAoB,KACjEuhB,EAAiDvhB,EAAoB,MACrE0a,EAAsD1a,EAAoB,KAC1Esb,EAA4Dtb,EAAoB,KAChFkb,EAA8Clb,EAAoB,GAClEqb,EAA8Crb,EAAoB,KAwCrFwhB,KACA,SAAU1hB,EAAQC,EAAqBC,GAE7C,YoB7uEc,SAAAyhB,GAAuDld,GpBoxEjE,GoBpxEqCV,GAAAU,EAASV,UAAEZ,EAAAsB,EAAQtB,SAC9CwX,EAAWxX,EAAuB,mBACnBye,EAAWze,EAAsC,kCAC7D6d,EAAW7d,EAA8B,0BAC5C8X,EAAY+F,EAAO1G,KAAMC,MAAWyG,OAAa9d,EAEtD,OACL5C,GAAA,qBAAc2E,UAAsC,uCAClD3E,EAAA,oBAAa2E,UAAsB,uBACvB/E,EAAAqC,EAAA8d,EAAA,WAA6B,6BACvC/f,EAAA,cAAmBuhB,EAAA,GAAU9d,UAAWA,EAAQoC,OAAiB,gBACjE7F,EAAA,cAAkBwhB,EAAA,GAAU/d,UAAWA,EAAQoC,OAC5C,wBAEEwU,GAAIra,EAAA,cAAWyhB,EAAA,GAAUhe,UAAWA,EAAQoC,OAAqB,qBAAM9F,MAAYsa,IAE1Fra,EAAA,cAAgB8gB,EAAA,GAAW/G,WAA2BuH,IAE/C3G,GAAI3a,EAAA,cAAO+gB,EAAA,GAAUtd,UAAWA,EAAQkX,OAAQA,EAAWC,UAGxE,wBpBytEiCjb,EAAuB,EAAI0hB,CACvC,IAAIrhB,GAAsCJ,EAAoB,GAE1DmhB,GAD8CnhB,EAAoBM,EAAEF,GAC5BJ,EAAoB,OAC5D2hB,EAAoD3hB,EAAoB,MACxE4hB,EAAmD5hB,EAAoB,MACvE6hB,EAA4C7hB,EAAoB,MAChEkhB,EAAiDlhB,EAAoB,MACrEmgB,EAA8CngB,EAAoB,IAyCrF8hB,KACA,SAAUhiB,EAAQC,EAAqBC,GAE7C,YACqB,IAAII,GAAsCJ,EAAoB,GAE1D+hB,GAD8C/hB,EAAoBM,EAAEF,GACbJ,EAAoB,OAC3EgiB,EAA4ChiB,EAAoB,MAChE+G,EAA8C/G,EAAoB,GAGvFmB,EAAYC,MAAQA,KAAKD,WAAa,WACtC,GAAIE,GAAgBpB,OAAOqB,iBAAoBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAC5FD,EAAEF,UAAYG,IACb,SAAUD,EAAGC,GACd,IAAK,GAAIC,KAAKD,GACNA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IAG1C,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KACLT,KAAKU,YAAcL,EAFvBJ,EAAcI,EAAGC,GAIjBD,EAAEM,UAAkB,OAANL,EAAazB,OAAO+B,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,QqBtzEvFogB,EAAA,SAAAvf,GAAA,QAAAuf,KAAA,GAAAtf,GAAA,OAAAD,KAAAE,MAAAxB,KAAAkB,YA0EClB,IrB8wEO,OqBt1ENuB,GAAKE,OAAmBC,SAAS,GA0BjCH,EAAYuf,aAAG,WAAM,MAAA9hB,GAAA,wBAAcJ,EAAAqC,EAAA0E,EAAA,WAAqB,iBA8C1DpE,EAAA,MA1EoCxB,GAAA8gB,EAAiCvf,GAInEuf,EAAAlgB,UAAiBoB,kBAAjB,WACM/B,KAAQgC,SAAQ,EAChBhC,KACN+gB,cAEAF,EAAAlgB,UAAoBgC,qBAApB,WACM3C,KAAQgC,SACd,GAEA6e,EAAAlgB,UAAUogB,WAAV,cAAAxf,GAaCvB,IAZgBpB,GAAAqC,EAAA2f,EAAA,GAAK5gB,KAAM0C,MAAUD,UAAKO,KAAKE,KAC5C,SAAM8d,GACIzf,EAASS,SACXT,EAASsB,UAASme,SAAStf,SACjC,KAEF,WACUH,EAASS,SACXT,EAASsB,UAAUnB,SACzB,OAONmf,EAAAlgB,UAAMoD,OAAN,WACU,GAAAtB,GAAAzC,KAAA0C,MAAyBD,UAC3BU,EAAAnD,KAAgCyB,MAA9Buf,EAAA7d,EAAM6d,MAEX,OAFa7d,GAAuBzB,QAInC1C,EAAA,yBACOgB,KAAe8gB,eACpB9hB,EAAA,mBAAY2E,UAGlB,aAEYqd,EAKVhiB,EAAA,yBACOgB,KAAe8gB,gBAEZE,EAAgBC,aACtBjiB,EAAA,qBAAc2E,UAA+B,gCAAW/E,EAAAqC,EAAA0E,EAAA,WACzD,yBAEMqb,EAAgBC,aACrBjiB,EAAA,qBAAc2E,UAAyB,0BAC3B/E,EAAAqC,EAAA0E,EAAA,WAAuB,uBACjC3G,EAAA,qBAAc2E,UAAa,cACzB3E,EAAA,mBACW2E,UAA4B,4BACjCud,KAActiB,EAAAqC,EAAA2f,EAAA,GAAUne,EAAKO,KAC3BoN,OAAS,SACP+Q,SAAW1e,EAAKgD,KAA4B,2BAC1C7G,EAAAqC,EAAA0E,EAAA,WAIjB,mBAEMqb,EAAaI,cAAIpiB,EAAA,cAAsB2hB,EAAA,GAAUle,UAAWA,EAAIO,IAAQge,OAGrFA,KA5BE,MA6BHH,GA1EwC7hB,EAAA,crB43EZL,GAAuB,EAAI,GAIlD0iB,KACA,SAAU3iB,EAAQC,EAAqBC,GAE7C,YsBp4Ec,SAAA0iB,GAAoDne,GtB26E9D,GsB36EkCV,GAAAU,EAASV,UAAEZ,EAAAsB,EAAQtB,SAC3CwX,EAAWxX,EAAoB,gBACnB0f,EAAW1f,EAAmC,+BACvD6d,EAAW7d,EAA2B,uBACzC8X,EAAY+F,EAAO1G,KAAMC,MAAWyG,OAAa9d,EAEtD,OACL5C,GAAA,qBAAc2E,UAAmC,oCAC/C3E,EAAA,oBAAa2E,UAAsB,uBACvB/E,EAAAqC,EAAA8d,EAAA,WAA0B,0BACpC/f,EAAA,cAAmBuhB,EAAA,GAAU9d,UAAWA,EAAQoC,OAAc,aAC9D7F,EAAA,cAAkBwhB,EAAA,GAAU/d,UAAWA,EAAQoC,OAC5C,qBAEEwU,GAAIra,EAAA,cAAWwiB,EAAA,GAAU/e,UAAWA,EAAQoC,OAAkB,kBAAM9F,MAAYsa,IAEvFra,EAAA,cAAgByiB,EAAA,GAAW1I,WAAwBwI,IAE5C5H,GAAI3a,EAAA,cAAO+gB,EAAA,GAAUtd,UAAWA,EAAQkX,OAAQA,EAAWC,UAGxE,qBtBg3EiCjb,EAAuB,EAAI2iB,CACvC,IAAItiB,GAAsCJ,EAAoB,GAE1DmhB,GAD8CnhB,EAAoBM,EAAEF,GAC5BJ,EAAoB,OAC5D2hB,EAAoD3hB,EAAoB,MACxE4hB,EAAmD5hB,EAAoB,MACvE6iB,EAAiD7iB,EAAoB,MACrE4iB,EAA4C5iB,EAAoB,MAChEmgB,EAA8CngB,EAAoB,IAyCrF8iB,KACA,SAAUhjB,EAAQC,EAAqBC,GAE7C,YACqB,IAAII,GAAsCJ,EAAoB,GAE1D+iB,GAD8C/iB,EAAoBM,EAAEF,GACxBJ,EAAoB,OAChEgjB,EAA8ChjB,EAAoB,GAGvFmB,EAAYC,MAAQA,KAAKD,WAAa,WACtC,GAAIE,GAAgBpB,OAAOqB,iBAAoBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAC5FD,EAAEF,UAAYG,IACb,SAAUD,EAAGC,GACd,IAAK,GAAIC,KAAKD,GACNA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,IAG1C,OAAO,UAAUF,EAAGC,GAEhB,QAASG,KACLT,KAAKU,YAAcL,EAFvBJ,EAAcI,EAAGC,GAIjBD,EAAEM,UAAkB,OAANL,EAAazB,OAAO+B,OAAON,IAAMG,EAAGE,UAAYL,EAAEK,UAAW,GAAIF,QuB38EvFohB,EAAA,SAAAvgB,GAGE,QAAAugB,GAAwBnf,GAAxB,GAAAnB,GACED,EAAAF,KAAApB,KAAY0C,IAEb1C,IvB0gFK,OuB1/ENuB,GAAWugB,YAAG,WACJvgB,EAASS,SACXT,EAASsB,UAAUnB,SACzB,KAGFH,EAAkBwgB,mBAAG,SAAoBC,GAC/BzgB,EAASS,SACXT,EAASsB,UAAUnB,SAAO,EAAYsgB,WAC5CA,KAGFzgB,EAAe0gB,gBAAG,SAA2CC,GAC1DA,EAAkBhN,iBAClBgN,EAAcC,cAAQC,OACnB7gB,EAASsB,UAAUnB,SAAU,IACxB9C,EAAAqC,EAAA0gB,EAAA,GAAKpgB,EAAMmB,MAAWD,WACxBS,KAAC,WAAM,MAAI3B,GAAmBwgB,oBAAM,KACnC9D,MAAK1c,EACfugB,cAEAvgB,EAAiB8gB,kBAAG,SAA2CH,GAC5DA,EAAkBhN,iBAClBgN,EAAcC,cAAQC,OACnB7gB,EAASsB,UAAUnB,SAAU,IACtB9C,EAAAqC,EAAA0gB,EAAA,GAAKpgB,EAAMmB,MAAWD,WAC1BS,KAAC,WAAM,MAAI3B,GAAmBwgB,oBAAO,KACpC9D,MAAK1c,EACfugB,cAEAvgB,EAAyB+gB,0BAAG,WAC1B,GAAwBC,GAClBhhB,EAAMmB,MAAOse,OAAmBwB,oBAAQjhB,EAAMmB,MAAOse,OAAiByB,eACtE,OAAU7jB,GAAAqC,EAAA2gB,EAAA,WAAmB,mBAAoBW,EACzD,cAEAhhB,EAAamhB,cAAG,WAAM,MAAInhB,GAAME,MAAQC,SAAI1C,EAAA,mBAAY2E,UAAyB,yBAEjFpC,EAAoBohB,qBAAG,WAAM,MAC3B3jB,GAAA,qBAAc2E,UAAgB,iBAC5B3E,EAAA,qBAAc2E,UAAgB,iBAC5B3E,EAAA,mBAAY2E,UAAuC,sCACnD3E,EAAA,qBAAc2E,UAAkB,mBACN/E,EAAAqC,EAAA2gB,EAAA,yBAAoB,oBAAMrgB,EAEhD+gB,+BACNtjB,EAAA,wBAAe4Z,QAAMrX,EAAkB8gB,mBAAYzjB,EAAAqC,EAAA2gB,EAAA,WAAgC,uBAC9ErgB,EAERmhB,kBAEDnhB,EAAuBqhB,wBAAG,WAAM,MAC9B5jB,GAAA,qBAAc2E,UAAoB,qBAChC3E,EAAA,mBAAY2E,UAAgB,iBACF/E,EAAAqC,EAAA2gB,EAAA,yBAAsB,sBAAMrgB,EAClD+gB,8BACJtjB,EAAA,wBAAiB2E,UAAsB,sBAAQiV,QAAMrX,EAAgB0gB,iBACzDrjB,EAAAqC,EAAA2gB,EAAA,WACH,qBACJrgB,EAERmhB,kBA9EKnhB,EAAME,OAAeugB,WAAOtf,EAAOse,OAAWgB,WAAStgB,SAAU,GACvEH,EA4FF,MAlG0CxB,GAAA8hB,EAAiCvgB,GAQzEugB,EAAAlhB,UAAiBoB,kBAAjB,WACM/B,KAAQgC,SACd,GAEA6f,EAAAlhB,UAAyBkiB,0BAAzB,SAA0CrR,GAC3BA,EAAOwP,OAAWgB,aAAShiB,KAAM0C,MAAOse,OAAYgB,YAC3DhiB,KAAS6C,UAAamf,WAAWxQ,EAAOwP,OAC9CgB,cAGFH,EAAAlhB,UAAoBgC,qBAApB,WACM3C,KAAQgC,SACd,GAiEA6f,EAAAlhB,UAAMoD,OAAN,WACE,GAGU+e,GAHIC,IAAS/iB,KAAM0C,MAAYsgB,YAAOC,MACxCjB,EAAAhiB,KAAAyB,MAA0BugB,UAS5B,OALCc,GADMC,EACOf,EAAOhiB,KAAuB2iB,uBAAO3iB,KACzD4iB,0BACU5jB,EAAA,mBAAY2E,UAAmB,oBAAW/E,EAAAqC,EAAA2gB,EAAA,WACpD,iCAEO5iB,EAAA,qBAAc2E,UAAwC,yCAC/Dmf,IACDjB,GAlG8C7iB,EAAA,cvB0iFlBL,GAAuB,EAAI,GAIlDukB,KACA,SAAUxkB,EAAQC,EAAqBC,GAE7C,YACqB,IAAI8P,GAA4C9P,EAAoB,IAChEukB,EAA8CvkB,EAAoB,MAClEwkB,EAAmDxkB,EAAoB,IwB/jF3EiQ,EAAG,SAAWpN,GAAK,OAC3BuhB,YAAgBpkB,EAAAqC,EAAAmiB,EAAA,gBAC3B3hB,IAEF9C,GAAA,EAAsBC,EAAAqC,EAAAyN,EAAA,SAAgCG,GAAesU,EAAA,IxB6lF/DE,KACA,SAAU3kB,EAAQC,EAAqBC,GAE7C,YyB5lFc,SAAA0kB,GAAgDngB,GzBioF1D,GyBjoF8BV,GAAAU,EAASV,UAAEZ,EAAAsB,EAAQtB,SACrCkY,EAAWlY,EAAa,SAC3B0hB,EAAW1hB,EAAU,MACT2hB,EAAW3hB,EAAgC,2BAE3D,OACL7C,GAAA,yBAAWiJ,GAAoB,oBAAUtE,UAAoB,qBACjDlB,EAAYghB,aAAIzkB,EAAA,qBAAc2E,UAAoB,qBAAWlB,EAAmBghB,aAE1FzkB,EAAA,oBAAa2E,UAAiB,kBAC5B3E,EAAA,wBACEA,EAAA,qBAAc2E,UAAoC,qCAChD3E,EAAA,cAAKgb,EAAA,MAAG9S,GAA0BtI,EAAAqC,EAAAyiB,EAAA,GAAUjhB,EAAIO,IAAa,aAC3DhE,EAAA,cAAQ2kB,EAAA,GACChf,SAAUE,QAAO7B,IAAY,WAAMuC,KAAe,aAAOxG,MAGhEgb,OACN/a,EAAA,qBAAc2E,UAAwB,yBAAW/E,EAAAqC,EAAA0M,EAAA,WAC9C,cACL3O,EAAA,wBACEA,EAAA,qBAAc2E,UAAoC,qCAChD3E,EAAA,cAAKgb,EAAA,MAAG9S,GAA0BtI,EAAAqC,EAAAyiB,EAAA,GAAUjhB,EAAIO,IAAU,UACxDhE,EAAA,cAAQ2kB,EAAA,GAAQhf,SAAUE,QAAO7B,IAAS,QAAMuC,KAAe,aAAOxG,MAEpEwkB,OACNvkB,EAAA,qBAAc2E,UAAwB,yBAAW/E,EAAAqC,EAAA0M,EAAA,WAEhD,wBAEiB6V,GACpBxkB,EAAA,qBAAc2E,UAAiB,kBAC7B3E,EAAA,cAA8B4kB,EAAA,GAAa7V,aAAmByV,EAAOxX,MAK/E,QzBwjFiCrN,EAAuB,EAAI2kB,CACvC,IAAItkB,GAAsCJ,EAAoB,GAE1Dob,GAD8Cpb,EAAoBM,EAAEF,GACvBJ,EAAoB,KACjEglB,EAAiFhlB,EAAoB,MACrG+kB,EAA4D/kB,EAAoB,KAChF+O,EAA8C/O,EAAoB,GAClE8kB,EAA8C9kB,EAAoB,KAuCrFilB,KACA,SAAUnlB,EAAQC,EAAqBC,GAE7C,Y0B1oFc,SAAAklB,GAAkE3gB,G1BorF5E,G0BprFoCV,GAAAU,EAASV,UAAEW,EAAAD,EAAaC,cAAEK,EAAAN,EAAKM,MAC1DsgB,EAAgB3gB,EAAQjC,MAEhC,KAAQ4iB,EACH,MACR,KAEA,IAAYC,GAAAplB,EAAAqC,EAAA8O,EAAA,KAAA3M,EACOE,IAAC,SAASb,GAAI,MAAM+C,QAAU/C,EAASZ,SAAS,OAAM,MAGpDoiB,GAAalH,SAAS,QAAOhX,OAAMkC,GAAgBxF,GAEjE,OAAAzD,GAAA,qBACS2E,UAA6C,6CAAGsE,GAA2B,4BAAAjJ,EAAA,uBACvE2E,UAAa,cAC3B3E,EAAA,2BACEA,EAAA,wBACEA,EAAA,wBAAe,KACfA,EAAA,oBAAa2E,UAA4C,6CAC7C/E,EAAAqC,EAAA6Y,EAAA,WACP,gCACL9a,EAAA,oBAAa2E,UAA4C,6CAC7C/E,EAAAqC,EAAA6Y,EAAA,WACP,8BACL9a,EAAA,oBAAa2E,UAA4C,6CAC7C/E,EAAAqC,EAAA6Y,EAAA,WACP,2BACL9a,EAAA,oBAAa2E,UAA4C,6CAC7C/E,EAAAqC,EAAA6Y,EAAA,WACP,kCACL9a,EAAA,oBAAa2E,UAA4C,6CAC7C/E,EAAAqC,EAAA6Y,EAAA,WAGR,wBAAA9a,EAAA,2BAAAoE,EAEYE,IAAC,SAASb,GAAI,MAC9BzD,GAAA,oBAAOgE,IAAWP,EAAIO,KACpBhE,EAAA,wBACEA,EAAA,cAAKgb,EAAA,MACD9S,GAAetI,EAAAqC,EAAAijB,EAAA,GAAUzhB,EAAO0hB,QAAa1hB,EAAKO,KAC3CW,UAAiB,kBAC1B3E,EAAA,cAAcolB,EAAA,GAAUC,UAAW5hB,EAAc4hB,YAAA,IAAW5hB,EAE3DgD,OAC4B,QAAvBhD,EAAU4hB,UACRC,EAAU7hB,EAASZ,SAAgB,eAC3C,SACQyiB,EAAU7hB,EAASZ,SAAwB,uBACtD,UACUyiB,EAAU7hB,EAASZ,SAAsB,qBAAW,UACpDyiB,EAAU7hB,EAASZ,SAAmB,kBAAW,UACjDyiB,EAAU7hB,EAASZ,SAAgB,eAAW,UAC7C0iB,EAAU9hB,EAASZ,SAElCmiB,QAICvgB,EAAYsgB,GAChB/kB,EAAA,wBAAiB2E,UAA8B,+BACrB/E,EAAAqC,EAAA6Y,EAAA,yBACR,eACDlb,EAAAqC,EAAAujB,EAAA,eAAMT,EAAQ,OACdnlB,EAAAqC,EAAAujB,EAAA,eAAM/gB,EACpB,QACDzE,EAAA,cAAKgb,EAAA,MAAG9S,GAAiB+c,EAAWtgB,UAAc,eACtC/E,EAAAqC,EAAA6Y,EAAA,WAMtB,gBAEA,QAAAwK,GAAmEziB,EAAgBgD,EAAcU,GACxF,MACLvG,GAAA,oBAAa2E,UAAc,eACzB3E,EAAA,cAAQ2kB,EAAA,GAAQhf,SAAUE,QAAO7B,IAAQ6B,EAAMU,KAAEA,GAAOxG,MAAU8C,EAGxEgD,OAEA,QAAA0f,GAAoE1iB,EAAgBmiB,GAClF,GAAWT,GAAS/d,OAAS3D,EAAS,OAAO,GAC/B4iB,EAAST,EAAI,EAAO/X,KAAIyY,IAAE,EAAMzY,KAAMC,MAAMqX,EAASS,EAAO,KAAK,CACxE,OACLhlB,GAAA,oBAAa2E,UAAa,cAAA3E,EAAA,sBACT2E,UAAO,QAAA3E,EAAA,cACZ2kB,EAAA,GACChf,SACCE,QAAO7B,IAAS,QAAMuC,KAAe,aACtCxG,MAAU8C,EAGd,UACAmiB,EAAQ,GACbhlB,EAAA,qBAAUgN,MAAK,KAAOK,OAAK,KAAU1I,UAAc,eACjD3E,EAAA,sBAAe2E,UAAgB,gBAAEyB,EAAI,IAAEE,EAAI,IAAM0G,MAAUyY,EAAQpY,OAK7E,S1BmiFiC1N,EAAuB,EAAImlB,CACvC,IAAI9kB,GAAsCJ,EAAoB,GAE1Dob,GAD8Cpb,EAAoBM,EAAEF,GACvBJ,EAAoB,KACjEmR,EAAuCnR,EAAoB,GAE3D+kB,GAD+C/kB,EAAoBM,EAAE6Q,GACTnR,EAAoB,MAChFwlB,EAAiExlB,EAAoB,IACrFkb,EAA8Clb,EAAoB,GAClE4lB,EAAkD5lB,EAAoB,IACtEslB,EAA8CtlB,EAAoB,KA4DrF+lB,KACA,SAAUjmB,EAAQC,EAAqBC,GAE7C,Y2BlqFM,SAAAgmB,GAA6E/iB,GACjF,GAAY6I,KAIN,OAHE7I,GAAQyd,QAAC,SAAO3a,GAChB+F,EAAQ/F,EAAQE,QAAUF,EAClC5F,QAEF2L,E3B+pF+B9L,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOkmB,KACpEjmB,EAAoByB,EAAE1B,EAAqB,IAAK,WAAa,MAAOmmB,KAClEnmB,EAAuB,EAAIimB,C2BvsFrD,IAAuBC,IAClB,WACH,QACsB,8BAEP,uBACA,uBAER,eACiB,gCAEX,qBACO,4BAEV,kBACO,yBAEa,sCACE,wCACP,iCAEhC,qCAEiCC,GAC1B,QACe,uBACL,kBACG,qBACN,eAEd,iB3BwuFIC,KACA,SAAUrmB,EAAQsmB,EAASpmB,G4B5zFjComB,EAAAtmB,EAAAsmB,QAAApmB,EAAA,QAAAgD,IAKAojB,EAAAre,MAAAjI,EAAAuC,EAAA,6kDAAkmD,M5Bq0F5lDgkB,KACA,SAAUvmB,EAAQsmB,EAASpmB,G6Bx0FjC,GAAAsmB,GAAAtmB,EAAA,KACA,iBAAAsmB,SAAAxmB,EAAAuC,EAAAikB,EAAA,KAEA,IAEAC,KACAA,GAAA7X,cAHAA,EAKA1O,GAAA,IAAAsmB,EAAAC,EACAD,GAAAE,SAAA1mB,EAAAsmB,QAAAE,EAAAE","file":"js/244.6a8b52fe.chunk.js","sourcesContent":["webpackJsonp([244],{\n\n/***/ 2106:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Summary__ = __webpack_require__(2291);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Report__ = __webpack_require__(2287);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__WorstProjects__ = __webpack_require__(2292);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__ = __webpack_require__(2285);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__ = __webpack_require__(2286);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__SecurityBox__ = __webpack_require__(2288);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__ = __webpack_require__(2284);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Activity__ = __webpack_require__(2283);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__api_measures__ = __webpack_require__(389);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__api_components__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils__ = __webpack_require__(2293);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__styles_css__ = __webpack_require__(2712);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__styles_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__styles_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar __assign = this && this.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) {\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n    }\n    return t;\n};\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar App = function (_super) {\n    __extends(App, _super);\n    function App() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.isEmpty = function () {\n            return _this.state.measures == undefined || _this.state.measures['ncloc'] == undefined;\n        };\n        _this.isNotComputed = function () {\n            return _this.state.measures && _this.state.measures['reliability_rating'] == undefined;\n        };\n        return _this;\n    }\n    App.prototype.componentDidMount = function () {\n        this.mounted = true;\n        var html = document.querySelector('html');\n        if (html) {\n            html.classList.add('dashboard-page');\n        }\n        this.fetchData();\n    };\n    App.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.component !== this.props.component) {\n            this.fetchData();\n        }\n    };\n    App.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n        var html = document.querySelector('html');\n        if (html) {\n            html.classList.remove('dashboard-page');\n        }\n    };\n    App.prototype.fetchData = function () {\n        var _this = this;\n        this.setState({ loading: true });\n        Promise.all([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__api_measures__[\"a\" /* getMeasures */])(this.props.component.key, __WEBPACK_IMPORTED_MODULE_11__utils__[\"a\" /* PORTFOLIO_METRICS */]), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__api_components__[\"h\" /* getChildren */])(this.props.component.key, __WEBPACK_IMPORTED_MODULE_11__utils__[\"b\" /* SUB_COMPONENTS_METRICS */], { ps: 20 })]).then(function (_a) {\n            var measures = _a[0],\n                subComponents = _a[1];\n            if (_this.mounted) {\n                _this.setState({\n                    loading: false,\n                    measures: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__utils__[\"c\" /* convertMeasures */])(measures),\n                    subComponents: subComponents.components.map(function (component) {\n                        return __assign({}, component, { measures: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__utils__[\"c\" /* convertMeasures */])(component.measures) });\n                    }),\n                    totalSubComponents: subComponents.paging.total\n                });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    App.prototype.renderSpinner = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"text-center\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner spinner-margin\" })));\n    };\n    App.prototype.renderEmpty = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"empty-search\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h3\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_13__helpers_l10n__[\"translate\"])('portfolio.empty')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_13__helpers_l10n__[\"translate\"])('portfolio.empty.hint')));\n    };\n    App.prototype.renderWhenNotComputed = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"empty-search\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h3\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_13__helpers_l10n__[\"translate\"])('portfolio.not_computed')));\n    };\n    App.prototype.renderMain = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            measures = _a.measures,\n            subComponents = _a.subComponents,\n            totalSubComponents = _a.totalSubComponents;\n        if (this.isEmpty()) {\n            return this.renderEmpty();\n        }\n        if (this.isNotComputed()) {\n            return this.renderWhenNotComputed();\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-boxes\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_6__SecurityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__[\"a\" /* default */], { component: component.key, measures: measures })), subComponents != undefined && totalSubComponents != undefined && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__WorstProjects__[\"a\" /* default */], { component: component.key, subComponents: subComponents, total: totalSubComponents }));\n    };\n    App.prototype.render = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            loading = _a.loading,\n            measures = _a.measures;\n        if (loading) {\n            return this.renderSpinner();\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-with-sidebar\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-main\" }, this.renderMain()), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"aside\", { className: \"page-sidebar-fixed\" }, !this.isEmpty() && !this.isNotComputed() && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Summary__[\"a\" /* default */], { component: component, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_8__Activity__[\"a\" /* default */], { component: component.key }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Report__[\"a\" /* default */], { component: component }))));\n    };\n    return App;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n/***/ }),\n\n/***/ 2152:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return EVENT_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"u\", function() { return APPLICATION_EVENT_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return DEFAULT_GRAPH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return GRAPH_TYPES; });\n/* unused harmony export GRAPHS_METRICS_DISPLAYED */\n/* unused harmony export GRAPHS_METRICS */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return datesQueryChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return activityQueryChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return customMetricsChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return hasDataValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return hasHistoryData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"v\", function() { return hasHistoryDataValue; });\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = historyQueryChanged;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return isCustomGraph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return selectedDateQueryChanged; });\n/* unused harmony export generateCoveredLinesMetric */\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = generateSeries;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return splitSeriesInGraphs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return getSeriesMetricType; });\n/* harmony export (immutable) */ __webpack_exports__[\"t\"] = getAnalysesByVersionByDay;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return getDisplayedHistoryMetrics; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getHistoryMetrics; });\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = parseQuery;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = serializeQuery;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = serializeUrlQuery;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__helpers_query__ = __webpack_require__(699);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_dates__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from './types'; */\n/*:: import type { RawQuery } from '../../helpers/query'; */\n/*:: import type { Serie } from '../../components/charts/AdvancedTimeline'; */\n\nvar EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nvar APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nvar DEFAULT_GRAPH = 'issues';\nvar GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nvar GRAPHS_METRICS_DISPLAYED = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['uncovered_lines', 'lines_to_cover'],\n  duplications: ['duplicated_lines', 'ncloc']\n};\nvar GRAPHS_METRICS = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat(['reliability_rating', 'security_rating', 'sqale_rating']),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nvar datesQueryChanged = function datesQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.from, nextQuery.from) || !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.to, nextQuery.to);\n};\n\nvar activityQueryChanged = function activityQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n};\n\nvar customMetricsChanged = function customMetricsChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.customMetrics, nextQuery.customMetrics);\n};\n\nvar hasDataValues = function hasDataValues(serie /*: Serie */) {\n  return serie.data.some(function (point) {\n    return point.y || point.y === 0;\n  });\n};\n\nvar hasHistoryData = function hasHistoryData(series /*: Array<Serie> */) {\n  return series.some(function (serie) {\n    return serie.data && serie.data.length > 1;\n  });\n};\n\nvar hasHistoryDataValue = function hasHistoryDataValue(series /*: Array<Serie> */) {\n  return series.some(function (serie) {\n    return serie.data && serie.data.length > 1 && hasDataValues(serie);\n  });\n};\n\nfunction historyQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) /*: boolean */{\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nvar isCustomGraph = function isCustomGraph(graph /*: string */) {\n  return graph === 'custom';\n};\n\nvar selectedDateQueryChanged = function selectedDateQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.selectedDate, nextQuery.selectedDate);\n};\n\nvar generateCoveredLinesMetric = function generateCoveredLinesMetric(uncoveredLines /*: MeasureHistory */\n, measuresHistory /*: Array<MeasureHistory> */\n) {\n  var linesToCover = measuresHistory.find(function (measure) {\n    return measure.metric === 'lines_to_cover';\n  });\n  return {\n    data: linesToCover ? uncoveredLines.history.map(function (analysis, idx) {\n      return {\n        x: analysis.date,\n        y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n      };\n    }) : [],\n    name: 'covered_lines',\n    translatedName: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n};\n\nfunction generateSeries(measuresHistory /*: Array<MeasureHistory> */\n, graph /*: string */\n, metrics /*: Array<Metric> */\n, displayedMetrics /*: Array<string> */\n) /*: Array<Serie> */{\n  if (displayedMetrics.length <= 0) {\n    return [];\n  }\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"sortBy\"])(measuresHistory.filter(function (measure) {\n    return displayedMetrics.indexOf(measure.metric) >= 0;\n  }).map(function (measure) {\n    if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n      return generateCoveredLinesMetric(measure, measuresHistory);\n    }\n    var metric = metrics.find(function (metric) {\n      return metric.key === measure.metric;\n    });\n    return {\n      data: measure.history.map(function (analysis) {\n        return {\n          x: analysis.date,\n          y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n        };\n      }),\n      name: measure.metric,\n      translatedName: metric ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"getLocalizedMetricName\"])(metric) : measure.metric,\n      type: metric ? metric.type : 'INT'\n    };\n  }), function (serie) {\n    return displayedMetrics.indexOf(serie.name);\n  });\n}\n\nvar splitSeriesInGraphs = function splitSeriesInGraphs(series /*: Array<Serie> */\n, maxGraph /*: number */\n, maxSeries /*: number */\n) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"flatMap\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"groupBy\"])(series, function (serie) {\n    return serie.type;\n  }), function (type) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"chunk\"])(type, maxSeries);\n  }).slice(0, maxGraph);\n};\n\nvar getSeriesMetricType = function getSeriesMetricType(series /*: Array<Serie> */) {\n  return series.length > 0 ? series[0].type : 'INT';\n};\n\nfunction getAnalysesByVersionByDay(analyses /*: Array<Analysis> */, query /*: Query */) {\n  return analyses.reduce(function (acc, analysis) {\n    var currentVersion = acc[acc.length - 1];\n    var versionEvent = analysis.events.find(function (event) {\n      return event.category === 'VERSION';\n    });\n    if (versionEvent) {\n      var newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    var day = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_dates__[\"startOfDay\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_dates__[\"parseDate\"])(analysis.date)).getTime().toString();\n\n    var matchFilters = true;\n    if (query.category || query.from || query.to) {\n      var isAfterFrom = !query.from || analysis.date >= query.from;\n      var isBeforeTo = !query.to || analysis.date <= query.to;\n      var hasSelectedCategoryEvents = !query.category || analysis.events.find(function (event) {\n        return event.category === query.category;\n      }) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nvar getDisplayedHistoryMetrics = function getDisplayedHistoryMetrics(graph /*: string */\n, customMetrics /*: Array<string> */\n) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph];\n};\n\nvar getHistoryMetrics = function getHistoryMetrics(graph /*: string */, customMetrics /*: Array<string> */) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n};\n\nvar parseGraph = function parseGraph(value /*: ?string */) {\n  var graph = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"c\" /* parseAsString */])(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n};\n\nvar serializeGraph = function serializeGraph(value /*: string */) {\n  return value === DEFAULT_GRAPH ? undefined : value;\n};\n\nfunction parseQuery(urlQuery /*: RawQuery */) /*: Query */{\n  return {\n    category: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"c\" /* parseAsString */])(urlQuery['category']),\n    customMetrics: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"b\" /* parseAsArray */])(urlQuery['custom_metrics'], __WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"c\" /* parseAsString */]),\n    from: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* parseAsDate */])(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"c\" /* parseAsString */])(urlQuery['id']),\n    to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* parseAsDate */])(urlQuery['to']),\n    selectedDate: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* parseAsDate */])(urlQuery['selected_date'])\n  };\n}\n\nfunction serializeQuery(query /*: Query */) /*: RawQuery */{\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"g\" /* cleanQuery */])({\n    category: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* serializeString */])(query.category),\n    from: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.from),\n    project: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* serializeString */])(query.project),\n    to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.to)\n  });\n}\n\nfunction serializeUrlQuery(query /*: Query */) /*: RawQuery */{\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"g\" /* cleanQuery */])({\n    category: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* serializeString */])(query.category),\n    custom_metrics: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"e\" /* serializeStringArray */])(query.customMetrics),\n    from: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.from),\n    graph: serializeGraph(query.graph),\n    id: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* serializeString */])(query.project),\n    to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.to),\n    selected_date: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.selectedDate)\n  });\n}\n\n/***/ }),\n\n/***/ 2163:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getTimeMachineData */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getAllTimeMachineData;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_request__ = __webpack_require__(22);\n\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) {\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n    }\n    return t;\n};\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\nfunction getTimeMachineData(component, metrics, other) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/measures/search_history', __assign({ component: component, metrics: metrics.join(), ps: 1000 }, other));\n}\nfunction getAllTimeMachineData(component, metrics, other, prev) {\n    return getTimeMachineData(component, metrics, __assign({}, other, { ps: 1000 })).then(function (r) {\n        var result = prev ? {\n            measures: prev.measures.map(function (measure, idx) {\n                return __assign({}, measure, { history: measure.history.concat(r.measures[idx].history) });\n            }),\n            paging: r.paging\n        } : r;\n        if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n            return result;\n        }\n        return getAllTimeMachineData(component, metrics, __assign({}, other, { p: result.paging.pageIndex + 1 }), result);\n    });\n}\n\n/***/ }),\n\n/***/ 2166:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d3_array__ = __webpack_require__(247);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d3_scale__ = __webpack_require__(246);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__ = __webpack_require__(26);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar BAR_HEIGHT = 10;\nvar DEFAULT_PADDING = [10, 10, 10, 10];\nvar Histogram = function (_super) {\n    __extends(Histogram, _super);\n    function Histogram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Histogram.prototype.wrapWithTooltip = function (element, index) {\n        var tooltip = this.props.yTooltips && this.props.yTooltips[index];\n        return tooltip ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__[\"a\" /* default */], { key: index, overlay: tooltip, placement: \"top\" }, element) : element;\n    };\n    Histogram.prototype.renderBar = function (d, index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var width = Math.round(xScale(d)) + 1;\n        var x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2);\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"rect\", { className: \"bar-chart-bar\", x: x, y: y, width: width, height: BAR_HEIGHT });\n    };\n    Histogram.prototype.renderValue = function (d, index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b,\n            yValues = _a.yValues;\n        var value = yValues && yValues[index];\n        if (!value) {\n            return null;\n        }\n        var x = xScale(d) + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        return this.wrapWithTooltip(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"text\", { className: \"bar-chart-tick histogram-value\", x: x, y: y, dx: \"1em\", dy: \"0.3em\" }, value), index);\n    };\n    Histogram.prototype.renderTick = function (index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            yTicks = _a.yTicks;\n        var tick = yTicks && yTicks[index];\n        if (!tick) {\n            return null;\n        }\n        var x = xScale.range()[0];\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        var historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"text\", { className: 'bar-chart-tick ' + historyTickClass, x: x, y: y, dx: alignTicks ? 0 : '-1em', dy: \"0.3em\" }, tick);\n    };\n    Histogram.prototype.renderBars = function (xScale, yScale) {\n        var _this = this;\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", null, this.props.bars.map(function (d, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", { key: index }, _this.renderBar(d, index, xScale, yScale), _this.renderValue(d, index, xScale, yScale), _this.renderTick(index, xScale, yScale));\n        }));\n    };\n    Histogram.prototype.render = function () {\n        var _a = this.props,\n            bars = _a.bars,\n            width = _a.width,\n            height = _a.height,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var xScale = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d3_scale__[\"scaleLinear\"])().domain([0, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_array__[\"max\"])(bars)]).range([0, availableWidth]);\n        var availableHeight = height - padding[0] - padding[2];\n        var yScale = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d3_scale__[\"scaleBand\"])().domain(bars.map(function (_, index) {\n            return index;\n        })).rangeRound([0, availableHeight]);\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"svg\", { className: \"bar-chart\", width: this.props.width, height: this.props.height }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", { transform: \"translate(\" + (this.props.alignTicks ? 4 : padding[3]) + \", \" + padding[0] + \")\" }, this.renderBars(xScale, yScale)));\n    };\n    return Histogram;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Histogram);\n\n/***/ }),\n\n/***/ 2167:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = LanguageDistribution;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Histogram__ = __webpack_require__(2166);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_measures__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\nfunction LanguageDistribution(props) {\n    var distribution = props.distribution.split(';').map(function (point) {\n        var tokens = point.split('=');\n        return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n    });\n    distribution = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"sortBy\"])(distribution, function (d) {\n        return -d.lines;\n    });\n    var data = distribution.map(function (d) {\n        return d.lines;\n    });\n    var yTicks = distribution.map(function (d) {\n        return getLanguageName(d.language);\n    }).map(cutLanguageName);\n    var yTooltips = distribution.map(function (d) {\n        return d.lines > 1000 ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_measures__[\"formatMeasure\"])(d.lines, 'INT') : '';\n    });\n    var yValues = distribution.map(function (d) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_measures__[\"formatMeasure\"])(d.lines, 'SHORT_INT');\n    });\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Histogram__[\"a\" /* default */], { alignTicks: props.alignTicks, bars: data, height: distribution.length * 25, padding: [0, 60, 0, 80], yTicks: yTicks, yTooltips: yTooltips, yValues: yValues, width: props.width });\n    function getLanguageName(langKey) {\n        if (langKey === '<null>') {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('unknown');\n        }\n        var lang = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"find\"])(props.languages, { key: langKey });\n        return lang ? lang.name : langKey;\n    }\n}\nfunction cutLanguageName(name) {\n    return name.length > 10 ? name.substr(0, 7) + \"...\" : name;\n}\n\n/***/ }),\n\n/***/ 2168:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_rootReducer__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__ = __webpack_require__(2167);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    languages: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__store_rootReducer__[\"getLanguages\"])(state)\n  };\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"connect\"])(mapStateToProps)(__WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__[\"a\" /* default */]));\n\n/***/ }),\n\n/***/ 2172:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d3_array__ = __webpack_require__(247);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d3_scale__ = __webpack_require__(246);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d3_shape__ = __webpack_require__(205);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n/*::\ntype Event = { className?: string, name: string, date: Date };\n*/\n/*::\nexport type Point = { x: Date, y: number | string };\n*/\n/*::\nexport type Serie = { name: string, data: Array<Point>, type: string };\n*/\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  events?: Array<Event>,\n  eventSize?: number,\n  disableZoom?: boolean,\n  formatYTick?: number => string,\n  hideGrid?: boolean,\n  hideXAxis?: boolean,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  metricType: string,\n  padding: Array<number>,\n  selectedDate?: Date,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showEventMarkers?: boolean,\n  startDate: ?Date,\n  updateSelectedDate?: (selectedDate: ?Date) => void,\n  updateTooltip?: (selectedDate: ?Date, tooltipXPos: ?number, tooltipIdx: ?number) => void,\n  updateZoom?: (start: ?Date, endDate: ?Date) => void,\n  zoomSpeed: number\n};\n*/\n\n/*::\ntype State = {\n  maxXRange: Array<number>,\n  mouseOver?: boolean,\n  mouseOverlayPos?: { [string]: number },\n  selectedDate: ?Date,\n  selectedDateXPos: ?number,\n  selectedDateIdx: ?number,\n  yScale: Scale,\n  xScale: Scale\n};\n*/\n\nvar _ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div', null);\n\nvar AdvancedTimeline = function (_React$PureComponent) {\n  _inherits(AdvancedTimeline, _React$PureComponent);\n\n  function AdvancedTimeline(props /*: Props */) {\n    _classCallCheck(this, AdvancedTimeline);\n\n    var _this = _possibleConstructorReturn(this, (AdvancedTimeline.__proto__ || Object.getPrototypeOf(AdvancedTimeline)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var scales = _this.getScales(props);\n    var selectedDatePos = _this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    _this.state = Object.assign({}, scales, selectedDatePos);\n    _this.updateTooltipPos = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"throttle\"])(_this.updateTooltipPos, 40);\n    _this.handleZoomUpdate = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"throttle\"])(_this.handleZoomUpdate, 40);\n    return _this;\n  }\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  _createClass(AdvancedTimeline, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps /*: Props */) {\n      var scales = void 0;\n      var selectedDatePos = void 0;\n      if (nextProps.metricType !== this.props.metricType || nextProps.startDate !== this.props.startDate || nextProps.endDate !== this.props.endDate || nextProps.width !== this.props.width || nextProps.padding !== this.props.padding || nextProps.height !== this.props.height || nextProps.series !== this.props.series) {\n        scales = this.getScales(nextProps);\n        if (this.state.selectedDate != null) {\n          selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n        }\n      }\n\n      if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"isEqual\"])(nextProps.selectedDate, this.props.selectedDate)) {\n        var xScale = scales ? scales.xScale : this.state.xScale;\n        selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n      }\n\n      if (scales || selectedDatePos) {\n        this.setState(Object.assign({}, scales || {}, selectedDatePos || {}));\n\n        if (selectedDatePos && nextProps.updateTooltip) {\n          nextProps.updateTooltip(selectedDatePos.selectedDate, selectedDatePos.selectedDateXPos, selectedDatePos.selectedDateIdx);\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.width || !this.props.height) {\n        return _ref;\n      }\n      var zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n      var isZoomed = this.props.startDate || this.props.endDate;\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'svg',\n        {\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart', { 'chart-zoomed': isZoomed }),\n          width: this.props.width,\n          height: this.props.height },\n        zoomEnabled && this.renderClipPath(),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'g',\n          { transform: 'translate(' + this.props.padding[3] + ', ' + this.props.padding[0] + ')' },\n          this.props.leakPeriodDate != null && this.renderLeak(),\n          !this.props.hideGrid && this.renderHorizontalGrid(),\n          !this.props.hideXAxis && this.renderXAxisTicks(),\n          this.props.showAreas && this.renderAreas(),\n          this.renderLines(),\n          this.props.showEventMarkers && this.renderEvents(),\n          this.renderSelectedDate(),\n          this.renderMouseEventsOverlay(zoomEnabled)\n        )\n      );\n    }\n  }]);\n\n  return AdvancedTimeline;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\nAdvancedTimeline.defaultProps = {\n  eventSize: 8,\n  padding: [10, 10, 30, 60],\n  zoomSpeed: 1\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.getRatingScale = function (availableHeight /*: number */) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scalePoint\"])().domain([5, 4, 3, 2, 1]).range([availableHeight, 0]);\n  };\n\n  this.getLevelScale = function (availableHeight /*: number */) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scalePoint\"])().domain(['ERROR', 'WARN', 'OK']).range([availableHeight, 0]);\n  };\n\n  this.getYScale = function (props /*: Props */, availableHeight /*: number */, flatData /*: Array<Point> */) {\n    if (props.metricType === 'RATING') {\n      return _this2.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return _this2.getLevelScale(availableHeight);\n    } else {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scaleLinear\"])().range([availableHeight, 0]).domain([0, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"max\"])(flatData, function (d) {\n        return d.y;\n      }) || 1]).nice();\n    }\n  };\n\n  this.getXScale = function (_ref2 /*: Props */\n  , availableWidth /*: number */\n  , flatData /*: Array<Point> */\n  ) {\n    var startDate = _ref2.startDate,\n        endDate = _ref2.endDate;\n\n    var dateRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"extent\"])(flatData, function (d) {\n      return d.x;\n    });\n    var start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    var end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    var xScale = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scaleTime\"])().domain(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"sortBy\"])([start, end])).range([0, availableWidth]).clamp(false);\n    return {\n      xScale: xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  this.getScales = function (props /*: Props */) {\n    var availableWidth = props.width - props.padding[1] - props.padding[3];\n    var availableHeight = props.height - props.padding[0] - props.padding[2];\n    var flatData = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"flatten\"])(props.series.map(function (serie /*: Serie */) {\n      return serie.data;\n    }));\n    return Object.assign({}, _this2.getXScale(props, availableWidth, flatData), {\n      yScale: _this2.getYScale(props, availableHeight, flatData)\n    });\n  };\n\n  this.getSelectedDatePos = function (xScale /*: Scale */, selectedDate /*: ?Date */) {\n    var firstSerie = _this2.props.series[0];\n    if (selectedDate && firstSerie) {\n      var idx = firstSerie.data.findIndex(\n      // $FlowFixMe selectedDate can't be null there\n      function (p) {\n        return p.x.valueOf() === selectedDate.valueOf();\n      });\n      var xRange = xScale.range().sort();\n      var xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate: selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: null, selectedDateXPos: null, selectedDateIdx: null };\n  };\n\n  this.getEventMarker = function (size /*: number */) {\n    var half = size / 2;\n    return 'M' + half + ' 0 L' + size + ' ' + half + ' L ' + half + ' ' + size + ' L0 ' + half + ' L' + half + ' 0 L' + size + ' ' + half;\n  };\n\n  this.getMouseOverlayPos = function (target /*: HTMLElement */) {\n    if (_this2.state.mouseOverlayPos) {\n      return _this2.state.mouseOverlayPos;\n    }\n    var pos = target.getBoundingClientRect();\n    _this2.setState({ mouseOverlayPos: pos });\n    return pos;\n  };\n\n  this.handleWheel = function (evt /*: WheelEvent & { target: HTMLElement } */) {\n    evt.preventDefault();\n    var _state = _this2.state,\n        maxXRange = _state.maxXRange,\n        xScale = _state.xScale;\n\n    var parentBbox = _this2.getMouseOverlayPos(evt.target);\n    var mouseXPos = (evt.pageX - parentBbox.left) / parentBbox.width;\n    var xRange = xScale.range();\n    var speed = evt.deltaMode ? 25 / evt.deltaMode * _this2.props.zoomSpeed : _this2.props.zoomSpeed;\n    var leftPos = xRange[0] - Math.round(speed * evt.deltaY * mouseXPos);\n    var rightPos = xRange[1] + Math.round(speed * evt.deltaY * (1 - mouseXPos));\n    var startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : null;\n    var endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : null;\n    _this2.handleZoomUpdate(startDate, endDate);\n  };\n\n  this.handleZoomUpdate = function (startDate /*: ?Date */, endDate /*: ?Date */) {\n    if (_this2.props.updateZoom) {\n      _this2.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  this.handleMouseMove = function (evt /*: MouseEvent & { target: HTMLElement } */) {\n    var parentBbox = _this2.getMouseOverlayPos(evt.target);\n    _this2.updateTooltipPos(evt.pageX - parentBbox.left);\n  };\n\n  this.handleMouseEnter = function () {\n    return _this2.setState({ mouseOver: true });\n  };\n\n  this.handleMouseOut = function (evt /*: Event & { relatedTarget: HTMLElement } */) {\n    var updateTooltip = _this2.props.updateTooltip;\n\n    var targetClass = evt.relatedTarget && typeof evt.relatedTarget.className === 'string' ? evt.relatedTarget.className : '';\n    if (!updateTooltip || targetClass.includes('bubble-popup') || targetClass.includes('graph-tooltip')) {\n      return;\n    }\n    _this2.setState({\n      mouseOver: false,\n      selectedDate: null,\n      selectedDateXPos: null,\n      selectedDateIdx: null\n    });\n    updateTooltip(null, null, null);\n  };\n\n  this.handleClick = function () {\n    var updateSelectedDate = _this2.props.updateSelectedDate;\n\n    if (updateSelectedDate) {\n      updateSelectedDate(_this2.state.selectedDate);\n    }\n  };\n\n  this.updateTooltipPos = function (xPos /*: number */) {\n    var firstSerie = _this2.props.series[0];\n    if (_this2.state.mouseOver && firstSerie) {\n      var updateTooltip = _this2.props.updateTooltip;\n\n      var date = _this2.state.xScale.invert(xPos);\n      var bisectX = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"bisector\"])(function (d) {\n        return d.x;\n      }).right;\n      var idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        var previousPoint = firstSerie.data[idx - 1];\n        var nextPoint = firstSerie.data[idx];\n        if (!nextPoint || previousPoint && date - previousPoint.x <= nextPoint.x - date) {\n          idx--;\n        }\n        var selectedDate = firstSerie.data[idx].x;\n        var _xPos = _this2.state.xScale(selectedDate);\n        _this2.setState({ selectedDate: selectedDate, selectedDateXPos: _xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, _xPos, idx);\n        }\n      }\n    }\n  };\n\n  this.renderHorizontalGrid = function () {\n    var formatYTick = _this2.props.formatYTick;\n    var _state2 = _this2.state,\n        xScale = _state2.xScale,\n        yScale = _state2.yScale;\n\n    var hasTicks = typeof yScale.ticks === 'function';\n    var ticks = hasTicks ? yScale.ticks(4) : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      ticks.map(function (tick) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'g',\n          { key: tick },\n          formatYTick != null && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'text',\n            {\n              className: 'line-chart-tick line-chart-tick-x',\n              dx: '-1em',\n              dy: '0.3em',\n              textAnchor: 'end',\n              x: xScale.range()[0],\n              y: yScale(tick) },\n            formatYTick(tick)\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('line', {\n            className: 'line-chart-grid',\n            x1: xScale.range()[0],\n            x2: xScale.range()[1],\n            y1: yScale(tick),\n            y2: yScale(tick)\n          })\n        );\n      })\n    );\n  };\n\n  this.renderXAxisTicks = function () {\n    var _state3 = _this2.state,\n        xScale = _state3.xScale,\n        yScale = _state3.yScale;\n\n    var format = xScale.tickFormat(7);\n    var ticks = xScale.ticks(7);\n    var y = yScale.range()[0];\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      ticks.slice(0, -1).map(function (tick, index) {\n        var nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n        var x = (xScale(tick) + xScale(nextTick)) / 2;\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'text',\n          { key: index, className: 'line-chart-tick', x: x, y: y, dy: '1.5em' },\n          format(tick)\n        );\n      })\n    );\n  };\n\n  this.renderLeak = function () {\n    var yRange = _this2.state.yScale.range();\n    var xRange = _this2.state.xScale.range();\n    var leakWidth = xRange[xRange.length - 1] - _this2.state.xScale(_this2.props.leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', {\n      className: 'leak-chart-rect',\n      x: _this2.state.xScale(_this2.props.leakPeriodDate),\n      y: yRange[yRange.length - 1],\n      width: leakWidth,\n      height: yRange[0] - yRange[yRange.length - 1],\n      fill: '#fbf3d5'\n    });\n  };\n\n  this.renderLines = function () {\n    var lineGenerator = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"line\"])().defined(function (d) {\n      return d.y || d.y === 0;\n    }).x(function (d) {\n      return _this2.state.xScale(d.x);\n    }).y(function (d) {\n      return _this2.state.yScale(d.y);\n    });\n    if (_this2.props.basisCurve) {\n      lineGenerator.curve(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"curveBasis\"]);\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      _this2.props.series.map(function (serie, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          key: serie.name,\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-path', 'line-chart-path-' + idx),\n          d: lineGenerator(serie.data)\n        });\n      })\n    );\n  };\n\n  this.renderAreas = function () {\n    var areaGenerator = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"area\"])().defined(function (d) {\n      return d.y || d.y === 0;\n    }).x(function (d) {\n      return _this2.state.xScale(d.x);\n    }).y1(function (d) {\n      return _this2.state.yScale(d.y);\n    }).y0(_this2.state.yScale(0));\n    if (_this2.props.basisCurve) {\n      areaGenerator.curve(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"curveBasis\"]);\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      _this2.props.series.map(function (serie, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          key: serie.name,\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-area', 'line-chart-area-' + idx),\n          d: areaGenerator(serie.data)\n        });\n      })\n    );\n  };\n\n  this.renderEvents = function () {\n    var _props = _this2.props,\n        events = _props.events,\n        eventSize = _props.eventSize;\n\n    if (!events || !eventSize) {\n      return null;\n    }\n    var _state4 = _this2.state,\n        xScale = _state4.xScale,\n        yScale = _state4.yScale;\n\n    var inRangeEvents = events.filter(function (event) {\n      return event.date >= xScale.domain()[0] && event.date <= xScale.domain()[1];\n    });\n    var offset = eventSize / 2;\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      inRangeEvents.map(function (event, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          d: _this2.getEventMarker(eventSize),\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-event', event.className),\n          key: idx + '-' + event.date.getTime(),\n          transform: 'translate(' + (xScale(event.date) - offset) + ', ' + (yScale.range()[0] + offset) + ')'\n        });\n      })\n    );\n  };\n\n  this.renderSelectedDate = function () {\n    var _state5 = _this2.state,\n        selectedDateIdx = _state5.selectedDateIdx,\n        selectedDateXPos = _state5.selectedDateXPos,\n        yScale = _state5.yScale;\n\n    var firstSerie = _this2.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('line', {\n        className: 'line-tooltip',\n        x1: selectedDateXPos,\n        x2: selectedDateXPos,\n        y1: yScale.range()[0],\n        y2: yScale.range()[1]\n      }),\n      _this2.props.series.map(function (serie, idx) {\n        var point = serie.data[selectedDateIdx];\n        if (!point || !point.y && point.y !== 0) {\n          return null;\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('circle', {\n          key: serie.name,\n          cx: selectedDateXPos,\n          cy: yScale(point.y),\n          r: '4',\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-dot', 'line-chart-dot-' + idx)\n        });\n      })\n    );\n  };\n\n  this.renderClipPath = function () {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'defs',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'clipPath',\n        { id: 'chart-clip' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', {\n          width: _this2.state.xScale.range()[1],\n          height: _this2.state.yScale.range()[0] + 10,\n          transform: 'translate(0,-5)'\n        })\n      )\n    );\n  };\n\n  this.renderMouseEventsOverlay = function (zoomEnabled /*: boolean */) {\n    var mouseEvents = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = _this2.handleWheel;\n    }\n    if (_this2.props.updateTooltip) {\n      mouseEvents.onMouseEnter = _this2.handleMouseEnter;\n      mouseEvents.onMouseMove = _this2.handleMouseMove;\n      mouseEvents.onMouseOut = _this2.handleMouseOut;\n    }\n    if (_this2.props.updateSelectedDate) {\n      mouseEvents.onClick = _this2.handleClick;\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', _extends({\n      className: 'chart-mouse-events-overlay',\n      width: _this2.state.xScale.range()[1],\n      height: _this2.state.yScale.range()[0]\n    }, mouseEvents));\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (AdvancedTimeline);\n\n/***/ }),\n\n/***/ 2185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = RatingFreshness;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_intl__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(201);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\nfunction RatingFreshness(_a) {\n    var lastChange = _a.lastChange;\n    if (!lastChange) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-freshness\" }, '\\xA0');\n    }\n    var data = JSON.parse(lastChange);\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-freshness\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_intl__[\"c\" /* FormattedMessage */], { defaultMessage: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('portfolio.was_x_y'), id: \"portfolio.was_x_y\", values: {\n            rating: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { value: data.value, small: true }),\n            date: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__[\"a\" /* default */], { date: data.date })\n        } }));\n}\n\n/***/ }),\n\n/***/ 2197:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Effort;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_intl__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(201);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_urls__ = __webpack_require__(41);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction Effort(_a) {\n    var component = _a.component,\n        effort = _a.effort,\n        metricKey = _a.metricKey;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-effort\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_react_intl__[\"c\" /* FormattedMessage */], { defaultMessage: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('portfolio.x_in_y'), id: \"portfolio.x_in_y\", values: {\n            projects: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"j\" /* getComponentDrilldownUrl */])(component, metricKey) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__[\"a\" /* default */], { measure: {\n                    metric: { key: 'projects', type: 'SHORT_INT' },\n                    value: String(effort.projects)\n                } }), ' ', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('projects_'))),\n            rating: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { small: true, value: effort.rating })\n        } }));\n}\n\n/***/ }),\n\n/***/ 2198:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = HistoryButtonLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__ = __webpack_require__(731);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(41);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\nfunction HistoryButtonLink(_a) {\n  var component = _a.component,\n      metric = _a.metric;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { className: \"button button-small button-compact spacer-left text-text-bottom\", to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"l\" /* getMeasureHistoryUrl */])(component, metric) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__[\"HistoryIcon\"], { size: 14 }));\n}\n\n/***/ }),\n\n/***/ 2199:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MainRating;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__ = __webpack_require__(201);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(41);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\nfunction MainRating(_a) {\n  var component = _a.component,\n      metric = _a.metric,\n      value = _a.value;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"k\" /* getMeasureTreemapUrl */])(component, metric), className: \"portfolio-box-rating\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__[\"a\" /* default */], { value: value }));\n}\n\n/***/ }),\n\n/***/ 2200:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MeasuresButtonLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__ = __webpack_require__(390);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(41);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\nfunction MeasuresButtonLink(_a) {\n  var component = _a.component,\n      metric = _a.metric;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { className: \"button button-small button-compact spacer-left text-text-bottom\", to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"j\" /* getComponentDrilldownUrl */])(component, metric) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__[\"a\" /* default */], { size: 14 }));\n}\n\n/***/ }),\n\n/***/ 2213:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__ = __webpack_require__(701);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__ = __webpack_require__(2172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__ = __webpack_require__(2214);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__ = __webpack_require__(2152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_storage__ = __webpack_require__(248);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_measures__ = __webpack_require__(24);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\n\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n/*:: import type { History, Metric } from '../../apps/overview/types'; */\n\n/*::\ntype Props = {\n  branch?: string,\n  history: ?History,\n  metrics: Array<Metric>,\n  project: string,\n  renderWhenEmpty?: () => void\n};\n*/\n\n/*::\ntype State = {\n  customMetrics: Array<string>,\n  graph: string,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nvar GRAPH_PADDING = [4, 0, 4, 0];\nvar MAX_GRAPH_NB = 1;\nvar MAX_SERIES_PER_GRAPH = 3;\n\nvar PreviewGraph = function (_React$PureComponent) {\n  _inherits(PreviewGraph, _React$PureComponent);\n\n  function PreviewGraph(props /*: Props */) {\n    _classCallCheck(this, PreviewGraph);\n\n    var _this = _possibleConstructorReturn(this, (PreviewGraph.__proto__ || Object.getPrototypeOf(PreviewGraph)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var graph = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getGraph */])();\n    var customMetrics = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getCustomGraph */])();\n    var series = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"j\" /* splitSeriesInGraphs */])(_this.getSeries(props.history, graph, customMetrics, props.metrics), MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n    _this.state = {\n      customMetrics: customMetrics,\n      graph: graph,\n      selectedDate: null,\n      series: series.length > 0 ? series[0] : [],\n      tooltipIdx: null,\n      tooltipXPos: null\n    };\n    return _this;\n  }\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  _createClass(PreviewGraph, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps /*: Props */) {\n      if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n        var graph = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getGraph */])();\n        var customMetrics = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getCustomGraph */])();\n        var series = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"j\" /* splitSeriesInGraphs */])(this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics), MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n        this.setState({\n          customMetrics: customMetrics,\n          graph: graph,\n          series: series.length > 0 ? series[0] : []\n        });\n      }\n    }\n  }, {\n    key: 'renderTimeline',\n    value: function renderTimeline() {\n      var _this2 = this;\n\n      var _state = this.state,\n          graph = _state.graph,\n          selectedDate = _state.selectedDate,\n          series = _state.series,\n          tooltipIdx = _state.tooltipIdx,\n          tooltipXPos = _state.tooltipXPos;\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default.a,\n        { disableHeight: true },\n        function (_ref) {\n          var width = _ref.width;\n          return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__[\"a\" /* default */], {\n              endDate: null,\n              startDate: null,\n              height: 80,\n              width: width,\n              hideGrid: true,\n              hideXAxis: true,\n              interpolate: 'linear',\n              metricType: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"l\" /* getSeriesMetricType */])(series),\n              padding: GRAPH_PADDING,\n              series: series,\n              showAreas: ['coverage', 'duplications'].includes(graph),\n              updateTooltip: _this2.updateTooltip\n            }),\n            selectedDate != null && tooltipXPos != null && tooltipIdx != null && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__[\"a\" /* default */], {\n              formatValue: _this2.formatValue,\n              graph: graph,\n              graphWidth: width,\n              metrics: _this2.props.metrics,\n              selectedDate: selectedDate,\n              series: series,\n              tooltipIdx: tooltipIdx,\n              tooltipPos: tooltipXPos\n            })\n          );\n        }\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var series = this.state.series;\n\n      if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"v\" /* hasHistoryDataValue */])(series)) {\n        return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        {\n          className: 'overview-analysis-graph big-spacer-bottom spacer-top',\n          onClick: this.handleClick,\n          tabIndex: 0,\n          role: 'link' },\n        this.renderTimeline()\n      );\n    }\n  }]);\n\n  return PreviewGraph;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\nPreviewGraph.contextTypes = {\n  router: __WEBPACK_IMPORTED_MODULE_2_prop_types__[\"object\"]\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.formatValue = function (tick /*: number | string */) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__helpers_measures__[\"formatMeasure\"])(tick, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__helpers_measures__[\"getShortType\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"l\" /* getSeriesMetricType */])(_this3.state.series)));\n  };\n\n  this.getDisplayedMetrics = function (graph /*: string */, customMetrics /*: Array<string> */) {\n    var metrics /*: Array<string> */ = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"i\" /* getDisplayedHistoryMetrics */])(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"i\" /* getDisplayedHistoryMetrics */])(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"d\" /* DEFAULT_GRAPH */], customMetrics);\n    }\n    return metrics;\n  };\n\n  this.getSeries = function (history /*: ?History */\n  , graph /*: string */\n  , customMetrics /*: Array<string> */\n  , metrics /*: Array<Metric> */\n  ) {\n    var myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    var displayedMetrics = _this3.getDisplayedMetrics(graph, customMetrics);\n    var firstValid = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"minBy\"])(displayedMetrics.map(function (metric) {\n      return myHistory[metric].find(function (p) {\n        return p.value || p.value === 0;\n      });\n    }), 'date');\n    var measureHistory = displayedMetrics.map(function (metric) {\n      return {\n        metric: metric,\n        history: firstValid ? myHistory[metric].filter(function (p) {\n          return p.date >= firstValid.date;\n        }) : myHistory[metric]\n      };\n    });\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"h\" /* generateSeries */])(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  this.handleClick = function () {\n    _this3.context.router.push({\n      pathname: '/project/activity',\n      query: { id: _this3.props.project, branch: _this3.props.branch }\n    });\n  };\n\n  this.updateTooltip = function (selectedDate /*: ?Date */\n  , tooltipXPos /*: ?number */\n  , tooltipIdx /*: ?number */\n  ) {\n    return _this3.setState({ selectedDate: selectedDate, tooltipXPos: tooltipXPos, tooltipIdx: tooltipIdx });\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PreviewGraph);\n\n/***/ }),\n\n/***/ 2214:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__ = __webpack_require__(381);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__ = __webpack_require__(2215);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n/*:: import type { Metric } from '../types'; */\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  metrics: Array<Metric>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nvar TOOLTIP_WIDTH = 160;\n\nvar PreviewGraphTooltips = function (_React$PureComponent) {\n  _inherits(PreviewGraphTooltips, _React$PureComponent);\n\n  function PreviewGraphTooltips() {\n    _classCallCheck(this, PreviewGraphTooltips);\n\n    return _possibleConstructorReturn(this, (PreviewGraphTooltips.__proto__ || Object.getPrototypeOf(PreviewGraphTooltips)).apply(this, arguments));\n  }\n\n  _createClass(PreviewGraphTooltips, [{\n    key: 'render',\n\n    /*:: props: Props; */\n\n    value: function render() {\n      var _this2 = this;\n\n      var tooltipIdx = this.props.tooltipIdx;\n\n      var top = 16;\n      var left = this.props.tooltipPos;\n      var customClass = void 0;\n      if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n        left -= TOOLTIP_WIDTH;\n        customClass = 'bubble-popup-right';\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__[\"a\" /* default */],\n        { customClass: customClass, position: { top: top, left: left, width: TOOLTIP_WIDTH } },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'overview-analysis-graph-tooltip' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'overview-analysis-graph-tooltip-title' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__[\"a\" /* default */], { date: this.props.selectedDate, long: true })\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'table',\n            { className: 'width-100' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'tbody',\n              null,\n              this.props.series.map(function (serie, idx) {\n                var point = serie.data[tooltipIdx];\n                if (!point || !point.y && point.y !== 0) {\n                  return null;\n                }\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__[\"a\" /* default */], {\n                  key: serie.name,\n                  style: idx.toString(),\n                  translatedName: serie.translatedName,\n                  value: _this2.props.formatValue(point.y)\n                });\n              })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return PreviewGraphTooltips;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PreviewGraphTooltips);\n\n/***/ }),\n\n/***/ 2215:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PreviewGraphTooltipsContent;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__ = __webpack_require__(700);\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n/*::\ntype Props = {\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nfunction PreviewGraphTooltipsContent(_ref /*: Props */) {\n  var style = _ref.style,\n      translatedName = _ref.translatedName,\n      value = _ref.value;\n\n  return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n    'tr',\n    { className: 'overview-analysis-graph-tooltip-line' },\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'thin' },\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__[\"a\" /* default */], {\n        className: 'little-spacer-right line-chart-legend line-chart-legend-' + style\n      })\n    ),\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'overview-analysis-graph-tooltip-value text-right little-spacer-right thin' },\n      value\n    ),\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'text-ellipsis overview-analysis-graph-tooltip-description' },\n      translatedName\n    )\n  );\n}\n\n/***/ }),\n\n/***/ 2218:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getReportStatus;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getReportUrl;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = subscribe;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = unsubscribe;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_request__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__ = __webpack_require__(61);\n\n/*\r\n* SonarQube\r\n* Copyright (C) 2009-2016 SonarSource SA\r\n* mailto:contact AT sonarsource DOT com\r\n*\r\n* This program is free software; you can redistribute it and/or\r\n* modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nfunction getReportStatus(component) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/governance_reports/status', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction getReportUrl(component) {\n    return window.baseUrl + '/api/governance_reports/download?componentKey=' + encodeURIComponent(component);\n}\nfunction subscribe(component) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/governance_reports/subscribe', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction unsubscribe(component) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/governance_reports/unsubscribe', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\n\n/***/ }),\n\n/***/ 2283:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__ = __webpack_require__(2152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__ = __webpack_require__(2213);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_metrics__ = __webpack_require__(393);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_time_machine__ = __webpack_require__(2163);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_dates__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_storage__ = __webpack_require__(248);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nvar AnyPreviewGraph = __WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__[\"a\" /* default */];\nvar Activity = function (_super) {\n    __extends(Activity, _super);\n    function Activity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.fetchHistory = function () {\n            var component = _this.props.component;\n            var graphMetrics = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"i\" /* getDisplayedHistoryMetrics */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getGraph */])(), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getCustomGraph */])());\n            if (!graphMetrics || graphMetrics.length <= 0) {\n                graphMetrics = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"i\" /* getDisplayedHistoryMetrics */])(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"d\" /* DEFAULT_GRAPH */], []);\n            }\n            _this.setState({ loading: true });\n            return Promise.all([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_time_machine__[\"a\" /* getAllTimeMachineData */])(component, graphMetrics), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__api_metrics__[\"a\" /* getMetrics */])()]).then(function (_a) {\n                var timeMachine = _a[0],\n                    metrics = _a[1];\n                if (_this.mounted) {\n                    var history_1 = {};\n                    timeMachine.measures.forEach(function (measure) {\n                        var measureHistory = measure.history.map(function (analysis) {\n                            return {\n                                date: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_dates__[\"parseDate\"])(analysis.date),\n                                value: analysis.value\n                            };\n                        });\n                        history_1[measure.metric] = measureHistory;\n                    });\n                    _this.setState({ history: history_1, loading: false, metrics: metrics });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.renderWhenEmpty = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"note\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('component_measures.no_history'));\n        };\n        return _this;\n    }\n    Activity.prototype.componentDidMount = function () {\n        this.mounted = true;\n        this.fetchHistory();\n    };\n    Activity.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.component !== this.props.component) {\n            this.fetchHistory();\n        }\n    };\n    Activity.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Activity.prototype.render = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-bottom\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h4\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('project_activity.page')), this.state.loading ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }) : this.state.metrics != undefined && this.state.history != undefined && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](AnyPreviewGraph, { history: this.state.history, metrics: this.state.metrics, project: this.props.component, renderWhenEmpty: this.renderWhenEmpty }));\n    };\n    return Activity;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Activity);\n\n/***/ }),\n\n/***/ 2284:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MaintainabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(2197);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MainRating__ = __webpack_require__(2199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__ = __webpack_require__(2200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__ = __webpack_require__(2198);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RatingFreshness__ = __webpack_require__(2185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction MaintainabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['sqale_rating'];\n    var lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n    var rawEffort = measures['maintainability_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-maintainability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Maintainability'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Maintainability\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"sqale_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MainRating__[\"a\" /* default */], { component: component, metric: 'sqale_rating', value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__[\"a\" /* default */], { lastChange: lastMaintainabilityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: 'sqale_rating' }));\n}\n\n/***/ }),\n\n/***/ 2285:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ReleasabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__RatingFreshness__ = __webpack_require__(2185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(201);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_urls__ = __webpack_require__(41);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction ReleasabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['releasability_rating'];\n    var lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n    var effort = measures['releasability_effort'];\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-releasability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Releasability')), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"j\" /* getComponentDrilldownUrl */])(component, 'alert_status'), className: \"portfolio-box-rating\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { value: rating })), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__RatingFreshness__[\"a\" /* default */], { lastChange: lastReleasabilityChange }), effort && Number(effort) > 0 && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-effort\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"j\" /* getComponentDrilldownUrl */])(component, 'alert_status') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'projects', type: 'SHORT_INT' }, value: effort } }), ' ', Number(effort) === 1 ? 'project' : 'projects')), ' ', __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: \"level level-ERROR level-small\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric.level.ERROR'))));\n}\n\n/***/ }),\n\n/***/ 2286:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ReliabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(2197);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__ = __webpack_require__(2200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__ = __webpack_require__(2198);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__MainRating__ = __webpack_require__(2199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RatingFreshness__ = __webpack_require__(2185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction ReliabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['reliability_rating'];\n    var lastReliabilityChange = measures['last_change_on_reliability_rating'];\n    var rawEffort = measures['reliability_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-reliability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Reliability'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Reliability\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"reliability_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__MainRating__[\"a\" /* default */], { component: component, metric: \"reliability_rating\", value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__[\"a\" /* default */], { lastChange: lastReliabilityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: \"reliability_rating\" }));\n}\n\n/***/ }),\n\n/***/ 2287:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__ = __webpack_require__(2290);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_report__ = __webpack_require__(2218);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar Report = function (_super) {\n    __extends(Report, _super);\n    function Report() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.renderHeader = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h4\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.page'));\n        };\n        return _this;\n    }\n    Report.prototype.componentDidMount = function () {\n        this.mounted = true;\n        this.loadStatus();\n    };\n    Report.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Report.prototype.loadStatus = function () {\n        var _this = this;\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_report__[\"a\" /* getReportStatus */])(this.props.component.key).then(function (status) {\n            if (_this.mounted) {\n                _this.setState({ status: status, loading: false });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    Report.prototype.render = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            status = _a.status,\n            loading = _a.loading;\n        if (loading) {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, this.renderHeader(), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }));\n        }\n        if (!status) {\n            return null;\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, this.renderHeader(), !status.canDownload && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"note js-report-cant-download\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.cant_download')), status.canDownload && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-report-can-download\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.can_download'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"a\", { className: \"button js-report-download\", href: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_report__[\"b\" /* getReportUrl */])(component.key), target: \"_blank\", download: component.name + ' - Executive Report.pdf' }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.print')))), status.canSubscribe && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__[\"a\" /* default */], { component: component.key, status: status }));\n    };\n    return Report;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Report);\n\n/***/ }),\n\n/***/ 2288:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SecurityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(2197);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__ = __webpack_require__(2200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__ = __webpack_require__(2198);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__RatingFreshness__ = __webpack_require__(2185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__MainRating__ = __webpack_require__(2199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction SecurityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['security_rating'];\n    var lastSecurityChange = measures['last_change_on_security_rating'];\n    var rawEffort = measures['security_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-security\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Security'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Security\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"security_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__MainRating__[\"a\" /* default */], { component: component, metric: \"security_rating\", value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__RatingFreshness__[\"a\" /* default */], { lastChange: lastSecurityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: \"security_rating\" }));\n}\n\n/***/ }),\n\n/***/ 2289:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_report__ = __webpack_require__(2218);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nvar Subscription = function (_super) {\n    __extends(Subscription, _super);\n    function Subscription(props) {\n        var _this = _super.call(this, props) || this;\n        _this.stopLoading = function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        };\n        _this.handleSubscription = function (subscribed) {\n            if (_this.mounted) {\n                _this.setState({ loading: false, subscribed: subscribed });\n            }\n        };\n        _this.handleSubscribe = function (e) {\n            e.preventDefault();\n            e.currentTarget.blur();\n            _this.setState({ loading: true });\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_report__[\"c\" /* subscribe */])(_this.props.component).then(function () {\n                return _this.handleSubscription(true);\n            }).catch(_this.stopLoading);\n        };\n        _this.handleUnsubscribe = function (e) {\n            e.preventDefault();\n            e.currentTarget.blur();\n            _this.setState({ loading: true });\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_report__[\"d\" /* unsubscribe */])(_this.props.component).then(function () {\n                return _this.handleSubscription(false);\n            }).catch(_this.stopLoading);\n        };\n        _this.getEffectiveFrequencyText = function () {\n            var effectiveFrequency = _this.props.status.componentFrequency || _this.props.status.globalFrequency;\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.frequency', effectiveFrequency, 'effective');\n        };\n        _this.renderLoading = function () {\n            return _this.state.loading && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spacer-left spinner\" });\n        };\n        _this.renderWhenSubscribed = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-subscribed\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-bottom\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"icon-check pull-left spacer-right\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"overflow-hidden\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translateWithParameters\"])('report.subscribed', _this.getEffectiveFrequencyText()))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"button\", { onClick: _this.handleUnsubscribe }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.unsubscribe')), _this.renderLoading());\n        };\n        _this.renderWhenNotSubscribed = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-not-subscribed\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", { className: \"spacer-bottom\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translateWithParameters\"])('report.unsubscribed', _this.getEffectiveFrequencyText())), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"button\", { className: \"js-report-subscribe\", onClick: _this.handleSubscribe }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.subscribe')), _this.renderLoading());\n        };\n        _this.state = { subscribed: props.status.subscribed, loading: false };\n        return _this;\n    }\n    Subscription.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    Subscription.prototype.componentWillReceiveProps = function (nextProps) {\n        if (nextProps.status.subscribed !== this.props.status.subscribed) {\n            this.setState({ subscribed: nextProps.status.subscribed });\n        }\n    };\n    Subscription.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Subscription.prototype.render = function () {\n        var hasEmail = !!this.props.currentUser.email;\n        var subscribed = this.state.subscribed;\n        var inner;\n        if (hasEmail) {\n            inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n        } else {\n            inner = __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", { className: \"note js-no-email\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.no_email_to_subscribe'));\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-top js-report-subscription\" }, inner);\n    };\n    return Subscription;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Subscription);\n\n/***/ }),\n\n/***/ 2290:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Subscription__ = __webpack_require__(2289);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store_rootReducer__ = __webpack_require__(12);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    currentUser: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__store_rootReducer__[\"getCurrentUser\"])(state)\n  };\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"connect\"])(mapStateToProps)(__WEBPACK_IMPORTED_MODULE_1__Subscription__[\"a\" /* default */]));\n\n/***/ }),\n\n/***/ 2291:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Summary;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__ = __webpack_require__(2168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_urls__ = __webpack_require__(41);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\nfunction Summary(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var projects = measures['projects'];\n    var ncloc = measures['ncloc'];\n    var nclocDistribution = measures['ncloc_language_distribution'];\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"section\", { id: \"portfolio-summary\", className: \"big-spacer-bottom\" }, component.description && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-bottom\" }, component.description), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"ul\", { className: \"portfolio-grid\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"li\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-measure-secondary-value\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_urls__[\"j\" /* getComponentDrilldownUrl */])(component.key, 'projects') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'projects', type: 'SHORT_INT' }, value: projects } }))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top text-muted\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('projects'))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"li\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-measure-secondary-value\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_urls__[\"j\" /* getComponentDrilldownUrl */])(component.key, 'ncloc') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'ncloc', type: 'SHORT_INT' }, value: ncloc } }))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top text-muted\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('metric.ncloc.name')))), nclocDistribution && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-top\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__[\"a\" /* default */], { distribution: nclocDistribution, width: 260 })));\n}\n\n/***/ }),\n\n/***/ 2292:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = WorstProjects;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_measures__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_urls__ = __webpack_require__(41);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\n\nfunction WorstProjects(_a) {\n    var component = _a.component,\n        subComponents = _a.subComponents,\n        total = _a.total;\n    var count = subComponents.length;\n    if (!count) {\n        return null;\n    }\n    var maxLoc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"max\"])(subComponents.map(function (component) {\n        return Number(component.measures['ncloc'] || 0);\n    }));\n    var projectsPageUrl = { pathname: '/code', query: { id: component } };\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"panel panel-white portfolio-sub-components\", id: \"portfolio-sub-components\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"table\", { className: \"data zebra\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"thead\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tr\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", null, '\\xA0'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Releasability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Reliability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Security')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Maintainability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric.ncloc.name')))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tbody\", null, subComponents.map(function (component) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tr\", { key: component.key }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_urls__[\"a\" /* getProjectUrl */])(component.refKey || component.key), className: \"link-with-icon\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__[\"a\" /* default */], { qualifier: component.qualifier }), \" \", component.name)), component.qualifier === 'TRK' ? renderCell(component.measures, 'alert_status', 'LEVEL') : renderCell(component.measures, 'releasability_rating', 'RATING'), renderCell(component.measures, 'reliability_rating', 'RATING'), renderCell(component.measures, 'security_rating', 'RATING'), renderCell(component.measures, 'sqale_rating', 'RATING'), renderNcloc(component.measures, maxLoc));\n    }))), total > count && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"footer\", { className: \"spacer-top note text-center\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translateWithParameters\"])('x_of_y_shown', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_measures__[\"formatMeasure\"])(count, 'INT'), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_measures__[\"formatMeasure\"])(total, 'INT')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: projectsPageUrl, className: \"spacer-left\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('show_more'))));\n}\nfunction renderCell(measures, metric, type) {\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", { className: \"text-center\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: metric, type: type }, value: measures[metric] } }));\n}\nfunction renderNcloc(measures, maxLoc) {\n    var ncloc = Number(measures['ncloc'] || 0);\n    var barWidth = maxLoc > 0 ? Math.max(1, Math.round(ncloc / maxLoc * 50)) : 0;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", { className: \"text-right\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: \"note\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: {\n            metric: { key: 'ncloc', type: 'SHORT_INT' },\n            value: measures['ncloc']\n        } })), maxLoc > 0 && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"svg\", { width: \"50\", height: \"16\", className: \"spacer-left\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"rect\", { className: \"bar-chart-bar\", x: \"0\", y: \"3\", width: barWidth, height: \"10\" })));\n}\n\n/***/ }),\n\n/***/ 2293:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getNextRating */\n/* unused harmony export getEffortToNextRating */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PORTFOLIO_METRICS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return SUB_COMPONENTS_METRICS; });\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = convertMeasures;\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\nfunction getNextRating(rating) {\n    return rating > 1 ? rating - 1 : undefined;\n}\nfunction getWorstSeverity(data) {\n    var SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    var severities = {};\n    data.split(';').forEach(function (equality) {\n        var _a = equality.split('='),\n            key = _a[0],\n            count = _a[1];\n        severities[key] = Number(count);\n    });\n    for (var i = 0; i < SEVERITY_ORDER.length; i++) {\n        var count = severities[SEVERITY_ORDER[i]];\n        if (count > 0) {\n            return { severity: SEVERITY_ORDER[i], count: count };\n        }\n    }\n    return undefined;\n}\nfunction getEffortToNextRating(measures, metricKey) {\n    var measure = measures.find(function (measure) {\n        return measure.metric.key === metricKey;\n    });\n    if (!measure) {\n        return undefined;\n    }\n    return getWorstSeverity(measure.value);\n}\nvar PORTFOLIO_METRICS = ['projects', 'ncloc', 'ncloc_language_distribution', 'releasability_rating', 'releasability_effort', 'sqale_rating', 'maintainability_rating_effort', 'reliability_rating', 'reliability_rating_effort', 'security_rating', 'security_rating_effort', 'last_change_on_releasability_rating', 'last_change_on_maintainability_rating', 'last_change_on_security_rating', 'last_change_on_reliability_rating'];\nvar SUB_COMPONENTS_METRICS = ['ncloc', 'releasability_rating', 'security_rating', 'reliability_rating', 'sqale_rating', 'alert_status'];\nfunction convertMeasures(measures) {\n    var result = {};\n    measures.forEach(function (measure) {\n        result[measure.metric] = measure.value;\n    });\n    return result;\n}\n\n/***/ }),\n\n/***/ 2653:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(27)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \".portfolio-measure-secondary-value {\\n  line-height: 24px;\\n  font-size: 18px;\\n  font-weight: 300;\\n}\\n\\n.portfolio-grid {\\n  position: relative;\\n  z-index: 10;\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n}\\n\\n.portfolio-grid > li {\\n  vertical-align: top;\\n  width: 50%;\\n  text-align: center;\\n}\\n\\n.portfolio-grid > li.text-middle {\\n  vertical-align: middle;\\n}\\n\\n.portfolio-freshness {\\n  line-height: 24px;\\n  margin-top: 12px;\\n  color: #777;\\n  font-size: 12px;\\n  white-space: nowrap;\\n}\\n\\n.portfolio-effort {\\n  margin-top: 12px;\\n  padding-top: 12px;\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.portfolio-boxes {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: stretch;\\n  margin-bottom: 20px;\\n  padding: 15px 0;\\n  border: 1px solid #e6e6e6;\\n  background-color: #fff;\\n}\\n\\n.portfolio-box {\\n  position: relative;\\n  width: 25%;\\n  padding: 0 5px;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  text-align: center;\\n}\\n\\n.portfolio-box-title {\\n  margin-bottom: 25px;\\n  font-size: 16px;\\n}\\n\\n.portfolio-box-title > .button-small > svg {\\n  margin-top: 0;\\n}\\n\\n.portfolio-box-rating,\\n.portfolio-box-rating .rating {\\n  display: block;\\n  width: 120px;\\n  height: 120px;\\n  line-height: 120px;\\n}\\n\\n.portfolio-box-rating {\\n  margin: 0 auto;\\n  border: none;\\n}\\n\\n.portfolio-box-rating .rating {\\n  border-radius: 120px;\\n  font-size: 60px;\\n  text-align: center;\\n}\\n\\n.portfolio-sub-components table.data > thead > tr > th {\\n  font-size: 13px;\\n  text-transform: none;\\n}\\n\\n.portfolio-sub-components-cell {\\n  width: 90px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 2712:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2653);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(28)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/244.6a8b52fe.chunk.js","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Summary from './Summary';\nimport Report from './Report';\nimport WorstProjects from './WorstProjects';\nimport ReleasabilityBox from './ReleasabilityBox';\nimport ReliabilityBox from './ReliabilityBox';\nimport SecurityBox from './SecurityBox';\nimport MaintainabilityBox from './MaintainabilityBox';\nimport Activity from './Activity';\nimport { getMeasures } from '../../../api/measures';\nimport { getChildren } from '../../../api/components';\nimport { PORTFOLIO_METRICS, SUB_COMPONENTS_METRICS, convertMeasures } from '../utils';\nimport { SubComponent } from '../types';\nimport '../styles.css';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  measures?: { [key: string]: string | undefined };\n  subComponents?: SubComponent[];\n  totalSubComponents?: number;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    const html = document.querySelector('html');\n    if (html) {\n      html.classList.add('dashboard-page');\n    }\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchData();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    const html = document.querySelector('html');\n    if (html) {\n      html.classList.remove('dashboard-page');\n    }\n  }\n\n  fetchData() {\n    this.setState({ loading: true });\n    Promise.all([\n      getMeasures(this.props.component.key, PORTFOLIO_METRICS),\n      getChildren(this.props.component.key, SUB_COMPONENTS_METRICS, { ps: 20 })\n    ]).then(\n      ([measures, subComponents]) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            measures: convertMeasures(measures),\n            subComponents: subComponents.components.map((component: any) => ({\n              ...component,\n              measures: convertMeasures(component.measures)\n            })),\n            totalSubComponents: subComponents.paging.total\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  isEmpty = () => this.state.measures == undefined || this.state.measures['ncloc'] == undefined;\n\n  isNotComputed = () =>\n    this.state.measures && this.state.measures['reliability_rating'] == undefined;\n\n  renderSpinner() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.empty')}</h3>\n        <p>{translate('portfolio.empty.hint')}</p>\n      </div>\n    );\n  }\n\n  renderWhenNotComputed() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.not_computed')}</h3>\n      </div>\n    );\n  }\n\n  renderMain() {\n    const { component } = this.props;\n    const { measures, subComponents, totalSubComponents } = this.state;\n\n    if (this.isEmpty()) {\n      return this.renderEmpty();\n    }\n\n    if (this.isNotComputed()) {\n      return this.renderWhenNotComputed();\n    }\n\n    return (\n      <div>\n        <div className=\"portfolio-boxes\">\n          <ReleasabilityBox component={component.key} measures={measures!} />\n          <ReliabilityBox component={component.key} measures={measures!} />\n          <SecurityBox component={component.key} measures={measures!} />\n          <MaintainabilityBox component={component.key} measures={measures!} />\n        </div>\n\n        {subComponents != undefined &&\n        totalSubComponents != undefined && (\n          <WorstProjects\n            component={component.key}\n            subComponents={subComponents}\n            total={totalSubComponents}\n          />\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { loading, measures } = this.state;\n\n    if (loading) {\n      return this.renderSpinner();\n    }\n\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"page-with-sidebar\">\n          <div className=\"page-main\">{this.renderMain()}</div>\n\n          <aside className=\"page-sidebar-fixed\">\n            {!this.isEmpty() &&\n            !this.isNotComputed() && <Summary component={component} measures={measures!} />}\n            <Activity component={component.key} />\n            <Report component={component} />\n          </aside>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/App.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport { chunk, flatMap, groupBy, isEqual, sortBy } from 'lodash';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsString,\n  serializeStringArray,\n  serializeDate,\n  serializeString\n} from '../../helpers/query';\nimport { parseDate, startOfDay } from '../../helpers/dates';\nimport { getLocalizedMetricName, translate } from '../../helpers/l10n';\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from './types'; */\n/*:: import type { RawQuery } from '../../helpers/query'; */\n/*:: import type { Serie } from '../../components/charts/AdvancedTimeline'; */\n\nexport const EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nexport const APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nexport const DEFAULT_GRAPH = 'issues';\nexport const GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nexport const GRAPHS_METRICS_DISPLAYED = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['uncovered_lines', 'lines_to_cover'],\n  duplications: ['duplicated_lines', 'ncloc']\n};\nexport const GRAPHS_METRICS = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat([\n    'reliability_rating',\n    'security_rating',\n    'sqale_rating'\n  ]),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nexport const datesQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.from, nextQuery.from) || !isEqual(prevQuery.to, nextQuery.to);\n\nexport const activityQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n\nexport const customMetricsChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.customMetrics, nextQuery.customMetrics);\n\nexport const hasDataValues = (serie /*: Serie */) =>\n  serie.data.some(point => point.y || point.y === 0);\n\nexport const hasHistoryData = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1);\n\nexport const hasHistoryDataValue = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n\nexport function historyQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) /*: boolean */ {\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nexport const isCustomGraph = (graph /*: string */) => graph === 'custom';\n\nexport const selectedDateQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.selectedDate, nextQuery.selectedDate);\n\nexport const generateCoveredLinesMetric = (\n  uncoveredLines /*: MeasureHistory */,\n  measuresHistory /*: Array<MeasureHistory> */\n) => {\n  const linesToCover = measuresHistory.find(measure => measure.metric === 'lines_to_cover');\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n};\n\nexport function generateSeries(\n  measuresHistory /*: Array<MeasureHistory> */,\n  graph /*: string */,\n  metrics /*: Array<Metric> */,\n  displayedMetrics /*: Array<string> */\n) /*: Array<Serie> */ {\n  if (displayedMetrics.length <= 0) {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = metrics.find(metric => metric.key === measure.metric);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : measure.metric,\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie => displayedMetrics.indexOf(serie.name)\n  );\n}\n\nexport const splitSeriesInGraphs = (\n  series /*: Array<Serie> */,\n  maxGraph /*: number */,\n  maxSeries /*: number */\n) =>\n  flatMap(groupBy(series, serie => serie.type), type => chunk(type, maxSeries)).slice(0, maxGraph);\n\nexport const getSeriesMetricType = (series /*: Array<Serie> */) =>\n  series.length > 0 ? series[0].type : 'INT';\n\nexport function getAnalysesByVersionByDay(analyses /*: Array<Analysis> */, query /*: Query */) {\n  return analyses.reduce((acc, analysis) => {\n    let currentVersion = acc[acc.length - 1];\n    const versionEvent = analysis.events.find(event => event.category === 'VERSION');\n    if (versionEvent) {\n      const newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    const day = startOfDay(parseDate(analysis.date))\n      .getTime()\n      .toString();\n\n    let matchFilters = true;\n    if (query.category || query.from || query.to) {\n      const isAfterFrom = !query.from || analysis.date >= query.from;\n      const isBeforeTo = !query.to || analysis.date <= query.to;\n      const hasSelectedCategoryEvents =\n        !query.category || analysis.events.find(event => event.category === query.category) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nexport const getDisplayedHistoryMetrics = (\n  graph /*: string */,\n  customMetrics /*: Array<string> */\n) => (isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph]);\n\nexport const getHistoryMetrics = (graph /*: string */, customMetrics /*: Array<string> */) =>\n  isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n\nconst parseGraph = (value /*: ?string */) => {\n  const graph = parseAsString(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n};\n\nconst serializeGraph = (value /*: string */) => (value === DEFAULT_GRAPH ? undefined : value);\n\nexport function parseQuery(urlQuery /*: RawQuery */) /*: Query */ {\n  return {\n    category: parseAsString(urlQuery['category']),\n    customMetrics: parseAsArray(urlQuery['custom_metrics'], parseAsString),\n    from: parseAsDate(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: parseAsString(urlQuery['id']),\n    to: parseAsDate(urlQuery['to']),\n    selectedDate: parseAsDate(urlQuery['selected_date'])\n  };\n}\n\nexport function serializeQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    from: serializeDate(query.from),\n    project: serializeString(query.project),\n    to: serializeDate(query.to)\n  });\n}\n\nexport function serializeUrlQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    custom_metrics: serializeStringArray(query.customMetrics),\n    from: serializeDate(query.from),\n    graph: serializeGraph(query.graph),\n    id: serializeString(query.project),\n    to: serializeDate(query.to),\n    selected_date: serializeDate(query.selectedDate)\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectActivity/utils.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\n\ninterface TimeMachineResponse {\n  measures: Array<{\n    metric: string;\n    history: Array<{ date: string; value: string }>;\n  }>;\n  paging: { pageIndex: number; pageSize: number; total: number };\n}\n\nexport function getTimeMachineData(\n  component: string,\n  metrics: string[],\n  other?: { p?: number; ps?: number; from?: string; to?: string }\n): Promise<TimeMachineResponse> {\n  return getJSON('/api/measures/search_history', {\n    component,\n    metrics: metrics.join(),\n    ps: 1000,\n    ...other\n  });\n}\n\nexport function getAllTimeMachineData(\n  component: string,\n  metrics: Array<string>,\n  other?: { p?: number; from?: string; to?: string },\n  prev?: TimeMachineResponse\n): Promise<TimeMachineResponse> {\n  return getTimeMachineData(component, metrics, { ...other, ps: 1000 }).then(r => {\n    const result = prev\n      ? {\n          measures: prev.measures.map((measure, idx) => ({\n            ...measure,\n            history: measure.history.concat(r.measures[idx].history)\n          })),\n          paging: r.paging\n        }\n      : r;\n\n    if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n      return result;\n    }\n    return getAllTimeMachineData(\n      component,\n      metrics,\n      { ...other, p: result.paging.pageIndex + 1 },\n      result\n    );\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/api/time-machine.ts","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\n\ninterface Props {\n  alignTicks?: boolean;\n  bars: number[];\n  height: number;\n  padding?: [number, number, number, number];\n  yTicks?: string[];\n  yTooltips?: string[];\n  yValues?: string[];\n  width: number;\n}\n\nconst BAR_HEIGHT = 10;\nconst DEFAULT_PADDING = [10, 10, 10, 10];\n\ntype XScale = ScaleLinear<number, number>;\ntype YScale = ScaleBand<number>;\n\nexport default class Histogram extends React.PureComponent<Props> {\n  wrapWithTooltip(element: React.ReactNode, index: number) {\n    const tooltip = this.props.yTooltips && this.props.yTooltips[index];\n    return tooltip ? (\n      <Tooltip key={index} overlay={tooltip} placement=\"top\">\n        {element}\n      </Tooltip>\n    ) : (\n      element\n    );\n  }\n\n  renderBar(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING } = this.props;\n\n    const width = Math.round(xScale(d)) + /* minimum bar width */ 1;\n    const x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2);\n\n    return <rect className=\"bar-chart-bar\" x={x} y={y} width={width} height={BAR_HEIGHT} />;\n  }\n\n  renderValue(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING, yValues } = this.props;\n\n    const value = yValues && yValues[index];\n\n    if (!value) {\n      return null;\n    }\n\n    const x = xScale(d) + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n\n    return this.wrapWithTooltip(\n      <text className=\"bar-chart-tick histogram-value\" x={x} y={y} dx=\"1em\" dy=\"0.3em\">\n        {value}\n      </text>,\n      index\n    );\n  }\n\n  renderTick(index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, yTicks } = this.props;\n\n    const tick = yTicks && yTicks[index];\n\n    if (!tick) {\n      return null;\n    }\n\n    const x = xScale.range()[0];\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n    const historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n\n    return (\n      <text\n        className={'bar-chart-tick ' + historyTickClass}\n        x={x}\n        y={y}\n        dx={alignTicks ? 0 : '-1em'}\n        dy=\"0.3em\">\n        {tick}\n      </text>\n    );\n  }\n\n  renderBars(xScale: XScale, yScale: YScale) {\n    return (\n      <g>\n        {this.props.bars.map((d, index) => {\n          return (\n            <g key={index}>\n              {this.renderBar(d, index, xScale, yScale)}\n              {this.renderValue(d, index, xScale, yScale)}\n              {this.renderTick(index, xScale, yScale)}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  render() {\n    const { bars, width, height, padding = DEFAULT_PADDING } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const xScale: XScale = scaleLinear()\n      .domain([0, max(bars)!])\n      .range([0, availableWidth]);\n\n    const availableHeight = height - padding[0] - padding[2];\n    const yScale: YScale = scaleBand<number>()\n      .domain(bars.map((_, index) => index))\n      .rangeRound([0, availableHeight]);\n\n    return (\n      <svg className=\"bar-chart\" width={this.props.width} height={this.props.height}>\n        <g transform={`translate(${this.props.alignTicks ? 4 : padding[3]}, ${padding[0]})`}>\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/Histogram.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { find, sortBy } from 'lodash';\nimport Histogram from './Histogram';\nimport { formatMeasure } from '../../helpers/measures';\nimport { Language } from '../../api/languages';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages?: Language[];\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n      width={props.width}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = find(props.languages, { key: langKey });\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/LanguageDistribution.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getLanguages } from '../../store/rootReducer';\nimport LanguageDistribution from './LanguageDistribution';\n\nconst mapStateToProps = (state: any) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(LanguageDistribution);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/LanguageDistributionContainer.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport { flatten, isEqual, sortBy, throttle } from 'lodash';\nimport { bisector, extent, max } from 'd3-array';\nimport { scaleLinear, scalePoint, scaleTime } from 'd3-scale';\nimport { line as d3Line, area, curveBasis } from 'd3-shape';\n\n/*::\ntype Event = { className?: string, name: string, date: Date };\n*/\n/*::\nexport type Point = { x: Date, y: number | string };\n*/\n/*::\nexport type Serie = { name: string, data: Array<Point>, type: string };\n*/\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  events?: Array<Event>,\n  eventSize?: number,\n  disableZoom?: boolean,\n  formatYTick?: number => string,\n  hideGrid?: boolean,\n  hideXAxis?: boolean,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  metricType: string,\n  padding: Array<number>,\n  selectedDate?: Date,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showEventMarkers?: boolean,\n  startDate: ?Date,\n  updateSelectedDate?: (selectedDate: ?Date) => void,\n  updateTooltip?: (selectedDate: ?Date, tooltipXPos: ?number, tooltipIdx: ?number) => void,\n  updateZoom?: (start: ?Date, endDate: ?Date) => void,\n  zoomSpeed: number\n};\n*/\n\n/*::\ntype State = {\n  maxXRange: Array<number>,\n  mouseOver?: boolean,\n  mouseOverlayPos?: { [string]: number },\n  selectedDate: ?Date,\n  selectedDateXPos: ?number,\n  selectedDateIdx: ?number,\n  yScale: Scale,\n  xScale: Scale\n};\n*/\n\nexport default class AdvancedTimeline extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static defaultProps = {\n    eventSize: 8,\n    padding: [10, 10, 30, 60],\n    zoomSpeed: 1\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const scales = this.getScales(props);\n    const selectedDatePos = this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    this.state = { ...scales, ...selectedDatePos };\n    this.updateTooltipPos = throttle(this.updateTooltipPos, 40);\n    this.handleZoomUpdate = throttle(this.handleZoomUpdate, 40);\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    let scales;\n    let selectedDatePos;\n    if (\n      nextProps.metricType !== this.props.metricType ||\n      nextProps.startDate !== this.props.startDate ||\n      nextProps.endDate !== this.props.endDate ||\n      nextProps.width !== this.props.width ||\n      nextProps.padding !== this.props.padding ||\n      nextProps.height !== this.props.height ||\n      nextProps.series !== this.props.series\n    ) {\n      scales = this.getScales(nextProps);\n      if (this.state.selectedDate != null) {\n        selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n      }\n    }\n\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      const xScale = scales ? scales.xScale : this.state.xScale;\n      selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n    }\n\n    if (scales || selectedDatePos) {\n      this.setState({ ...(scales || {}), ...(selectedDatePos || {}) });\n\n      if (selectedDatePos && nextProps.updateTooltip) {\n        nextProps.updateTooltip(\n          selectedDatePos.selectedDate,\n          selectedDatePos.selectedDateXPos,\n          selectedDatePos.selectedDateIdx\n        );\n      }\n    }\n  }\n\n  getRatingScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain([5, 4, 3, 2, 1])\n      .range([availableHeight, 0]);\n\n  getLevelScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain(['ERROR', 'WARN', 'OK'])\n      .range([availableHeight, 0]);\n\n  getYScale = (props /*: Props */, availableHeight /*: number */, flatData /*: Array<Point> */) => {\n    if (props.metricType === 'RATING') {\n      return this.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return this.getLevelScale(availableHeight);\n    } else {\n      return scaleLinear()\n        .range([availableHeight, 0])\n        .domain([0, max(flatData, d => d.y) || 1])\n        .nice();\n    }\n  };\n\n  getXScale = (\n    { startDate, endDate } /*: Props */,\n    availableWidth /*: number */,\n    flatData /*: Array<Point> */\n  ) => {\n    const dateRange = extent(flatData, d => d.x);\n    const start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    const end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    const xScale = scaleTime()\n      .domain(sortBy([start, end]))\n      .range([0, availableWidth])\n      .clamp(false);\n    return {\n      xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  getScales = (props /*: Props */) => {\n    const availableWidth = props.width - props.padding[1] - props.padding[3];\n    const availableHeight = props.height - props.padding[0] - props.padding[2];\n    const flatData = flatten(props.series.map((serie /*: Serie */) => serie.data));\n    return {\n      ...this.getXScale(props, availableWidth, flatData),\n      yScale: this.getYScale(props, availableHeight, flatData)\n    };\n  };\n\n  getSelectedDatePos = (xScale /*: Scale */, selectedDate /*: ?Date */) => {\n    const firstSerie = this.props.series[0];\n    if (selectedDate && firstSerie) {\n      const idx = firstSerie.data.findIndex(\n        // $FlowFixMe selectedDate can't be null there\n        p => p.x.valueOf() === selectedDate.valueOf()\n      );\n      const xRange = xScale.range().sort();\n      const xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: null, selectedDateXPos: null, selectedDateIdx: null };\n  };\n\n  getEventMarker = (size /*: number */) => {\n    const half = size / 2;\n    return `M${half} 0 L${size} ${half} L ${half} ${size} L0 ${half} L${half} 0 L${size} ${half}`;\n  };\n\n  getMouseOverlayPos = (target /*: HTMLElement */) => {\n    if (this.state.mouseOverlayPos) {\n      return this.state.mouseOverlayPos;\n    }\n    const pos = target.getBoundingClientRect();\n    this.setState({ mouseOverlayPos: pos });\n    return pos;\n  };\n\n  handleWheel = (evt /*: WheelEvent & { target: HTMLElement } */) => {\n    evt.preventDefault();\n    const { maxXRange, xScale } = this.state;\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    const mouseXPos = (evt.pageX - parentBbox.left) / parentBbox.width;\n    const xRange = xScale.range();\n    const speed = evt.deltaMode ? 25 / evt.deltaMode * this.props.zoomSpeed : this.props.zoomSpeed;\n    const leftPos = xRange[0] - Math.round(speed * evt.deltaY * mouseXPos);\n    const rightPos = xRange[1] + Math.round(speed * evt.deltaY * (1 - mouseXPos));\n    const startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : null;\n    const endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : null;\n    this.handleZoomUpdate(startDate, endDate);\n  };\n\n  handleZoomUpdate = (startDate /*: ?Date */, endDate /*: ?Date */) => {\n    if (this.props.updateZoom) {\n      this.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  handleMouseMove = (evt /*: MouseEvent & { target: HTMLElement } */) => {\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    this.updateTooltipPos(evt.pageX - parentBbox.left);\n  };\n\n  handleMouseEnter = () => this.setState({ mouseOver: true });\n\n  handleMouseOut = (evt /*: Event & { relatedTarget: HTMLElement } */) => {\n    const { updateTooltip } = this.props;\n    const targetClass =\n      evt.relatedTarget && typeof evt.relatedTarget.className === 'string'\n        ? evt.relatedTarget.className\n        : '';\n    if (\n      !updateTooltip ||\n      targetClass.includes('bubble-popup') ||\n      targetClass.includes('graph-tooltip')\n    ) {\n      return;\n    }\n    this.setState({\n      mouseOver: false,\n      selectedDate: null,\n      selectedDateXPos: null,\n      selectedDateIdx: null\n    });\n    updateTooltip(null, null, null);\n  };\n\n  handleClick = () => {\n    const { updateSelectedDate } = this.props;\n    if (updateSelectedDate) {\n      updateSelectedDate(this.state.selectedDate);\n    }\n  };\n\n  updateTooltipPos = (xPos /*: number */) => {\n    const firstSerie = this.props.series[0];\n    if (this.state.mouseOver && firstSerie) {\n      const { updateTooltip } = this.props;\n      const date = this.state.xScale.invert(xPos);\n      const bisectX = bisector(d => d.x).right;\n      let idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        const previousPoint = firstSerie.data[idx - 1];\n        const nextPoint = firstSerie.data[idx];\n        if (!nextPoint || (previousPoint && date - previousPoint.x <= nextPoint.x - date)) {\n          idx--;\n        }\n        const selectedDate = firstSerie.data[idx].x;\n        const xPos = this.state.xScale(selectedDate);\n        this.setState({ selectedDate, selectedDateXPos: xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, xPos, idx);\n        }\n      }\n    }\n  };\n\n  renderHorizontalGrid = () => {\n    const { formatYTick } = this.props;\n    const { xScale, yScale } = this.state;\n    const hasTicks = typeof yScale.ticks === 'function';\n    const ticks = hasTicks ? yScale.ticks(4) : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    return (\n      <g>\n        {ticks.map(tick => (\n          <g key={tick}>\n            {formatYTick != null && (\n              <text\n                className=\"line-chart-tick line-chart-tick-x\"\n                dx=\"-1em\"\n                dy=\"0.3em\"\n                textAnchor=\"end\"\n                x={xScale.range()[0]}\n                y={yScale(tick)}>\n                {formatYTick(tick)}\n              </text>\n            )}\n            <line\n              className=\"line-chart-grid\"\n              x1={xScale.range()[0]}\n              x2={xScale.range()[1]}\n              y1={yScale(tick)}\n              y2={yScale(tick)}\n            />\n          </g>\n        ))}\n      </g>\n    );\n  };\n\n  renderXAxisTicks = () => {\n    const { xScale, yScale } = this.state;\n    const format = xScale.tickFormat(7);\n    const ticks = xScale.ticks(7);\n    const y = yScale.range()[0];\n    return (\n      <g>\n        {ticks.slice(0, -1).map((tick, index) => {\n          const nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n          const x = (xScale(tick) + xScale(nextTick)) / 2;\n          return (\n            <text key={index} className=\"line-chart-tick\" x={x} y={y} dy=\"1.5em\">\n              {format(tick)}\n            </text>\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderLeak = () => {\n    const yRange = this.state.yScale.range();\n    const xRange = this.state.xScale.range();\n    const leakWidth = xRange[xRange.length - 1] - this.state.xScale(this.props.leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return (\n      <rect\n        className=\"leak-chart-rect\"\n        x={this.state.xScale(this.props.leakPeriodDate)}\n        y={yRange[yRange.length - 1]}\n        width={leakWidth}\n        height={yRange[0] - yRange[yRange.length - 1]}\n        fill=\"#fbf3d5\"\n      />\n    );\n  };\n\n  renderLines = () => {\n    const lineGenerator = d3Line()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y(d => this.state.yScale(d.y));\n    if (this.props.basisCurve) {\n      lineGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-path', 'line-chart-path-' + idx)}\n            d={lineGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderAreas = () => {\n    const areaGenerator = area()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y1(d => this.state.yScale(d.y))\n      .y0(this.state.yScale(0));\n    if (this.props.basisCurve) {\n      areaGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-area', 'line-chart-area-' + idx)}\n            d={areaGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderEvents = () => {\n    const { events, eventSize } = this.props;\n    if (!events || !eventSize) {\n      return null;\n    }\n    const { xScale, yScale } = this.state;\n    const inRangeEvents = events.filter(\n      event => event.date >= xScale.domain()[0] && event.date <= xScale.domain()[1]\n    );\n    const offset = eventSize / 2;\n    return (\n      <g>\n        {inRangeEvents.map((event, idx) => (\n          <path\n            d={this.getEventMarker(eventSize)}\n            className={classNames('line-chart-event', event.className)}\n            key={`${idx}-${event.date.getTime()}`}\n            transform={`translate(${xScale(event.date) - offset}, ${yScale.range()[0] + offset})`}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderSelectedDate = () => {\n    const { selectedDateIdx, selectedDateXPos, yScale } = this.state;\n    const firstSerie = this.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return (\n      <g>\n        <line\n          className=\"line-tooltip\"\n          x1={selectedDateXPos}\n          x2={selectedDateXPos}\n          y1={yScale.range()[0]}\n          y2={yScale.range()[1]}\n        />\n        {this.props.series.map((serie, idx) => {\n          const point = serie.data[selectedDateIdx];\n          if (!point || (!point.y && point.y !== 0)) {\n            return null;\n          }\n          return (\n            <circle\n              key={serie.name}\n              cx={selectedDateXPos}\n              cy={yScale(point.y)}\n              r=\"4\"\n              className={classNames('line-chart-dot', 'line-chart-dot-' + idx)}\n            />\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderClipPath = () => {\n    return (\n      <defs>\n        <clipPath id=\"chart-clip\">\n          <rect\n            width={this.state.xScale.range()[1]}\n            height={this.state.yScale.range()[0] + 10}\n            transform=\"translate(0,-5)\"\n          />\n        </clipPath>\n      </defs>\n    );\n  };\n\n  renderMouseEventsOverlay = (zoomEnabled /*: boolean */) => {\n    const mouseEvents = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = this.handleWheel;\n    }\n    if (this.props.updateTooltip) {\n      mouseEvents.onMouseEnter = this.handleMouseEnter;\n      mouseEvents.onMouseMove = this.handleMouseMove;\n      mouseEvents.onMouseOut = this.handleMouseOut;\n    }\n    if (this.props.updateSelectedDate) {\n      mouseEvents.onClick = this.handleClick;\n    }\n    return (\n      <rect\n        className=\"chart-mouse-events-overlay\"\n        width={this.state.xScale.range()[1]}\n        height={this.state.yScale.range()[0]}\n        {...mouseEvents}\n      />\n    );\n  };\n\n  render() {\n    if (!this.props.width || !this.props.height) {\n      return <div />;\n    }\n    const zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n    const isZoomed = this.props.startDate || this.props.endDate;\n    return (\n      <svg\n        className={classNames('line-chart', { 'chart-zoomed': isZoomed })}\n        width={this.props.width}\n        height={this.props.height}>\n        {zoomEnabled && this.renderClipPath()}\n        <g transform={`translate(${this.props.padding[3]}, ${this.props.padding[0]})`}>\n          {this.props.leakPeriodDate != null && this.renderLeak()}\n          {!this.props.hideGrid && this.renderHorizontalGrid()}\n          {!this.props.hideXAxis && this.renderXAxisTicks()}\n          {this.props.showAreas && this.renderAreas()}\n          {this.renderLines()}\n          {this.props.showEventMarkers && this.renderEvents()}\n          {this.renderSelectedDate()}\n          {this.renderMouseEventsOverlay(zoomEnabled)}\n        </g>\n      </svg>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/AdvancedTimeline.js","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport Rating from '../../../components/ui/Rating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  lastChange?: string;\n}\n\nexport default function RatingFreshness({ lastChange }: Props) {\n  if (!lastChange) {\n    return <div className=\"portfolio-freshness\">&nbsp;</div>;\n  }\n\n  const data = JSON.parse(lastChange);\n\n  return (\n    <div className=\"portfolio-freshness\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.was_x_y')}\n        id=\"portfolio.was_x_y\"\n        values={{\n          rating: <Rating value={data.value} small={true} />,\n          date: <DateFromNow date={data.date} />\n        }}\n      />\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/RatingFreshness.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  effort: { projects: number; rating: number };\n  metricKey: string;\n}\n\nexport default function Effort({ component, effort, metricKey }: Props) {\n  return (\n    <div className=\"portfolio-effort\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.x_in_y')}\n        id=\"portfolio.x_in_y\"\n        values={{\n          projects: (\n            <Link to={getComponentDrilldownUrl(component, metricKey)}>\n              <span>\n                <Measure\n                  measure={{\n                    metric: { key: 'projects', type: 'SHORT_INT' },\n                    value: String(effort.projects)\n                  }}\n                />{' '}\n                {translate('projects_')}\n              </span>\n            </Link>\n          ),\n          rating: <Rating small={true} value={effort.rating} />\n        }}\n      />\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Effort.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { HistoryIcon } from '../../../components/icons-components/icons';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function HistoryButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small button-compact spacer-left text-text-bottom\"\n      to={getMeasureHistoryUrl(component, metric)}>\n      <HistoryIcon size={14} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Rating from '../../../components/ui/Rating';\nimport { getMeasureTreemapUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n  value: string;\n}\n\nexport default function MainRating({ component, metric, value }: Props) {\n  return (\n    <Link to={getMeasureTreemapUrl(component, metric)} className=\"portfolio-box-rating\">\n      <Rating value={value} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MainRating.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BubblesIcon from '../../../components/icons-components/BubblesIcon';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function MeasuresButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small button-compact spacer-left text-text-bottom\"\n      to={getComponentDrilldownUrl(component, metric)}>\n      <BubblesIcon size={14} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { minBy } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport AdvancedTimeline from '../charts/AdvancedTimeline';\nimport PreviewGraphTooltips from './PreviewGraphTooltips';\nimport {\n  DEFAULT_GRAPH,\n  getDisplayedHistoryMetrics,\n  generateSeries,\n  getSeriesMetricType,\n  hasHistoryDataValue,\n  splitSeriesInGraphs\n} from '../../apps/projectActivity/utils';\nimport { getCustomGraph, getGraph } from '../../helpers/storage';\nimport { formatMeasure, getShortType } from '../../helpers/measures';\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n/*:: import type { History, Metric } from '../../apps/overview/types'; */\n\n/*::\ntype Props = {\n  branch?: string,\n  history: ?History,\n  metrics: Array<Metric>,\n  project: string,\n  renderWhenEmpty?: () => void\n};\n*/\n\n/*::\ntype State = {\n  customMetrics: Array<string>,\n  graph: string,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nconst GRAPH_PADDING = [4, 0, 4, 0];\nconst MAX_GRAPH_NB = 1;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport default class PreviewGraph extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static contextTypes = {\n    router: PropTypes.object\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const graph = getGraph();\n    const customMetrics = getCustomGraph();\n    const series = splitSeriesInGraphs(\n      this.getSeries(props.history, graph, customMetrics, props.metrics),\n      MAX_GRAPH_NB,\n      MAX_SERIES_PER_GRAPH\n    );\n    this.state = {\n      customMetrics,\n      graph,\n      selectedDate: null,\n      series: series.length > 0 ? series[0] : [],\n      tooltipIdx: null,\n      tooltipXPos: null\n    };\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n      const graph = getGraph();\n      const customMetrics = getCustomGraph();\n      const series = splitSeriesInGraphs(\n        this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics),\n        MAX_GRAPH_NB,\n        MAX_SERIES_PER_GRAPH\n      );\n      this.setState({\n        customMetrics,\n        graph,\n        series: series.length > 0 ? series[0] : []\n      });\n    }\n  }\n\n  formatValue = (tick /*: number | string */) =>\n    formatMeasure(tick, getShortType(getSeriesMetricType(this.state.series)));\n\n  getDisplayedMetrics = (graph /*: string */, customMetrics /*: Array<string> */) => {\n    const metrics /*: Array<string> */ = getDisplayedHistoryMetrics(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return getDisplayedHistoryMetrics(DEFAULT_GRAPH, customMetrics);\n    }\n    return metrics;\n  };\n\n  getSeries = (\n    history /*: ?History */,\n    graph /*: string */,\n    customMetrics /*: Array<string> */,\n    metrics /*: Array<Metric> */\n  ) => {\n    const myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    const displayedMetrics = this.getDisplayedMetrics(graph, customMetrics);\n    const firstValid = minBy(\n      displayedMetrics.map(metric => myHistory[metric].find(p => p.value || p.value === 0)),\n      'date'\n    );\n    const measureHistory = displayedMetrics.map(metric => ({\n      metric,\n      history: firstValid\n        ? myHistory[metric].filter(p => p.date >= firstValid.date)\n        : myHistory[metric]\n    }));\n    return generateSeries(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  handleClick = () => {\n    this.context.router.push({\n      pathname: '/project/activity',\n      query: { id: this.props.project, branch: this.props.branch }\n    });\n  };\n\n  updateTooltip = (\n    selectedDate /*: ?Date */,\n    tooltipXPos /*: ?number */,\n    tooltipIdx /*: ?number */\n  ) => this.setState({ selectedDate, tooltipXPos, tooltipIdx });\n\n  renderTimeline() {\n    const { graph, selectedDate, series, tooltipIdx, tooltipXPos } = this.state;\n    return (\n      <AutoSizer disableHeight={true}>\n        {({ width }) => (\n          <div>\n            <AdvancedTimeline\n              endDate={null}\n              startDate={null}\n              height={80}\n              width={width}\n              hideGrid={true}\n              hideXAxis={true}\n              interpolate=\"linear\"\n              metricType={getSeriesMetricType(series)}\n              padding={GRAPH_PADDING}\n              series={series}\n              showAreas={['coverage', 'duplications'].includes(graph)}\n              updateTooltip={this.updateTooltip}\n            />\n            {selectedDate != null &&\n            tooltipXPos != null &&\n            tooltipIdx != null && (\n              <PreviewGraphTooltips\n                formatValue={this.formatValue}\n                graph={graph}\n                graphWidth={width}\n                metrics={this.props.metrics}\n                selectedDate={selectedDate}\n                series={series}\n                tooltipIdx={tooltipIdx}\n                tooltipPos={tooltipXPos}\n              />\n            )}\n          </div>\n        )}\n      </AutoSizer>\n    );\n  }\n\n  render() {\n    const { series } = this.state;\n    if (!hasHistoryDataValue(series)) {\n      return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n    }\n\n    return (\n      <div\n        className=\"overview-analysis-graph big-spacer-bottom spacer-top\"\n        onClick={this.handleClick}\n        tabIndex={0}\n        role=\"link\">\n        {this.renderTimeline()}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraph.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport BubblePopup from '../common/BubblePopup';\nimport DateFormatter from '../intl/DateFormatter';\nimport PreviewGraphTooltipsContent from './PreviewGraphTooltipsContent';\n/*:: import type { Metric } from '../types'; */\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  metrics: Array<Metric>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nconst TOOLTIP_WIDTH = 160;\n\nexport default class PreviewGraphTooltips extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    const { tooltipIdx } = this.props;\n    const top = 16;\n    let left = this.props.tooltipPos;\n    let customClass;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n      left -= TOOLTIP_WIDTH;\n      customClass = 'bubble-popup-right';\n    }\n\n    return (\n      <BubblePopup customClass={customClass} position={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"overview-analysis-graph-tooltip\">\n          <div className=\"overview-analysis-graph-tooltip-title\">\n            <DateFormatter date={this.props.selectedDate} long={true} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>\n              {this.props.series.map((serie, idx) => {\n                const point = serie.data[tooltipIdx];\n                if (!point || (!point.y && point.y !== 0)) {\n                  return null;\n                }\n                return (\n                  <PreviewGraphTooltipsContent\n                    key={serie.name}\n                    style={idx.toString()}\n                    translatedName={serie.translatedName}\n                    value={this.props.formatValue(point.y)}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </BubblePopup>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraphTooltips.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ChartLegendIcon from '../icons-components/ChartLegendIcon';\n\n/*::\ntype Props = {\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nexport default function PreviewGraphTooltipsContent({ style, translatedName, value } /*: Props */) {\n  return (\n    <tr className=\"overview-analysis-graph-tooltip-line\">\n      <td className=\"thin\">\n        <ChartLegendIcon\n          className={'little-spacer-right line-chart-legend line-chart-legend-' + style}\n        />\n      </td>\n      <td className=\"overview-analysis-graph-tooltip-value text-right little-spacer-right thin\">\n        {value}\n      </td>\n      <td className=\"text-ellipsis overview-analysis-graph-tooltip-description\">\n        {translatedName}\n      </td>\n    </tr>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.js","/*\n* SonarQube\n* Copyright (C) 2009-2016 SonarSource SA\n* mailto:contact AT sonarsource DOT com\n*\n* This program is free software; you can redistribute it and/or\n* modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ReportStatus {\n  canDownload?: boolean;\n  canSubscribe: boolean;\n  componentFrequency?: string;\n  globalFrequency: string;\n  subscribed?: boolean;\n}\n\nexport function getReportStatus(component: string): Promise<ReportStatus> {\n  return getJSON('/api/governance_reports/status', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getReportUrl(component: string): string {\n  return (\n    (window as any).baseUrl +\n    '/api/governance_reports/download?componentKey=' +\n    encodeURIComponent(component)\n  );\n}\n\nexport function subscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/subscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function unsubscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/unsubscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/api/report.ts","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getDisplayedHistoryMetrics, DEFAULT_GRAPH } from '../../projectActivity/utils';\nimport PreviewGraph from '../../../components/preview-graph/PreviewGraph';\nimport { getMetrics } from '../../../api/metrics';\nimport { getAllTimeMachineData } from '../../../api/time-machine';\nimport { Metric } from '../../../app/types';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { getCustomGraph, getGraph } from '../../../helpers/storage';\n\nconst AnyPreviewGraph = PreviewGraph as any;\n\ninterface History {\n  [metric: string]: Array<{ date: Date; value: string }>;\n}\n\ninterface Props {\n  component: string;\n}\n\ninterface State {\n  history?: History;\n  loading: boolean;\n  metrics?: Metric[];\n}\n\nexport default class Activity extends React.PureComponent<Props> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchHistory();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchHistory = () => {\n    const { component } = this.props;\n\n    let graphMetrics = getDisplayedHistoryMetrics(getGraph(), getCustomGraph());\n    if (!graphMetrics || graphMetrics.length <= 0) {\n      graphMetrics = getDisplayedHistoryMetrics(DEFAULT_GRAPH, []);\n    }\n\n    this.setState({ loading: true });\n    return Promise.all([getAllTimeMachineData(component, graphMetrics), getMetrics()]).then(\n      ([timeMachine, metrics]) => {\n        if (this.mounted) {\n          const history: History = {};\n          timeMachine.measures.forEach(measure => {\n            const measureHistory = measure.history.map(analysis => ({\n              date: parseDate(analysis.date),\n              value: analysis.value\n            }));\n            history[measure.metric] = measureHistory;\n          });\n          this.setState({ history, loading: false, metrics });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWhenEmpty = () => <div className=\"note\">{translate('component_measures.no_history')}</div>;\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <h4>{translate('project_activity.page')}</h4>\n\n        {this.state.loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          this.state.metrics != undefined &&\n          this.state.history != undefined && (\n            <AnyPreviewGraph\n              history={this.state.history}\n              metrics={this.state.metrics}\n              project={this.props.component}\n              renderWhenEmpty={this.renderWhenEmpty}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Activity.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MainRating from './MainRating';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function MaintainabilityBox({ component, measures }: Props) {\n  const rating = measures['sqale_rating'];\n  const lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n  const rawEffort = measures['maintainability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-maintainability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Maintainability')}\n        <MeasuresButtonLink component={component} metric=\"Maintainability\" />\n        <HistoryButtonLink component={component} metric=\"sqale_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric={'sqale_rating'} value={rating} />}\n\n      <RatingFreshness lastChange={lastMaintainabilityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey={'sqale_rating'} />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RatingFreshness from './RatingFreshness';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReleasabilityBox({ component, measures }: Props) {\n  const rating = measures['releasability_rating'];\n  const lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n  const effort = measures['releasability_effort'];\n\n  return (\n    <div className=\"portfolio-box portfolio-releasability\">\n      <h2 className=\"portfolio-box-title\">{translate('metric_domain.Releasability')}</h2>\n\n      {rating && (\n        <Link\n          to={getComponentDrilldownUrl(component, 'alert_status')}\n          className=\"portfolio-box-rating\">\n          <Rating value={rating} />\n        </Link>\n      )}\n\n      <RatingFreshness lastChange={lastReleasabilityChange} />\n\n      {effort &&\n      Number(effort) > 0 && (\n        <div className=\"portfolio-effort\">\n          <Link to={getComponentDrilldownUrl(component, 'alert_status')}>\n            <span>\n              <Measure\n                measure={{ metric: { key: 'projects', type: 'SHORT_INT' }, value: effort }}\n              />{' '}\n              {Number(effort) === 1 ? 'project' : 'projects'}\n            </span>\n          </Link>{' '}\n          <span className=\"level level-ERROR level-small\">{translate('metric.level.ERROR')}</span>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport MainRating from './MainRating';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReliabilityBox({ component, measures }: Props) {\n  const rating = measures['reliability_rating'];\n  const lastReliabilityChange = measures['last_change_on_reliability_rating'];\n  const rawEffort = measures['reliability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-reliability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Reliability')}\n        <MeasuresButtonLink component={component} metric=\"Reliability\" />\n        <HistoryButtonLink component={component} metric=\"reliability_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"reliability_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastReliabilityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"reliability_rating\" />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SubscriptionContainer from './SubscriptionContainer';\nimport { getReportStatus, ReportStatus, getReportUrl } from '../../../api/report';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  status?: ReportStatus;\n}\n\nexport default class Report extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadStatus();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStatus() {\n    getReportStatus(this.props.component.key).then(\n      status => {\n        if (this.mounted) {\n          this.setState({ status, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  renderHeader = () => <h4>{translate('report.page')}</h4>;\n\n  render() {\n    const { component } = this.props;\n    const { status, loading } = this.state;\n\n    if (loading) {\n      return (\n        <div>\n          {this.renderHeader()}\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    if (!status) {\n      return null;\n    }\n\n    return (\n      <div>\n        {this.renderHeader()}\n\n        {!status.canDownload && (\n          <div className=\"note js-report-cant-download\">{translate('report.cant_download')}</div>\n        )}\n\n        {status.canDownload && (\n          <div className=\"js-report-can-download\">\n            {translate('report.can_download')}\n            <div className=\"spacer-top\">\n              <a\n                className=\"button js-report-download\"\n                href={getReportUrl(component.key)}\n                target=\"_blank\"\n                download={component.name + ' - Executive Report.pdf'}>\n                {translate('report.print')}\n              </a>\n            </div>\n          </div>\n        )}\n\n        {status.canSubscribe && <SubscriptionContainer component={component.key} status={status} />}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Report.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport MainRating from './MainRating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function SecurityBox({ component, measures }: Props) {\n  const rating = measures['security_rating'];\n  const lastSecurityChange = measures['last_change_on_security_rating'];\n  const rawEffort = measures['security_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-security\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Security')}\n        <MeasuresButtonLink component={component} metric=\"Security\" />\n        <HistoryButtonLink component={component} metric=\"security_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"security_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastSecurityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"security_rating\" />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/SecurityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ReportStatus, subscribe, unsubscribe } from '../../../api/report';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  currentUser: { email?: string };\n  status: ReportStatus;\n}\n\ninterface State {\n  loading: boolean;\n  subscribed?: boolean;\n}\n\nexport default class Subscription extends React.PureComponent<Props, State> {\n  mounted: boolean;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { subscribed: props.status.subscribed, loading: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.status.subscribed !== this.props.status.subscribed) {\n      this.setState({ subscribed: nextProps.status.subscribed });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleSubscription = (subscribed: boolean) => {\n    if (this.mounted) {\n      this.setState({ loading: false, subscribed });\n    }\n  };\n\n  handleSubscribe = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.currentTarget.blur();\n    this.setState({ loading: true });\n    subscribe(this.props.component)\n      .then(() => this.handleSubscription(true))\n      .catch(this.stopLoading);\n  };\n\n  handleUnsubscribe = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.currentTarget.blur();\n    this.setState({ loading: true });\n    unsubscribe(this.props.component)\n      .then(() => this.handleSubscription(false))\n      .catch(this.stopLoading);\n  };\n\n  getEffectiveFrequencyText = () => {\n    const effectiveFrequency =\n      this.props.status.componentFrequency || this.props.status.globalFrequency;\n    return translate('report.frequency', effectiveFrequency, 'effective');\n  };\n\n  renderLoading = () => this.state.loading && <i className=\"spacer-left spinner\" />;\n\n  renderWhenSubscribed = () => (\n    <div className=\"js-subscribed\">\n      <div className=\"spacer-bottom\">\n        <i className=\"icon-check pull-left spacer-right\" />\n        <div className=\"overflow-hidden\">\n          {translateWithParameters('report.subscribed', this.getEffectiveFrequencyText())}\n        </div>\n      </div>\n      <button onClick={this.handleUnsubscribe}>{translate('report.unsubscribe')}</button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  renderWhenNotSubscribed = () => (\n    <div className=\"js-not-subscribed\">\n      <p className=\"spacer-bottom\">\n        {translateWithParameters('report.unsubscribed', this.getEffectiveFrequencyText())}\n      </p>\n      <button className=\"js-report-subscribe\" onClick={this.handleSubscribe}>\n        {translate('report.subscribe')}\n      </button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  render() {\n    const hasEmail = !!this.props.currentUser.email;\n    const { subscribed } = this.state;\n\n    let inner;\n    if (hasEmail) {\n      inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n    } else {\n      inner = <p className=\"note js-no-email\">{translate('report.no_email_to_subscribe')}</p>;\n    }\n\n    return <div className=\"big-spacer-top js-report-subscription\">{inner}</div>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Subscription.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport Subscription from './Subscription';\nimport { getCurrentUser } from '../../../store/rootReducer';\n\nconst mapStateToProps = (state: any) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(Subscription);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: { description?: string; key: string };\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function Summary({ component, measures }: Props) {\n  const projects = measures['projects'];\n  const ncloc = measures['ncloc'];\n  const nclocDistribution = measures['ncloc_language_distribution'];\n\n  return (\n    <section id=\"portfolio-summary\" className=\"big-spacer-bottom\">\n      {component.description && <div className=\"big-spacer-bottom\">{component.description}</div>}\n\n      <ul className=\"portfolio-grid\">\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            <Link to={getComponentDrilldownUrl(component.key, 'projects')}>\n              <Measure\n                measure={{ metric: { key: 'projects', type: 'SHORT_INT' }, value: projects }}\n              />\n            </Link>\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('projects')}</div>\n        </li>\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            <Link to={getComponentDrilldownUrl(component.key, 'ncloc')}>\n              <Measure measure={{ metric: { key: 'ncloc', type: 'SHORT_INT' }, value: ncloc }} />\n            </Link>\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('metric.ncloc.name')}</div>\n        </li>\n      </ul>\n\n      {nclocDistribution && (\n        <div className=\"big-spacer-top\">\n          <LanguageDistributionContainer distribution={nclocDistribution} width={260} />\n        </div>\n      )}\n    </section>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Summary.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { max } from 'lodash';\nimport { SubComponent } from '../types';\nimport Measure from '../../../components/measure/Measure';\nimport QualifierIcon from '../../../components/shared/QualifierIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  subComponents: SubComponent[];\n  total: number;\n}\n\nexport default function WorstProjects({ component, subComponents, total }: Props) {\n  const count = subComponents.length;\n\n  if (!count) {\n    return null;\n  }\n\n  const maxLoc = max(\n    subComponents.map(component => Number(component.measures['ncloc'] || 0))\n  ) as number;\n\n  const projectsPageUrl = { pathname: '/code', query: { id: component } };\n\n  return (\n    <div className=\"panel panel-white portfolio-sub-components\" id=\"portfolio-sub-components\">\n      <table className=\"data zebra\">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Releasability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Reliability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Security')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Maintainability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric.ncloc.name')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {subComponents.map(component => (\n            <tr key={component.key}>\n              <td>\n                <Link\n                  to={getProjectUrl(component.refKey || component.key)}\n                  className=\"link-with-icon\">\n                  <QualifierIcon qualifier={component.qualifier} /> {component.name}\n                </Link>\n              </td>\n              {component.qualifier === 'TRK' ? (\n                renderCell(component.measures, 'alert_status', 'LEVEL')\n              ) : (\n                renderCell(component.measures, 'releasability_rating', 'RATING')\n              )}\n              {renderCell(component.measures, 'reliability_rating', 'RATING')}\n              {renderCell(component.measures, 'security_rating', 'RATING')}\n              {renderCell(component.measures, 'sqale_rating', 'RATING')}\n              {renderNcloc(component.measures, maxLoc)}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {total > count && (\n        <footer className=\"spacer-top note text-center\">\n          {translateWithParameters(\n            'x_of_y_shown',\n            formatMeasure(count, 'INT'),\n            formatMeasure(total, 'INT')\n          )}\n          <Link to={projectsPageUrl} className=\"spacer-left\">\n            {translate('show_more')}\n          </Link>\n        </footer>\n      )}\n    </div>\n  );\n}\n\nfunction renderCell(measures: { [key: string]: string | undefined }, metric: string, type: string) {\n  return (\n    <td className=\"text-center\">\n      <Measure measure={{ metric: { key: metric, type }, value: measures[metric] }} />\n    </td>\n  );\n}\n\nfunction renderNcloc(measures: { [key: string]: string | undefined }, maxLoc: number) {\n  const ncloc = Number(measures['ncloc'] || 0);\n  const barWidth = maxLoc > 0 ? Math.max(1, Math.round(ncloc / maxLoc * 50)) : 0;\n  return (\n    <td className=\"text-right\">\n      <span className=\"note\">\n        <Measure\n          measure={{\n            metric: { key: 'ncloc', type: 'SHORT_INT' },\n            value: measures['ncloc']\n          }}\n        />\n      </span>\n      {maxLoc > 0 && (\n        <svg width=\"50\" height=\"16\" className=\"spacer-left\">\n          <rect className=\"bar-chart-bar\" x=\"0\" y=\"3\" width={barWidth} height=\"10\" />\n        </svg>\n      )}\n    </td>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/WorstProjects.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getNextRating(rating: number): number | undefined {\n  return rating > 1 ? rating - 1 : undefined;\n}\n\nfunction getWorstSeverity(data: string): { severity: string; count: number } | undefined {\n  const SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\n  const severities: { [key: string]: number } = {};\n  data.split(';').forEach(equality => {\n    const [key, count] = equality.split('=');\n    severities[key] = Number(count);\n  });\n\n  for (let i = 0; i < SEVERITY_ORDER.length; i++) {\n    const count = severities[SEVERITY_ORDER[i]];\n    if (count > 0) {\n      return { severity: SEVERITY_ORDER[i], count };\n    }\n  }\n\n  return undefined;\n}\n\nexport function getEffortToNextRating(\n  measures: Array<{ metric: { key: string }; value: string }>,\n  metricKey: string\n) {\n  const measure = measures.find(measure => measure.metric.key === metricKey);\n  if (!measure) {\n    return undefined;\n  }\n  return getWorstSeverity(measure.value);\n}\n\nexport const PORTFOLIO_METRICS = [\n  'projects',\n  'ncloc',\n  'ncloc_language_distribution',\n\n  'releasability_rating',\n  'releasability_effort',\n\n  'sqale_rating',\n  'maintainability_rating_effort',\n\n  'reliability_rating',\n  'reliability_rating_effort',\n\n  'security_rating',\n  'security_rating_effort',\n\n  'last_change_on_releasability_rating',\n  'last_change_on_maintainability_rating',\n  'last_change_on_security_rating',\n  'last_change_on_reliability_rating'\n];\n\nexport const SUB_COMPONENTS_METRICS = [\n  'ncloc',\n  'releasability_rating',\n  'security_rating',\n  'reliability_rating',\n  'sqale_rating',\n  'alert_status'\n];\n\nexport function convertMeasures(measures: Array<{ metric: string; value?: string }>) {\n  const result: { [key: string]: string | undefined } = {};\n  measures.forEach(measure => {\n    result[measure.metric] = measure.value;\n  });\n  return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/utils.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".portfolio-measure-secondary-value {\\n  line-height: 24px;\\n  font-size: 18px;\\n  font-weight: 300;\\n}\\n\\n.portfolio-grid {\\n  position: relative;\\n  z-index: 10;\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n}\\n\\n.portfolio-grid > li {\\n  vertical-align: top;\\n  width: 50%;\\n  text-align: center;\\n}\\n\\n.portfolio-grid > li.text-middle {\\n  vertical-align: middle;\\n}\\n\\n.portfolio-freshness {\\n  line-height: 24px;\\n  margin-top: 12px;\\n  color: #777;\\n  font-size: 12px;\\n  white-space: nowrap;\\n}\\n\\n.portfolio-effort {\\n  margin-top: 12px;\\n  padding-top: 12px;\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.portfolio-boxes {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: stretch;\\n  margin-bottom: 20px;\\n  padding: 15px 0;\\n  border: 1px solid #e6e6e6;\\n  background-color: #fff;\\n}\\n\\n.portfolio-box {\\n  position: relative;\\n  width: 25%;\\n  padding: 0 5px;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  text-align: center;\\n}\\n\\n.portfolio-box-title {\\n  margin-bottom: 25px;\\n  font-size: 16px;\\n}\\n\\n.portfolio-box-title > .button-small > svg {\\n  margin-top: 0;\\n}\\n\\n.portfolio-box-rating,\\n.portfolio-box-rating .rating {\\n  display: block;\\n  width: 120px;\\n  height: 120px;\\n  line-height: 120px;\\n}\\n\\n.portfolio-box-rating {\\n  margin: 0 auto;\\n  border: none;\\n}\\n\\n.portfolio-box-rating .rating {\\n  border-radius: 120px;\\n  font-size: 60px;\\n  text-align: center;\\n}\\n\\n.portfolio-sub-components table.data > thead > tr > th {\\n  font-size: 13px;\\n  text-transform: none;\\n}\\n\\n.portfolio-sub-components-cell {\\n  width: 90px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader/lib?{\"plugins\":[null]}!./src/main/js/apps/portfolio/styles.css\n// module id = 2653\n// module chunks = 244","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/js/apps/portfolio/styles.css\n// module id = 2712\n// module chunks = 244"],"sourceRoot":""}